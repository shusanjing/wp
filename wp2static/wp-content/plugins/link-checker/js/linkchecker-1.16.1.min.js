var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,g,m){n instanceof String&&(n=String(n));for(var a=n.length,b=0;b<a;b++){var d=n[b];if(g.call(m,d,b,n))return{i:b,v:d}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,g,m){n!=Array.prototype&&n!=Object.prototype&&(n[g]=m.value)};$jscomp.getGlobal=function(n){return"undefined"!=typeof window&&window===n?n:"undefined"!=typeof global&&null!=global?global:n};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(n,g,m,a){if(g){m=$jscomp.global;n=n.split(".");for(a=0;a<n.length-1;a++){var b=n[a];b in m||(m[b]={});m=m[b]}n=n[n.length-1];a=m[n];g=g(a);g!=a&&null!=g&&$jscomp.defineProperty(m,n,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,m){return $jscomp.findInternal(this,n,m).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(n){var g=0;return function(){return g<n.length?{done:!1,value:n[g++]}:{done:!0}}};
$jscomp.arrayIterator=function(n){return{next:$jscomp.arrayIteratorImpl(n)}};$jscomp.makeIterator=function(n){var g="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return g?g.call(n):$jscomp.arrayIterator(n)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(n){function g(){this.batch_=null}function m(l){return l instanceof b?l:new b(function(b,a){b(l)})}if(n&&!$jscomp.FORCE_POLYFILL_PROMISE)return n;g.prototype.asyncExecute=function(b){if(null==this.batch_){this.batch_=[];var l=this;this.asyncExecuteFunction(function(){l.executeBatch_()})}this.batch_.push(b)};var a=$jscomp.global.setTimeout;g.prototype.asyncExecuteFunction=function(b){a(b,0)};g.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};g.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var b=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{b(a.resolve,a.reject)}catch(k){a.reject(k)}};b.prototype.createResolveAndReject_=function(){function b(b){return function(l){d||(d=!0,b.call(a,l))}}var a=this,d=!1;
return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var l=null!=a;break a;case "function":l=!0;break a;default:l=!1}l?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(b){var a=void 0;try{a=b.then}catch(k){this.reject_(k);return}"function"==typeof a?
this.settleSameAsThenable_(a,b):this.fulfill_(b)};b.prototype.reject_=function(b){this.settle_(2,b)};b.prototype.fulfill_=function(b){this.settle_(1,b)};b.prototype.settle_=function(b,a){if(0!=this.state_)throw Error("Cannot settle("+b+", "+a+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=a;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=0;b<this.onSettledCallbacks_.length;++b)d.asyncExecute(this.onSettledCallbacks_[b]);
this.onSettledCallbacks_=null}};var d=new g;b.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};b.prototype.settleSameAsThenable_=function(b,a){var d=this.createResolveAndReject_();try{b.call(a,d.resolve,d.reject)}catch(r){d.reject(r)}};b.prototype.then=function(a,d){function l(b,a){return"function"==typeof b?function(a){try{q(b(a))}catch(G){n(G)}}:a}var q,n,g=new b(function(b,a){q=b;n=a});this.callWhenSettled_(l(a,q),l(d,n));return g};
b.prototype.catch=function(b){return this.then(void 0,b)};b.prototype.callWhenSettled_=function(b,a){function l(){switch(q.state_){case 1:b(q.result_);break;case 2:a(q.result_);break;default:throw Error("Unexpected state: "+q.state_);}}var q=this;null==this.onSettledCallbacks_?d.asyncExecute(l):this.onSettledCallbacks_.push(l)};b.resolve=m;b.reject=function(a){return new b(function(b,d){d(a)})};b.race=function(a){return new b(function(b,d){for(var l=$jscomp.makeIterator(a),q=l.next();!q.done;q=l.next())m(q.value).callWhenSettled_(b,
d)})};b.all=function(a){var d=$jscomp.makeIterator(a),l=d.next();return l.done?m([]):new b(function(b,a){function q(a){return function(d){k[a]=d;r--;0==r&&b(k)}}var k=[],r=0;do k.push(void 0),r++,m(l.value).callWhenSettled_(q(k.length-1),a),l=d.next();while(!l.done)})};return b},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(n,g){this.$jscomp$symbol$id_=n;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function n(m){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(m||"")+"_"+g++,m)}var g=0;return n}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var n=$jscomp.global.Symbol.iterator;n||(n=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[n]&&$jscomp.defineProperty(Array.prototype,n,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var n=$jscomp.global.Symbol.asyncIterator;n||(n=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(n){$jscomp.initSymbolIterator();n={next:n};n[$jscomp.global.Symbol.iterator]=function(){return this};return n};
$jscomp.iteratorFromArray=function(n,g){$jscomp.initSymbolIterator();n instanceof String&&(n+="");var m=0,a={next:function(){if(m<n.length){var b=m++;return{value:g(b,n[b]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(n){return n?n:function(){return $jscomp.iteratorFromArray(this,function(n){return n})}},"es6","es3");
+function(n){function g(b){var a=b.attr("data-target");a||(a=(a=b.attr("href"))&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));return(a=a&&n(a))&&a.length?a:b.parent()}function m(b){b&&3===b.which||(n(".dropdown-backdrop").remove(),n('[data-toggle="dropdownx"]').each(function(){var a=n(this),d=g(a),k={relatedTarget:this};!d.hasClass("open")||b&&"click"==b.type&&/input|textarea/i.test(b.target.tagName)&&n.contains(d[0],b.target)||(d.trigger(b=n.Event("hide.bs.dropdown",k)),b.isDefaultPrevented()||
(a.attr("aria-expanded","false"),d.removeClass("open").trigger(n.Event("hidden.bs.dropdown",k))))}))}var a=function(b){n(b).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7";a.prototype.toggle=function(b){var a=n(this);if(!a.is(".disabled, :disabled")){var d=g(a);b=d.hasClass("open");m();if(!b){if("ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length)n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",m);var k={relatedTarget:this};
d.trigger(b=n.Event("show.bs.dropdown",k));if(b.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true");d.toggleClass("open").trigger(n.Event("shown.bs.dropdown",k))}return!1}};a.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var a=n(this);b.preventDefault();b.stopPropagation();if(!a.is(".disabled, :disabled")){var d=g(a),k=d.hasClass("open");if(!k&&27!=b.which||k&&27==b.which)return 27==b.which&&d.find('[data-toggle="dropdownx"]').trigger("focus"),
a.trigger("click");a=d.find(".dropdown-menu li:not(.disabled):visible a");a.length&&(d=a.index(b.target),38==b.which&&0<d&&d--,40==b.which&&d<a.length-1&&d++,~d||(d=0),a.eq(d).trigger("focus"))}}};var b=n.fn.dropdown;n.fn.dropdown=function(b){return this.each(function(){var d=n(this),q=d.data("bs.dropdown");q||d.data("bs.dropdown",q=new a(this));"string"==typeof b&&q[b].call(d)})};n.fn.dropdown.Constructor=a;n.fn.dropdown.noConflict=function(){n.fn.dropdown=b;return this};n(document).on("click.bs.dropdown.data-api",
m).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",'[data-toggle="dropdownx"]',a.prototype.toggle).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdownx"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery);/*
 2014, macek <paulmacek@gmail.com>
 @link https://github.com/macek/jquery-serialize-object
 @license BSD
 @version 2.5.0
*/
!function(n,g){"function"==typeof define&&define.amd?define(["exports","jquery"],function(n,a){return g(n,a)}):"undefined"!=typeof exports?(n=require("jquery"),g(exports,n)):g(n,n.jQuery||n.Zepto||n.ender||n.$)}(this,function(n,g){function m(b,d){var l={},q={};this.addPair=function(k){if(!a.validate.test(k.name))return this;var r=k.name;a:switch(g('[name="'+k.name+'"]',d).attr("type")){case "checkbox":k="on"===k.value?!0:k.value;break a;default:k=k.value}for(var n,v=r.match(a.key);void 0!==(n=v.pop());)if(a.push.test(n)){n=
r.replace(/\[\]$/,"");n=(void 0===q[n]&&(q[n]=0),q[n]++);var w=[];k=(w[n]=k,w)}else a.fixed.test(n)?(w=[],k=(w[n]=k,w)):a.named.test(n)&&(w={},k=(w[n]=k,w));return l=b.extend(!0,l,k),this};this.addPairs=function(a){if(!b.isArray(a))throw Error("formSerializer.addPairs expects an Array");for(var d=0,l=a.length;l>d;d++)this.addPair(a[d]);return this};this.serialize=function(){return l};this.serializeJSON=function(){return JSON.stringify(l)}}var a={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,
key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return m.patterns=a,m.serializeObject=function(){return(new m(g,this)).addPairs(this.serializeArray()).serialize()},m.serializeJSON=function(){return(new m(g,this)).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof g.fn&&(g.fn.serializeObject=m.serializeObject,g.fn.serializeJSON=m.serializeJSON),n.FormSerializer=m,m});/*
 localForage -- Offline Storage, Improved
    Version 1.7.1
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
(function(n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).localforage=n()})(function(){return function b(g,m,a){function d(k,q){if(!m[k]){if(!g[k]){var r="function"==typeof require&&require;if(!q&&r)return r(k,!0);if(l)return l(k,!0);q=Error("Cannot find module '"+k+"'");throw q.code="MODULE_NOT_FOUND",q;}q=m[k]=
{exports:{}};g[k][0].call(q.exports,function(b){var a=g[k][1][b];return d(a?a:b)},q,q.exports,b,g,m,a)}return m[k].exports}for(var l="function"==typeof require&&require,q=0;q<a.length;q++)d(a[q]);return d}({1:[function(g,m,a){(function(b){function a(){v=!0;for(var b,a,d=w.length;d;){a=w;w=[];for(b=-1;++b<d;)a[b]();d=w.length}v=!1}var l=b.MutationObserver||b.WebKitMutationObserver;if(l){var q=0;l=new l(a);var k=b.document.createTextNode("");l.observe(k,{characterData:!0});var r=function(){k.data=q=
++q%2}}else if(b.setImmediate||"undefined"===typeof b.MessageChannel)r="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var d=b.document.createElement("script");d.onreadystatechange=function(){a();d.onreadystatechange=null;d.parentNode.removeChild(d);d=null};b.document.documentElement.appendChild(d)}:function(){setTimeout(a,0)};else{var g=new b.MessageChannel;g.port1.onmessage=a;r=function(){g.port2.postMessage(0)}}var v,w=[];m.exports=function(b){1!==w.push(b)||
v||r()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(g,m,a){function b(){}function d(a){if("function"!==typeof a)throw new TypeError("resolver must be a function");this.state=G;this.queue=[];this.outcome=void 0;a!==b&&r(this,a)}function l(b,a,d){this.promise=b;"function"===typeof a&&(this.onFulfilled=a,this.callFulfilled=this.otherCallFulfilled);"function"===typeof d&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}
function q(b,a,d){v(function(){try{var p=a(d)}catch(B){return w.reject(b,B)}p===b?w.reject(b,new TypeError("Cannot resolve promise with itself")):w.resolve(b,p)})}function k(b){var a=b&&b.then;if(b&&"object"===typeof b&&"function"===typeof a)return function(){a.apply(b,arguments)}}function r(b,a){function d(a){l||(l=!0,w.reject(b,a))}function p(a){l||(l=!0,w.resolve(b,a))}var l=!1,k=x(function(){a(p,d)});"error"===k.status&&d(k.value)}function x(b,a){var d={};try{d.value=b(a),d.status="success"}catch(p){d.status=
"error",d.value=p}return d}var v=g(1),w={},D=["REJECTED"],F=["FULFILLED"],G=["PENDING"];m.exports=a=d;d.prototype["catch"]=function(b){return this.then(null,b)};d.prototype.then=function(a,d){if("function"!==typeof a&&this.state===F||"function"!==typeof d&&this.state===D)return this;var k=new this.constructor(b);this.state!==G?q(k,this.state===F?a:d,this.outcome):this.queue.push(new l(k,a,d));return k};l.prototype.callFulfilled=function(b){w.resolve(this.promise,b)};l.prototype.otherCallFulfilled=
function(b){q(this.promise,this.onFulfilled,b)};l.prototype.callRejected=function(b){w.reject(this.promise,b)};l.prototype.otherCallRejected=function(b){q(this.promise,this.onRejected,b)};w.resolve=function(b,a){var d=x(k,a);if("error"===d.status)return w.reject(b,d.value);if(d=d.value)r(b,d);else{b.state=F;b.outcome=a;d=-1;for(var p=b.queue.length;++d<p;)b.queue[d].callFulfilled(a)}return b};w.reject=function(b,a){b.state=D;b.outcome=a;for(var d=-1,p=b.queue.length;++d<p;)b.queue[d].callRejected(a);
return b};a.resolve=function(a){return a instanceof this?a:w.resolve(new this(b),a)};a.reject=function(a){var d=new this(b);return w.reject(d,a)};a.all=function(a){function d(b,a){l.resolve(b).then(function(c){q[a]=c;++r!==p||k||(k=!0,w.resolve(e,q))},function(c){k||(k=!0,w.reject(e,c))})}var l=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var p=a.length,k=!1;if(!p)return this.resolve([]);for(var q=Array(p),r=0,g=-1,e=new this(b);++g<
p;)d(a[g],g);return e};a.race=function(a){function d(b){k.resolve(b).then(function(b){q||(q=!0,w.resolve(g,b))},function(b){q||(q=!0,w.reject(g,b))})}var k=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var l=a.length,q=!1;if(!l)return this.resolve([]);for(var r=-1,g=new this(b);++r<l;)d(a[r]);return g}},{1:1}],3:[function(g,m,a){m="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:
{};"function"!==typeof m.Promise&&(m.Promise=g(2))},{2:2}],4:[function(g,m,a){function b(c,b){c=c||[];b=b||{};try{return new Blob(c,b)}catch(ja){if("TypeError"!==ja.name)throw ja;for(var a=new ("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),f=0;f<c.length;f+=1)a.append(c[f]);return a.getBlob(b.type)}}function d(c,b){b&&c.then(function(c){b(null,c)},function(c){b(c)})}function l(c,b,
a){"function"===typeof b&&c.then(b);if("function"===typeof a)c["catch"](a)}function q(c){"string"!==typeof c&&(console.warn(c+" used as a key, but it is not a string."),c=String(c));return c}function k(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function r(c){return(new z(function(a){var f=c.transaction("local-forage-detect-blob-support","readwrite"),e=b([""]);f.objectStore("local-forage-detect-blob-support").put(e,"key");f.onabort=
function(c){c.preventDefault();c.stopPropagation();a(!1)};f.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),b=navigator.userAgent.match(/Edge\//);a(b||!c||43<=parseInt(c[1],10))}}))["catch"](function(){return!1})}function x(c){return"boolean"===typeof Q?z.resolve(Q):r(c).then(function(c){return Q=c})}function v(c){c=H[c.name];var b={};b.promise=new z(function(c,a){b.resolve=c;b.reject=a});c.deferredOperations.push(b);c.dbReady=c.dbReady?c.dbReady.then(function(){return b.promise}):
b.promise}function w(c){if(c=H[c.name].deferredOperations.pop())return c.resolve(),c.promise}function D(c,b){if(c=H[c.name].deferredOperations.pop())return c.reject(b),c.promise}function F(c,b){return new z(function(a,f){H[c.name]=H[c.name]||L();if(c.db)if(b)v(c),c.db.close();else return a(c.db);var e=[c.name];b&&e.push(c.version);var h=u.open.apply(u,e);b&&(h.onupgradeneeded=function(b){var a=h.result;try{a.createObjectStore(c.storeName),1>=b.oldVersion&&a.createObjectStore("local-forage-detect-blob-support")}catch(aa){if("ConstraintError"===
aa.name)console.warn('The database "'+c.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+c.storeName+'" already exists.');else throw aa;}});h.onerror=function(c){c.preventDefault();f(h.error)};h.onsuccess=function(){a(h.result);w(c)}})}function G(c,b){if(!c.db)return!0;var a=!c.db.objectStoreNames.contains(c.storeName),f=c.version>c.db.version;c.version<c.db.version&&(c.version!==b&&console.warn('The database "'+c.name+"\" can't be downgraded from version "+
c.db.version+" to version "+c.version+"."),c.version=c.db.version);return f||a?(a&&(b=c.db.version+1,b>c.version&&(c.version=b)),!0):!1}function I(c){return new z(function(b,a){var f=new FileReader;f.onerror=a;f.onloadend=function(a){a=btoa(a.target.result||"");b({__local_forage_encoded_blob:!0,data:a,type:c.type})};f.readAsBinaryString(c)})}function O(c){for(var a=atob(c.data),f=a.length,e=new ArrayBuffer(f),h=new Uint8Array(e),d=0;d<f;d++)h[d]=a.charCodeAt(d);return b([e],{type:c.type})}function J(c){var b=
this,a=b._initReady().then(function(){var c=H[b._dbInfo.name];if(c&&c.dbReady)return c.dbReady});l(a,c,c);return a}function p(c){v(c);for(var b=H[c.name],a=b.forages,f=0;f<a.length;f++){var e=a[f];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}c.db=null;return F(c,!1).then(function(b){c.db=b;return G(c)?F(c,!0):b}).then(function(f){c.db=b.db=f;for(var e=0;e<a.length;e++)a[e]._dbInfo.db=f})["catch"](function(b){D(c,b);throw b;})}function B(c,b,a,f){void 0===f&&(f=1);try{var e=c.db.transaction(c.storeName,
b);a(null,e)}catch(Z){if(0<f&&(!c.db||"InvalidStateError"===Z.name||"NotFoundError"===Z.name))return z.resolve().then(function(){if(!c.db||"NotFoundError"===Z.name&&!c.db.objectStoreNames.contains(c.storeName)&&c.version<=c.db.version)return c.db&&(c.version=c.db.version+1),F(c,!0)}).then(function(){return p(c).then(function(){B(c,b,a,f-1)})})["catch"](a);a(Z)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function K(c){var b=.75*c.length,a=c.length,f=0;"="===c[c.length-
1]&&(b--,"="===c[c.length-2]&&b--);var e=new ArrayBuffer(b),h=new Uint8Array(e);for(b=0;b<a;b+=4){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[b]);var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[b+1]);var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[b+2]);var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[b+3]);h[f++]=d<<2|W>>4;h[f++]=(W&15)<<4|k>>2;h[f++]=(k&
3)<<6|l&63}return e}function N(c){c=new Uint8Array(c);var b="",a;for(a=0;a<c.length;a+=3)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c[a]>>2],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(c[a]&3)<<4|c[a+1]>>4],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(c[a+1]&15)<<2|c[a+2]>>6],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c[a+2]&63];2===c.length%3?b=b.substring(0,b.length-1)+"=":1===c.length%3&&
(b=b.substring(0,b.length-2)+"==");return b}function e(c,b,a,f){c.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],a,f)}function y(c,b,a,f,h,d){c.executeSql(a,f,h,function(c,k){k.code===k.SYNTAX_ERR?c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],function(c,l){l.rows.length?d(c,k):e(c,b,function(){c.executeSql(a,f,h,d)},d)},d):d(c,k)},d)}function C(c,b,a,f){var e=this;c=q(c);var h=new z(function(h,d){e.ready().then(function(){void 0===
b&&(b=null);var k=b,l=e._dbInfo;l.serializer.serialize(b,function(b,W){W?d(W):l.db.transaction(function(a){y(a,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[c,b],function(){h(k)},function(c,b){d(b)})},function(b){b.code===b.QUOTA_ERR&&(0<f?h(C.apply(e,[c,k,a,f-1])):d(b))})})})["catch"](d)});d(h,a);return h}function c(c){return new z(function(b,a){c.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",
[],function(a,f){a=[];for(var e=0;e<f.rows.length;e++)a.push(f.rows.item(e).name);b({db:c,storeNames:a})},function(c,b){a(b)})},function(c){a(c)})})}function M(c,b){var a=c.name+"/";c.storeName!==b.storeName&&(a+=c.storeName+"/");return a}function h(c,b){c[b]=function(){var a=arguments;return c.ready().then(function(){return c[b].apply(c,a)})}}function R(){for(var c=1;c<arguments.length;c++){var b=arguments[c];if(b)for(var a in b)b.hasOwnProperty(a)&&(fa(b[a])?arguments[0][a]=b[a].slice():arguments[0][a]=
b[a])}return arguments[0]}var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},u=function(){if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}();
"undefined"===typeof Promise&&g(3);var z=Promise,Q=void 0,H={},A=Object.prototype.toString;g={_driver:"asyncStorage",_initStorage:function(c){function b(){return z.resolve()}var a=this,f={db:null};if(c)for(var e in c)f[e]=c[e];var h=H[f.name];h||(h=L(),H[f.name]=h);h.forages.push(a);a._initReady||(a._initReady=a.ready,a.ready=J);c=[];for(e=0;e<h.forages.length;e++){var d=h.forages[e];d!==a&&c.push(d._initReady()["catch"](b))}var k=h.forages.slice(0);return z.all(c).then(function(){f.db=h.db;return F(f,
!1)}).then(function(c){f.db=c;return G(f,a._defaultConfig.version)?F(f,!0):c}).then(function(c){f.db=h.db=c;a._dbInfo=f;for(c=0;c<k.length;c++){var b=k[c];b!==a&&(b._dbInfo.db=f.db,b._dbInfo.version=f.version)}})},_support:function(){try{if(!u)return!1;var c="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!c||
b)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(Aa){return!1}}(),iterate:function(c,b){var a=this,f=new z(function(b,f){a.ready().then(function(){B(a._dbInfo,"readonly",function(e,h){if(e)return f(e);try{var d=h.objectStore(a._dbInfo.storeName).openCursor(),k=1;d.onsuccess=function(){var a=d.result;if(a){var f=a.value;f&&f.__local_forage_encoded_blob&&(f=O(f));f=c(f,a.key,k++);if(void 0!==f)b(f);else a["continue"]()}else b()};d.onerror=function(){f(d.error)}}catch(oa){f(oa)}})})["catch"](f)});
d(f,b);return f},getItem:function(c,b){var a=this;c=q(c);var f=new z(function(b,f){a.ready().then(function(){B(a._dbInfo,"readonly",function(e,h){if(e)return f(e);try{var d=h.objectStore(a._dbInfo.storeName).get(c);d.onsuccess=function(){var c=d.result;void 0===c&&(c=null);c&&c.__local_forage_encoded_blob&&(c=O(c));b(c)};d.onerror=function(){f(d.error)}}catch(da){f(da)}})})["catch"](f)});d(f,b);return f},setItem:function(c,b,a){var f=this;c=q(c);var e=new z(function(a,e){var h;f.ready().then(function(){h=
f._dbInfo;return"[object Blob]"===A.call(b)?x(h.db).then(function(c){return c?b:I(b)}):b}).then(function(b){B(f._dbInfo,"readwrite",function(h,d){if(h)return e(h);try{var k=d.objectStore(f._dbInfo.storeName);null===b&&(b=void 0);var l=k.put(b,c);d.oncomplete=function(){void 0===b&&(b=null);a(b)};d.onabort=d.onerror=function(){e(l.error?l.error:l.transaction.error)}}catch(pa){e(pa)}})})["catch"](e)});d(e,a);return e},removeItem:function(c,b){var a=this;c=q(c);var f=new z(function(b,f){a.ready().then(function(){B(a._dbInfo,
"readwrite",function(e,h){if(e)return f(e);try{var d=h.objectStore(a._dbInfo.storeName)["delete"](c);h.oncomplete=function(){b()};h.onerror=function(){f(d.error)};h.onabort=function(){f(d.error?d.error:d.transaction.error)}}catch(da){f(da)}})})["catch"](f)});d(f,b);return f},clear:function(c){var b=this,a=new z(function(c,a){b.ready().then(function(){B(b._dbInfo,"readwrite",function(f,e){if(f)return a(f);try{var h=e.objectStore(b._dbInfo.storeName).clear();e.oncomplete=function(){c()};e.onabort=e.onerror=
function(){a(h.error?h.error:h.transaction.error)}}catch(aa){a(aa)}})})["catch"](a)});d(a,c);return a},length:function(c){var b=this,a=new z(function(c,a){b.ready().then(function(){B(b._dbInfo,"readonly",function(f,e){if(f)return a(f);try{var h=e.objectStore(b._dbInfo.storeName).count();h.onsuccess=function(){c(h.result)};h.onerror=function(){a(h.error)}}catch(aa){a(aa)}})})["catch"](a)});d(a,c);return a},key:function(c,b){var a=this,f=new z(function(b,f){if(0>c)b(null);else a.ready().then(function(){B(a._dbInfo,
"readonly",function(e,h){if(e)return f(e);try{var d=!1,k=h.objectStore(a._dbInfo.storeName).openCursor();k.onsuccess=function(){var a=k.result;a?0===c?b(a.key):d?b(a.key):(d=!0,a.advance(c)):b(null)};k.onerror=function(){f(k.error)}}catch(oa){f(oa)}})})["catch"](f)});d(f,b);return f},keys:function(c){var b=this,a=new z(function(c,a){b.ready().then(function(){B(b._dbInfo,"readonly",function(f,e){if(f)return a(f);try{var h=e.objectStore(b._dbInfo.storeName).openCursor(),d=[];h.onsuccess=function(){var b=
h.result;b?(d.push(b.key),b["continue"]()):c(d)};h.onerror=function(){a(h.error)}}catch(da){a(da)}})})["catch"](a)});d(a,c);return a},dropInstance:function(c,b){b=k.apply(this,arguments);var a=this.config();c="function"!==typeof c&&c||{};c.name||(c.name=c.name||a.name,c.storeName=c.storeName||a.storeName);c.name?(a=c.name===a.name&&this._dbInfo.db?z.resolve(this._dbInfo.db):F(c,!1).then(function(b){var a=H[c.name],f=a.forages;a.db=b;for(a=0;a<f.length;a++)f[a]._dbInfo.db=b;return b}),a=c.storeName?
a.then(function(b){if(b.objectStoreNames.contains(c.storeName)){var a=b.version+1;v(c);var f=H[c.name],e=f.forages;b.close();for(b=0;b<e.length;b++){var h=e[b];h._dbInfo.db=null;h._dbInfo.version=a}return(new z(function(b,f){var e=u.open(c.name,a);e.onerror=function(c){e.result.close();f(c)};e.onupgradeneeded=function(){e.result.deleteObjectStore(c.storeName)};e.onsuccess=function(){var c=e.result;c.close();b(c)}})).then(function(c){f.db=c;for(var b=0;b<e.length;b++){var a=e[b];a._dbInfo.db=c;w(a._dbInfo)}})["catch"](function(b){(D(c,
b)||z.resolve())["catch"](function(){});throw b;})}}):a.then(function(b){v(c);var a=H[c.name],f=a.forages;b.close();for(b=0;b<f.length;b++)f[b]._dbInfo.db=null;return(new z(function(b,a){var f=u.deleteDatabase(c.name);f.onerror=f.onblocked=function(c){var b=f.result;b&&b.close();a(c)};f.onsuccess=function(){var c=f.result;c&&c.close();b(c)}})).then(function(c){a.db=c;for(c=0;c<f.length;c++)w(f[c]._dbInfo)})["catch"](function(b){(D(c,b)||z.resolve())["catch"](function(){});throw b;})})):a=z.reject("Invalid arguments");
d(a,b);return a}};var f=/^~~local_forage_type~([^~]+)~/,E=Object.prototype.toString,P={serialize:function(c,b){var a="";c&&(a=E.call(c));if(c&&("[object ArrayBuffer]"===a||c.buffer&&"[object ArrayBuffer]"===E.call(c.buffer))){var f="__lfsc__:";if(c instanceof ArrayBuffer){var e=c;f+="arbf"}else e=c.buffer,"[object Int8Array]"===a?f+="si08":"[object Uint8Array]"===a?f+="ui08":"[object Uint8ClampedArray]"===a?f+="uic8":"[object Int16Array]"===a?f+="si16":"[object Uint16Array]"===a?f+="ur16":"[object Int32Array]"===
a?f+="si32":"[object Uint32Array]"===a?f+="ui32":"[object Float32Array]"===a?f+="fl32":"[object Float64Array]"===a?f+="fl64":b(Error("Failed to get type for BinaryArray"));b(f+N(e))}else if("[object Blob]"===a)a=new FileReader,a.onload=function(){var a="~~local_forage_type~"+c.type+"~"+N(this.result);b("__lfsc__:blob"+a)},a.readAsArrayBuffer(c);else try{b(JSON.stringify(c))}catch(Z){console.error("Couldn't convert value into a JSON string: ",c),b(null,Z)}},deserialize:function(c){if("__lfsc__:"!==
c.substring(0,9))return JSON.parse(c);var a=c.substring(13);c=c.substring(9,13);if("blob"===c&&f.test(a)){var e=a.match(f);var h=e[1];a=a.substring(e[0].length)}a=K(a);switch(c){case "arbf":return a;case "blob":return b([a],{type:h});case "si08":return new Int8Array(a);case "ui08":return new Uint8Array(a);case "uic8":return new Uint8ClampedArray(a);case "si16":return new Int16Array(a);case "ur16":return new Uint16Array(a);case "si32":return new Int32Array(a);case "ui32":return new Uint32Array(a);
case "fl32":return new Float32Array(a);case "fl64":return new Float64Array(a);default:throw Error("Unkown type: "+c);}},stringToBuffer:K,bufferToString:N};a={_driver:"webSQLStorage",_initStorage:function(c){var b=this,a={db:null};if(c)for(var f in c)a[f]="string"!==typeof c[f]?c[f].toString():c[f];c=new z(function(c,f){try{a.db=openDatabase(a.name,String(a.version),a.description,a.size)}catch(qa){return f(qa)}a.db.transaction(function(h){e(h,a,function(){b._dbInfo=a;c()},function(c,b){f(b)})},f)});
a.serializer=P;return c},_support:"function"===typeof openDatabase,iterate:function(c,b){var a=this,f=new z(function(b,f){a.ready().then(function(){var e=a._dbInfo;e.db.transaction(function(a){y(a,e,"SELECT * FROM "+e.storeName,[],function(a,f){a=f.rows;f=a.length;for(var h=0;h<f;h++){var d=a.item(h),k=d.value;k&&(k=e.serializer.deserialize(k));k=c(k,d.key,h+1);if(void 0!==k){b(k);return}}b()},function(c,b){f(b)})})})["catch"](f)});d(f,b);return f},getItem:function(c,b){var a=this;c=q(c);var f=new z(function(b,
f){a.ready().then(function(){var e=a._dbInfo;e.db.transaction(function(a){y(a,e,"SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[c],function(c,a){(c=a.rows.length?a.rows.item(0).value:null)&&(c=e.serializer.deserialize(c));b(c)},function(c,b){f(b)})})})["catch"](f)});d(f,b);return f},setItem:function(c,b,a){return C.apply(this,[c,b,a,1])},removeItem:function(c,b){var a=this;c=q(c);var f=new z(function(b,f){a.ready().then(function(){var e=a._dbInfo;e.db.transaction(function(a){y(a,e,"DELETE FROM "+
e.storeName+" WHERE key = ?",[c],function(){b()},function(c,b){f(b)})})})["catch"](f)});d(f,b);return f},clear:function(c){var b=this,a=new z(function(c,a){b.ready().then(function(){var f=b._dbInfo;f.db.transaction(function(b){y(b,f,"DELETE FROM "+f.storeName,[],function(){c()},function(c,b){a(b)})})})["catch"](a)});d(a,c);return a},length:function(c){var b=this,a=new z(function(c,a){b.ready().then(function(){var f=b._dbInfo;f.db.transaction(function(b){y(b,f,"SELECT COUNT(key) as c FROM "+f.storeName,
[],function(b,a){b=a.rows.item(0).c;c(b)},function(c,b){a(b)})})})["catch"](a)});d(a,c);return a},key:function(c,b){var a=this,f=new z(function(b,f){a.ready().then(function(){var e=a._dbInfo;e.db.transaction(function(a){y(a,e,"SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[c+1],function(c,a){c=a.rows.length?a.rows.item(0).key:null;b(c)},function(c,b){f(b)})})})["catch"](f)});d(f,b);return f},keys:function(c){var b=this,a=new z(function(c,a){b.ready().then(function(){var f=b._dbInfo;f.db.transaction(function(b){y(b,
f,"SELECT key FROM "+f.storeName,[],function(b,a){b=[];for(var f=0;f<a.rows.length;f++)b.push(a.rows.item(f).key);c(b)},function(c,b){a(b)})})})["catch"](a)});d(a,c);return a},dropInstance:function(b,a){a=k.apply(this,arguments);var f=this.config();b="function"!==typeof b&&b||{};b.name||(b.name=b.name||f.name,b.storeName=b.storeName||f.storeName);var e=this;var h=b.name?(new z(function(a){var h=b.name===f.name?e._dbInfo.db:openDatabase(b.name,"","",0);b.storeName?a({db:h,storeNames:[b.storeName]}):
a(c(h))})).then(function(c){return new z(function(b,a){c.db.transaction(function(f){function e(c){return new z(function(b,a){f.executeSql("DROP TABLE IF EXISTS "+c,[],function(){b()},function(c,b){a(b)})})}for(var h=[],d=0,k=c.storeNames.length;d<k;d++)h.push(e(c.storeNames[d]));z.all(h).then(function(){b()})["catch"](function(c){a(c)})},function(c){a(c)})})}):z.reject("Invalid arguments");d(h,a);return h}};try{var T="undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(W){T=
!1}var X=function(c,b){for(var a=c.length,f=0;f<a;){var e=c[f],h=b;if(e===h||"number"===typeof e&&"number"===typeof h&&isNaN(e)&&isNaN(h))return!0;f++}return!1},fa=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},ba={},ra={},Y={INDEXEDDB:g,WEBSQL:a,LOCALSTORAGE:{_driver:"localStorageWrapper",_initStorage:function(c){var b={};if(c)for(var a in c)b[a]=c[a];b.keyPrefix=M(c,this._defaultConfig);try{localStorage.setItem("_localforage_support_test",!0);localStorage.removeItem("_localforage_support_test");
var f=!1}catch(ja){f=!0}if(f&&!(0<localStorage.length))return z.reject();this._dbInfo=b;b.serializer=P;return z.resolve()},_support:T,iterate:function(c,b){var a=this,f=a.ready().then(function(){for(var b=a._dbInfo,f=b.keyPrefix,e=f.length,h=localStorage.length,d=1,k=0;k<h;k++){var l=localStorage.key(k);if(0===l.indexOf(f)){var p=localStorage.getItem(l);p&&(p=b.serializer.deserialize(p));p=c(p,l.substring(e),d++);if(void 0!==p)return p}}});d(f,b);return f},getItem:function(c,b){var a=this;c=q(c);
var f=a.ready().then(function(){var b=a._dbInfo,f=localStorage.getItem(b.keyPrefix+c);f&&(f=b.serializer.deserialize(f));return f});d(f,b);return f},setItem:function(c,b,a){var f=this;c=q(c);var e=f.ready().then(function(){void 0===b&&(b=null);var a=b;return new z(function(e,h){var d=f._dbInfo;d.serializer.serialize(b,function(b,f){if(f)h(f);else try{localStorage.setItem(d.keyPrefix+c,b),e(a)}catch(ka){"QuotaExceededError"!==ka.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==ka.name||h(ka),h(ka)}})})});d(e,
a);return e},removeItem:function(c,b){var a=this;c=q(c);var f=a.ready().then(function(){localStorage.removeItem(a._dbInfo.keyPrefix+c)});d(f,b);return f},clear:function(c){var b=this,a=b.ready().then(function(){for(var c=b._dbInfo.keyPrefix,a=localStorage.length-1;0<=a;a--){var f=localStorage.key(a);0===f.indexOf(c)&&localStorage.removeItem(f)}});d(a,c);return a},length:function(c){var b=this.keys().then(function(c){return c.length});d(b,c);return b},key:function(c,b){var a=this,f=a.ready().then(function(){var b=
a._dbInfo;try{var f=localStorage.key(c)}catch(qa){f=null}f&&(f=f.substring(b.keyPrefix.length));return f});d(f,b);return f},keys:function(c){var b=this,a=b.ready().then(function(){for(var c=b._dbInfo,a=localStorage.length,f=[],e=0;e<a;e++){var h=localStorage.key(e);0===h.indexOf(c.keyPrefix)&&f.push(h.substring(c.keyPrefix.length))}return f});d(a,c);return a},dropInstance:function(c,b){b=k.apply(this,arguments);c="function"!==typeof c&&c||{};if(!c.name){var a=this.config();c.name=c.name||a.name;c.storeName=
c.storeName||a.storeName}var f=this;a=c.name?(new z(function(b){c.storeName?b(M(c,f._defaultConfig)):b(c.name+"/")})).then(function(c){for(var b=localStorage.length-1;0<=b;b--){var a=localStorage.key(b);0===a.indexOf(c)&&localStorage.removeItem(a)}}):z.reject("Invalid arguments");d(a,b);return a}}};T=[Y.INDEXEDDB._driver,Y.WEBSQL._driver,Y.LOCALSTORAGE._driver];var ha=["dropInstance"],ca="clear getItem iterate key keys length removeItem setItem".split(" ").concat(ha),sa={description:"",driver:T.slice(),
name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};T=new (function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");for(var a in Y)if(Y.hasOwnProperty(a)){var f=Y[a],e=f._driver;this[a]=e;ba[e]||this.defineDriver(f)}this._defaultConfig=R({},sa);this._config=R({},this._defaultConfig,b);this._initDriver=this._driverSet=null;this._ready=!1;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"](function(){})}
c.prototype.config=function(c){if("object"===("undefined"===typeof c?"undefined":t(c))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in c){"storeName"===b&&(c[b]=c[b].replace(/\W/g,"_"));if("version"===b&&"number"!==typeof c[b])return Error("Database version must be a number.");this._config[b]=c[b]}return"driver"in c&&c.driver?this.setDriver(this._config.driver):!0}return"string"===typeof c?this._config[c]:this._config};c.prototype.defineDriver=function(c,
b,a){var f=new z(function(b,a){try{var f=c._driver,e=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(c._driver){for(var h=ca.concat("_initStorage"),k=0,l=h.length;k<l;k++){var p=h[k];if((!X(ha,p)||c[p])&&"function"!==typeof c[p]){a(e);return}}(function(){for(var b=function(c){return function(){var b=z.reject(Error("Method "+c+" is not implemented by the current driver"));d(b,arguments[arguments.length-1]);return b}},a=0,f=ha.length;a<f;a++){var e=ha[a];
c[e]||(c[e]=b(e))}})();e=function(a){ba[f]&&console.info("Redefining LocalForage driver: "+f);ba[f]=c;ra[f]=a;b()};"_support"in c?c._support&&"function"===typeof c._support?c._support().then(e,a):e(!!c._support):e(!0)}else a(e)}catch(pa){a(pa)}});l(f,b,a);return f};c.prototype.driver=function(){return this._driver||null};c.prototype.getDriver=function(c,b,a){c=ba[c]?z.resolve(ba[c]):z.reject(Error("Driver not found."));l(c,b,a);return c};c.prototype.getSerializer=function(c){var b=z.resolve(P);l(b,
c);return b};c.prototype.ready=function(c){var b=this,a=b._driverSet.then(function(){null===b._ready&&(b._ready=b._initDriver());return b._ready});l(a,c,c);return a};c.prototype.setDriver=function(c,b,a){function f(){d._config.driver=d.driver()}function e(c){d._extend(c);f();d._ready=d._initStorage(d._config);return d._ready}function h(c){return function(){function b(){for(;a<c.length;){var h=c[a];a++;d._dbInfo=null;d._ready=null;return d.getDriver(h).then(e)["catch"](b)}f();d._driverSet=z.reject(Error("No available storage method found."));
return d._driverSet}var a=0;return b()}}var d=this;fa(c)||(c=[c]);var k=this._getSupportedDrivers(c);this._driverSet=(null!==this._driverSet?this._driverSet["catch"](function(){return z.resolve()}):z.resolve()).then(function(){var c=k[0];d._dbInfo=null;d._ready=null;return d.getDriver(c).then(function(c){d._driver=c._driver;f();d._wrapLibraryMethodsWithReady();d._initDriver=h(k)})})["catch"](function(){f();d._driverSet=z.reject(Error("No available storage method found."));return d._driverSet});l(this._driverSet,
b,a);return this._driverSet};c.prototype.supports=function(c){return!!ra[c]};c.prototype._extend=function(c){R(this,c)};c.prototype._getSupportedDrivers=function(c){for(var b=[],a=0,f=c.length;a<f;a++){var e=c[a];this.supports(e)&&b.push(e)}return b};c.prototype._wrapLibraryMethodsWithReady=function(){for(var c=0,b=ca.length;c<b;c++)h(this,ca[c])};c.prototype.createInstance=function(b){return new c(b)};return c}());m.exports=T},{3:3}]},{},[4])(4)});(function(n,g){"function"===typeof define&&define.amd?define([],g):"undefined"!==typeof module&&module.exports?module.exports=g():n.lscache=g()})(this,function(){function n(){if(void 0!==r)return r;if(!localStorage)return!1;try{a("__lscachetest__","__lscachetest__"),b("__lscachetest__"),r=!0}catch(D){r=g(D)&&localStorage.length?!0:!1}return r}function g(b){return b&&("QUOTA_EXCEEDED_ERR"===b.name||"NS_ERROR_DOM_QUOTA_REACHED"===b.name||"QuotaExceededError"===b.name)}function m(){void 0===x&&(x=null!=
window.JSON);return x}function a(b,a){localStorage.removeItem("lscache-"+v+b);localStorage.setItem("lscache-"+v+b,a)}function b(b){localStorage.removeItem("lscache-"+v+b)}function d(b){for(var a=new RegExp("^lscache-"+v.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),d=localStorage.length-1;0<=d;--d){var k=localStorage.key(d);(k=(k=k&&k.match(a))&&k[1])&&0>k.indexOf("-cacheexpiration")&&b(k,k+"-cacheexpiration")}}function l(a){var d=a+"-cacheexpiration";b(a);b(d)}function q(a){var d=a+"-cacheexpiration",
k=localStorage.getItem("lscache-"+v+d);if(k&&(k=parseInt(k,10),Math.floor((new Date).getTime()/6E4)>=k))return b(a),b(d),!0}function k(b,a){w&&"console"in window&&"function"===typeof window.console.warn&&(window.console.warn("lscache - "+b),a&&window.console.warn("lscache - The error was: "+a.message))}var r,x,v="",w=!1;return{set:function(q,r,w){if(n()&&m()){try{r=JSON.stringify(r)}catch(p){return}try{a(q,r)}catch(p){if(g(p)){var x=[];d(function(b,a){a=(a=localStorage.getItem("lscache-"+v+a))?parseInt(a,
10):144E9;x.push({key:b,size:(localStorage.getItem("lscache-"+v+b)||"").length,expiration:a})});x.sort(function(b,a){return a.expiration-b.expiration});for(var F=(r||"").length;x.length&&0<F;){var D=x.pop();k("Cache is full, removing item with key '"+q+"'");l(D.key);F-=D.size}try{a(q,r)}catch(B){k("Could not add item with key '"+q+"', perhaps it's too big?",B);return}}else{k("Could not add item with key '"+q+"'",p);return}}w?a(q+"-cacheexpiration",(Math.floor((new Date).getTime()/6E4)+w).toString(10)):
b(q+"-cacheexpiration")}},get:function(b){if(!n()||q(b))return null;b=localStorage.getItem("lscache-"+v+b);if(!b||!m())return b;try{return JSON.parse(b)}catch(F){return b}},remove:function(b){n()&&l(b)},supported:function(){return n()},flush:function(){n()&&d(function(b){l(b)})},flushExpired:function(){n()&&d(function(b){q(b)})},setBucket:function(b){v=b},resetBucket:function(){v=""},enableWarnings:function(b){w=b}}});(function(n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).pako=n()})(function(){return function b(g,m,a){function d(k,q){if(!m[k]){if(!g[k]){var r="function"==typeof require&&require;if(!q&&r)return r(k,!0);if(l)return l(k,!0);q=Error("Cannot find module '"+k+"'");throw q.code="MODULE_NOT_FOUND",q;}q=m[k]={exports:{}};
g[k][0].call(q.exports,function(b){var a=g[k][1][b];return d(a?a:b)},q,q.exports,b,g,m,a)}return m[k].exports}for(var l="function"==typeof require&&require,q=0;q<a.length;q++)d(a[q]);return d}({1:[function(g,m,a){function b(a){if(!(this instanceof b))return new b(a);a=this.options=q.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg=
"";this.ended=!1;this.chunks=[];this.strm=new x;this.strm.avail_out=0;var d=l.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(0!==d)throw Error(r[d]);a.header&&l.deflateSetHeader(this.strm,a.header);if(a.dictionary){a="string"===typeof a.dictionary?k.string2buf(a.dictionary):"[object ArrayBuffer]"===v.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary;d=l.deflateSetDictionary(this.strm,a);if(0!==d)throw Error(r[d]);this._dict_set=!0}}function d(a,d){d=new b(d);
d.push(a,!0);if(d.err)throw d.msg||r[d.err];return d.result}var l=g("./zlib/deflate"),q=g("./utils/common"),k=g("./utils/strings"),r=g("./zlib/messages"),x=g("./zlib/zstream"),v=Object.prototype.toString;b.prototype.push=function(b,a){var d=this.strm,r=this.options.chunkSize;if(this.ended)return!1;a=a===~~a?a:!0===a?4:0;"string"===typeof b?d.input=k.string2buf(b):"[object ArrayBuffer]"===v.call(b)?d.input=new Uint8Array(b):d.input=b;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=
new q.Buf8(r),d.next_out=0,d.avail_out=r);b=l.deflate(d,a);if(1!==b&&0!==b)return this.onEnd(b),this.ended=!0,!1;if(0===d.avail_out||0===d.avail_in&&(4===a||2===a))if("string"===this.options.to)this.onData(k.buf2binstring(q.shrinkBuf(d.output,d.next_out)));else this.onData(q.shrinkBuf(d.output,d.next_out))}while((0<d.avail_in||0===d.avail_out)&&1!==b);if(4===a)return b=l.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,0===b;2===a&&(this.onEnd(0),d.avail_out=0);return!0};b.prototype.onData=function(b){this.chunks.push(b)};
b.prototype.onEnd=function(b){0===b&&(this.result="string"===this.options.to?this.chunks.join(""):q.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};a.Deflate=b;a.deflate=d;a.deflateRaw=function(b,a){a=a||{};a.raw=!0;return d(b,a)};a.gzip=function(b,a){a=a||{};a.gzip=!0;return d(b,a)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(g,m,a){function b(a){if(!(this instanceof b))return new b(a);var d=this.options=
q.assign({chunkSize:16384,windowBits:0,to:""},a||{});d.raw&&0<=d.windowBits&&16>d.windowBits&&(d.windowBits=-d.windowBits,0===d.windowBits&&(d.windowBits=-15));!(0<=d.windowBits&&16>d.windowBits)||a&&a.windowBits||(d.windowBits+=32);15<d.windowBits&&48>d.windowBits&&0===(d.windowBits&15)&&(d.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new v;this.strm.avail_out=0;a=l.inflateInit2(this.strm,d.windowBits);if(a!==r.Z_OK)throw Error(x[a]);this.header=new w;l.inflateGetHeader(this.strm,
this.header)}function d(a,d){d=new b(d);d.push(a,!0);if(d.err)throw d.msg||x[d.err];return d.result}var l=g("./zlib/inflate"),q=g("./utils/common"),k=g("./utils/strings"),r=g("./zlib/constants"),x=g("./zlib/messages"),v=g("./zlib/zstream"),w=g("./zlib/gzheader"),D=Object.prototype.toString;b.prototype.push=function(b,a){var d=this.strm,g=this.options.chunkSize,v=this.options.dictionary,p=!1;if(this.ended)return!1;a=a===~~a?a:!0===a?r.Z_FINISH:r.Z_NO_FLUSH;"string"===typeof b?d.input=k.binstring2buf(b):
"[object ArrayBuffer]"===D.call(b)?d.input=new Uint8Array(b):d.input=b;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=new q.Buf8(g),d.next_out=0,d.avail_out=g);b=l.inflate(d,r.Z_NO_FLUSH);b===r.Z_NEED_DICT&&v&&(b="string"===typeof v?k.string2buf(v):"[object ArrayBuffer]"===D.call(v)?new Uint8Array(v):v,b=l.inflateSetDictionary(this.strm,b));b===r.Z_BUF_ERROR&&!0===p&&(b=r.Z_OK,p=!1);if(b!==r.Z_STREAM_END&&b!==r.Z_OK)return this.onEnd(b),this.ended=!0,!1;if(d.next_out&&(0===d.avail_out||
b===r.Z_STREAM_END||0===d.avail_in&&(a===r.Z_FINISH||a===r.Z_SYNC_FLUSH)))if("string"===this.options.to){var x=k.utf8border(d.output,d.next_out);var m=d.next_out-x;var w=k.buf2string(d.output,x);d.next_out=m;d.avail_out=g-m;m&&q.arraySet(d.output,d.output,x,m,0);this.onData(w)}else this.onData(q.shrinkBuf(d.output,d.next_out));0===d.avail_in&&0===d.avail_out&&(p=!0)}while((0<d.avail_in||0===d.avail_out)&&b!==r.Z_STREAM_END);b===r.Z_STREAM_END&&(a=r.Z_FINISH);if(a===r.Z_FINISH)return b=l.inflateEnd(this.strm),
this.onEnd(b),this.ended=!0,b===r.Z_OK;a===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),d.avail_out=0);return!0};b.prototype.onData=function(b){this.chunks.push(b)};b.prototype.onEnd=function(b){b===r.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):q.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};a.Inflate=b;a.inflate=d;a.inflateRaw=function(b,a){a=a||{};a.raw=!0;return d(b,a)};a.ungzip=d},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,
"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(g,m,a){g="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;a.assign=function(b){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var d=a.shift();if(d){if("object"!==typeof d)throw new TypeError(d+"must be non-object");for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(b[l]=d[l])}}return b};a.shrinkBuf=function(b,a){if(b.length===a)return b;if(b.subarray)return b.subarray(0,
a);b.length=a;return b};var b={arraySet:function(b,a,d,r,g){if(a.subarray&&b.subarray)b.set(a.subarray(d,d+r),g);else for(var k=0;k<r;k++)b[g+k]=a[d+k]},flattenChunks:function(b){var a,d;var l=d=0;for(a=b.length;l<a;l++)d+=b[l].length;var g=new Uint8Array(d);l=d=0;for(a=b.length;l<a;l++){var v=b[l];g.set(v,d);d+=v.length}return g}},d={arraySet:function(b,a,d,g,x){for(var k=0;k<g;k++)b[x+k]=a[d+k]},flattenChunks:function(b){return[].concat.apply([],b)}};a.setTyped=function(l){l?(a.Buf8=Uint8Array,
a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,b)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,d))};a.setTyped(g)},{}],4:[function(g,m,a){function b(b,a){if(65537>a&&(b.subarray&&q||!b.subarray&&l))return String.fromCharCode.apply(null,d.shrinkBuf(b,a));for(var k="",g=0;g<a;g++)k+=String.fromCharCode(b[g]);return k}var d=g("./common"),l=!0,q=!0;try{String.fromCharCode.apply(null,[0])}catch(r){l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){q=!1}var k=new d.Buf8(256);
for(g=0;256>g;g++)k[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;k[254]=k[254]=1;a.string2buf=function(b){var a,k,l=b.length,q=0;for(a=0;a<l;a++){var g=b.charCodeAt(a);if(55296===(g&64512)&&a+1<l){var r=b.charCodeAt(a+1);56320===(r&64512)&&(g=65536+(g-55296<<10)+(r-56320),a++)}q+=128>g?1:2048>g?2:65536>g?3:4}var m=new d.Buf8(q);for(a=k=0;k<q;a++)g=b.charCodeAt(a),55296===(g&64512)&&a+1<l&&(r=b.charCodeAt(a+1),56320===(r&64512)&&(g=65536+(g-55296<<10)+(r-56320),a++)),128>g?m[k++]=g:(2048>g?m[k++]=
192|g>>>6:(65536>g?m[k++]=224|g>>>12:(m[k++]=240|g>>>18,m[k++]=128|g>>>12&63),m[k++]=128|g>>>6&63),m[k++]=128|g&63);return m};a.buf2binstring=function(a){return b(a,a.length)};a.binstring2buf=function(b){for(var a=new d.Buf8(b.length),k=0,l=a.length;k<l;k++)a[k]=b.charCodeAt(k);return a};a.buf2string=function(a,d){var l,g=d||a.length,q=Array(2*g);for(d=l=0;d<g;){var r=a[d++];if(128>r)q[l++]=r;else{var m=k[r];if(4<m)q[l++]=65533,d+=m-1;else{for(r&=2===m?31:3===m?15:7;1<m&&d<g;)r=r<<6|a[d++]&63,m--;
1<m?q[l++]=65533:65536>r?q[l++]=r:(r-=65536,q[l++]=55296|r>>10&1023,q[l++]=56320|r&1023)}}}return b(q,l)};a.utf8border=function(b,a){var d;a=a||b.length;a>b.length&&(a=b.length);for(d=a-1;0<=d&&128===(b[d]&192);)d--;return 0>d||0===d?a:d+k[b[d]]>a?d:a}},{"./common":3}],5:[function(g,m,a){m.exports=function(b,a,l,g){var d=b&65535|0;b=b>>>16&65535|0;for(var q;0!==l;){q=2E3<l?2E3:l;l-=q;do d=d+a[g++]|0,b=b+d|0;while(--q);d%=65521;b%=65521}return d|b<<16|0}},{}],6:[function(g,m,a){m.exports={Z_NO_FLUSH:0,
Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(g,m,a){var b=function(){for(var b,a=[],g=0;256>g;g++){b=g;for(var k=0;8>k;k++)b=b&1?3988292384^b>>>1:b>>>1;a[g]=b}return a}();
m.exports=function(a,l,g,k){g=k+g;for(a^=-1;k<g;k++)a=a>>>8^b[(a^l[k])&255];return a^-1}},{}],8:[function(g,m,a){function b(c,b){c.msg=y[b];return b}function d(c){for(var b=c.length;0<=--b;)c[b]=0}function l(c){var b=c.state,a=b.pending;a>c.avail_out&&(a=c.avail_out);0!==a&&(L.arraySet(c.output,b.pending_buf,b.pending_out,a,c.next_out),c.next_out+=a,b.pending_out+=a,c.total_out+=a,c.avail_out-=a,b.pending-=a,0===b.pending&&(b.pending_out=0))}function q(c,b){K._tr_flush_block(c,0<=c.block_start?c.block_start:
-1,c.strstart-c.block_start,b);c.block_start=c.strstart;l(c.strm)}function k(c,b){c.pending_buf[c.pending++]=b}function r(c,b){c.pending_buf[c.pending++]=b>>>8&255;c.pending_buf[c.pending++]=b&255}function x(c,b){var a=c.max_chain_length,d=c.strstart,e=c.prev_length,k=c.nice_match,l=c.strstart>c.w_size-262?c.strstart-(c.w_size-262):0,g=c.window,p=c.w_mask,q=c.prev,f=c.strstart+258,r=g[d+e-1],M=g[d+e];c.prev_length>=c.good_match&&(a>>=2);k>c.lookahead&&(k=c.lookahead);do{var m=b;if(g[m+e]===M&&g[m+
e-1]===r&&g[m]===g[d]&&g[++m]===g[d+1]){d+=2;for(m++;g[++d]===g[++m]&&g[++d]===g[++m]&&g[++d]===g[++m]&&g[++d]===g[++m]&&g[++d]===g[++m]&&g[++d]===g[++m]&&g[++d]===g[++m]&&g[++d]===g[++m]&&d<f;);m=258-(f-d);d=f-258;if(m>e){c.match_start=b;e=m;if(m>=k)break;r=g[d+e-1];M=g[d+e]}}}while((b=q[b&p])>l&&0!==--a);return e<=c.lookahead?e:c.lookahead}function v(c){var b=c.w_size,a;do{var d=c.window_size-c.lookahead-c.strstart;if(c.strstart>=b+(b-262)){L.arraySet(c.window,c.window,b,b,0);c.match_start-=b;c.strstart-=
b;c.block_start-=b;var k=a=c.hash_size;do{var g=c.head[--k];c.head[k]=g>=b?g-b:0}while(--a);k=a=b;do g=c.prev[--k],c.prev[k]=g>=b?g-b:0;while(--a);d+=b}if(0===c.strm.avail_in)break;k=c.strm;a=c.window;g=c.strstart+c.lookahead;var l=k.avail_in;l>d&&(l=d);0===l?a=0:(k.avail_in-=l,L.arraySet(a,k.input,k.next_in,l,g),1===k.state.wrap?k.adler=N(k.adler,a,l,g):2===k.state.wrap&&(k.adler=e(k.adler,a,l,g)),k.next_in+=l,k.total_in+=l,a=l);c.lookahead+=a;if(3<=c.lookahead+c.insert)for(d=c.strstart-c.insert,
c.ins_h=c.window[d],c.ins_h=(c.ins_h<<c.hash_shift^c.window[d+1])&c.hash_mask;c.insert&&!(c.ins_h=(c.ins_h<<c.hash_shift^c.window[d+3-1])&c.hash_mask,c.prev[d&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=d,d++,c.insert--,3>c.lookahead+c.insert););}while(262>c.lookahead&&0!==c.strm.avail_in)}function w(c,b){for(var a;;){if(262>c.lookahead){v(c);if(262>c.lookahead&&0===b)return 1;if(0===c.lookahead)break}a=0;3<=c.lookahead&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,a=c.prev[c.strstart&
c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);0!==a&&c.strstart-a<=c.w_size-262&&(c.match_length=x(c,a));if(3<=c.match_length)if(a=K._tr_tally(c,c.strstart-c.match_start,c.match_length-3),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&3<=c.lookahead){c.match_length--;do c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart;while(0!==--c.match_length);c.strstart++}else c.strstart+=
c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else a=K._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(a&&(q(c,!1),0===c.strm.avail_out))return 1}c.insert=2>c.strstart?c.strstart:2;return 4===b?(q(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(q(c,!1),0===c.strm.avail_out)?1:2}function D(c,b){for(var a,d;;){if(262>c.lookahead){v(c);if(262>c.lookahead&&0===b)return 1;if(0===c.lookahead)break}a=0;3<=c.lookahead&&
(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,a=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);c.prev_length=c.match_length;c.prev_match=c.match_start;c.match_length=2;0!==a&&c.prev_length<c.max_lazy_match&&c.strstart-a<=c.w_size-262&&(c.match_length=x(c,a),5>=c.match_length&&(1===c.strategy||3===c.match_length&&4096<c.strstart-c.match_start)&&(c.match_length=2));if(3<=c.prev_length&&c.match_length<=c.prev_length){d=c.strstart+c.lookahead-3;a=K._tr_tally(c,
c.strstart-1-c.prev_match,c.prev_length-3);c.lookahead-=c.prev_length-1;c.prev_length-=2;do++c.strstart<=d&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);while(0!==--c.prev_length);c.match_available=0;c.match_length=2;c.strstart++;if(a&&(q(c,!1),0===c.strm.avail_out))return 1}else if(c.match_available){if((a=K._tr_tally(c,0,c.window[c.strstart-1]))&&q(c,!1),c.strstart++,c.lookahead--,0===c.strm.avail_out)return 1}else c.match_available=
1,c.strstart++,c.lookahead--}c.match_available&&(K._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0);c.insert=2>c.strstart?c.strstart:2;return 4===b?(q(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(q(c,!1),0===c.strm.avail_out)?1:2}function F(c,b){for(var a,d,e,k=c.window;;){if(258>=c.lookahead){v(c);if(258>=c.lookahead&&0===b)return 1;if(0===c.lookahead)break}c.match_length=0;if(3<=c.lookahead&&0<c.strstart&&(d=c.strstart-1,a=k[d],a===k[++d]&&a===k[++d]&&a===k[++d])){for(e=c.strstart+258;a===
k[++d]&&a===k[++d]&&a===k[++d]&&a===k[++d]&&a===k[++d]&&a===k[++d]&&a===k[++d]&&a===k[++d]&&d<e;);c.match_length=258-(e-d);c.match_length>c.lookahead&&(c.match_length=c.lookahead)}3<=c.match_length?(a=K._tr_tally(c,1,c.match_length-3),c.lookahead-=c.match_length,c.strstart+=c.match_length,c.match_length=0):(a=K._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++);if(a&&(q(c,!1),0===c.strm.avail_out))return 1}c.insert=0;return 4===b?(q(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(q(c,!1),
0===c.strm.avail_out)?1:2}function G(c,b){for(var a;;){if(0===c.lookahead&&(v(c),0===c.lookahead)){if(0===b)return 1;break}c.match_length=0;a=K._tr_tally(c,0,c.window[c.strstart]);c.lookahead--;c.strstart++;if(a&&(q(c,!1),0===c.strm.avail_out))return 1}c.insert=0;return 4===b?(q(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(q(c,!1),0===c.strm.avail_out)?1:2}function I(c,b,a,d,e){this.good_length=c;this.max_lazy=b;this.nice_length=a;this.max_chain=d;this.func=e}function O(){this.strm=null;this.status=
0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=
this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new L.Buf16(1146);this.dyn_dtree=new L.Buf16(122);this.bl_tree=new L.Buf16(78);d(this.dyn_ltree);d(this.dyn_dtree);d(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new L.Buf16(16);this.heap=new L.Buf16(573);d(this.heap);this.heap_max=this.heap_len=0;this.depth=new L.Buf16(573);d(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=
this.l_buf=0}function J(c){if(!c||!c.state)return b(c,-2);c.total_in=c.total_out=0;c.data_type=2;var a=c.state;a.pending=0;a.pending_out=0;0>a.wrap&&(a.wrap=-a.wrap);a.status=a.wrap?42:113;c.adler=2===a.wrap?0:1;a.last_flush=0;K._tr_init(a);return 0}function p(c){var b=J(c);0===b&&(c=c.state,c.window_size=2*c.w_size,d(c.head),c.max_lazy_match=C[c.level].max_lazy,c.good_match=C[c.level].good_length,c.nice_match=C[c.level].nice_length,c.max_chain_length=C[c.level].max_chain,c.strstart=0,c.block_start=
0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=2,c.match_available=0,c.ins_h=0);return b}function B(c,a,d,e,k,g){if(!c)return-2;var h=1;-1===a&&(a=6);0>e?(h=0,e=-e):15<e&&(h=2,e-=16);if(1>k||9<k||8!==d||8>e||15<e||0>a||9<a||0>g||4<g)return b(c,-2);8===e&&(e=9);var l=new O;c.state=l;l.strm=c;l.wrap=h;l.gzhead=null;l.w_bits=e;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=k+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+3-1)/3);l.window=new L.Buf8(2*
l.w_size);l.head=new L.Buf16(l.hash_size);l.prev=new L.Buf16(l.w_size);l.lit_bufsize=1<<k+6;l.pending_buf_size=4*l.lit_bufsize;l.pending_buf=new L.Buf8(l.pending_buf_size);l.d_buf=1*l.lit_bufsize;l.l_buf=3*l.lit_bufsize;l.level=a;l.strategy=g;l.method=d;return p(c)}var L=g("../utils/common"),K=g("./trees"),N=g("./adler32"),e=g("./crc32"),y=g("./messages");var C=[new I(0,0,0,0,function(c,b){var a=65535;for(a>c.pending_buf_size-5&&(a=c.pending_buf_size-5);;){if(1>=c.lookahead){v(c);if(0===c.lookahead&&
0===b)return 1;if(0===c.lookahead)break}c.strstart+=c.lookahead;c.lookahead=0;var d=c.block_start+a;if(0===c.strstart||c.strstart>=d)if(c.lookahead=c.strstart-d,c.strstart=d,q(c,!1),0===c.strm.avail_out)return 1;if(c.strstart-c.block_start>=c.w_size-262&&(q(c,!1),0===c.strm.avail_out))return 1}c.insert=0;if(4===b)return q(c,!0),0===c.strm.avail_out?3:4;c.strstart>c.block_start&&q(c,!1);return 1}),new I(4,4,8,4,w),new I(4,5,16,8,w),new I(4,6,32,32,w),new I(4,4,16,16,D),new I(8,16,32,32,D),new I(8,
16,128,128,D),new I(8,32,128,256,D),new I(32,128,258,1024,D),new I(32,258,258,4096,D)];a.deflateInit=function(c,b){return B(c,b,8,15,8,0)};a.deflateInit2=B;a.deflateReset=p;a.deflateResetKeep=J;a.deflateSetHeader=function(c,b){if(!c||!c.state||2!==c.state.wrap)return-2;c.state.gzhead=b;return 0};a.deflate=function(c,a){if(!c||!c.state||5<a||0>a)return c?b(c,-2):-2;var h=c.state;if(!c.output||!c.input&&0!==c.avail_in||666===h.status&&4!==a)return b(c,0===c.avail_out?-5:-2);h.strm=c;var g=h.last_flush;
h.last_flush=a;if(42===h.status)if(2===h.wrap)c.adler=0,k(h,31),k(h,139),k(h,8),h.gzhead?(k(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),k(h,h.gzhead.time&255),k(h,h.gzhead.time>>8&255),k(h,h.gzhead.time>>16&255),k(h,h.gzhead.time>>24&255),k(h,9===h.level?2:2<=h.strategy||2>h.level?4:0),k(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(k(h,h.gzhead.extra.length&255),k(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(c.adler=
e(c.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(k(h,0),k(h,0),k(h,0),k(h,0),k(h,0),k(h,9===h.level?2:2<=h.strategy||2>h.level?4:0),k(h,3),h.status=113);else{var p=8+(h.w_bits-8<<4)<<8;p|=(2<=h.strategy||2>h.level?0:6>h.level?1:6===h.level?2:3)<<6;0!==h.strstart&&(p|=32);h.status=113;r(h,p+(31-p%31));0!==h.strstart&&(r(h,c.adler>>>16),r(h,c.adler&65535));c.adler=1}if(69===h.status)if(h.gzhead.extra){for(p=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&(h.pending!==h.pending_buf_size||
(h.gzhead.hcrc&&h.pending>p&&(c.adler=e(c.adler,h.pending_buf,h.pending-p,p)),l(c),p=h.pending,h.pending!==h.pending_buf_size));)k(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>p&&(c.adler=e(c.adler,h.pending_buf,h.pending-p,p));h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(73===h.status)if(h.gzhead.name){p=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>p&&(c.adler=e(c.adler,h.pending_buf,h.pending-p,p)),l(c),p=
h.pending,h.pending===h.pending_buf_size)){var q=1;break}q=h.gzindex<h.gzhead.name.length?h.gzhead.name.charCodeAt(h.gzindex++)&255:0;k(h,q)}while(0!==q);h.gzhead.hcrc&&h.pending>p&&(c.adler=e(c.adler,h.pending_buf,h.pending-p,p));0===q&&(h.gzindex=0,h.status=91)}else h.status=91;if(91===h.status)if(h.gzhead.comment){p=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>p&&(c.adler=e(c.adler,h.pending_buf,h.pending-p,p)),l(c),p=h.pending,h.pending===h.pending_buf_size)){q=1;
break}q=h.gzindex<h.gzhead.comment.length?h.gzhead.comment.charCodeAt(h.gzindex++)&255:0;k(h,q)}while(0!==q);h.gzhead.hcrc&&h.pending>p&&(c.adler=e(c.adler,h.pending_buf,h.pending-p,p));0===q&&(h.status=103)}else h.status=103;103===h.status&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&l(c),h.pending+2<=h.pending_buf_size&&(k(h,c.adler&255),k(h,c.adler>>8&255),c.adler=0,h.status=113)):h.status=113);if(0!==h.pending){if(l(c),0===c.avail_out)return h.last_flush=-1,0}else if(0===c.avail_in&&(a<<1)-
(4<a?9:0)<=(g<<1)-(4<g?9:0)&&4!==a)return b(c,-5);if(666===h.status&&0!==c.avail_in)return b(c,-5);if(0!==c.avail_in||0!==h.lookahead||0!==a&&666!==h.status){g=2===h.strategy?G(h,a):3===h.strategy?F(h,a):C[h.level].func(h,a);if(3===g||4===g)h.status=666;if(1===g||3===g)return 0===c.avail_out&&(h.last_flush=-1),0;if(2===g&&(1===a?K._tr_align(h):5!==a&&(K._tr_stored_block(h,0,0,!1),3===a&&(d(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),l(c),0===c.avail_out))return h.last_flush=
-1,0}if(4!==a)return 0;if(0>=h.wrap)return 1;2===h.wrap?(k(h,c.adler&255),k(h,c.adler>>8&255),k(h,c.adler>>16&255),k(h,c.adler>>24&255),k(h,c.total_in&255),k(h,c.total_in>>8&255),k(h,c.total_in>>16&255),k(h,c.total_in>>24&255)):(r(h,c.adler>>>16),r(h,c.adler&65535));l(c);0<h.wrap&&(h.wrap=-h.wrap);return 0!==h.pending?0:1};a.deflateEnd=function(c){if(!c||!c.state)return-2;var a=c.state.status;if(42!==a&&69!==a&&73!==a&&91!==a&&103!==a&&113!==a&&666!==a)return b(c,-2);c.state=null;return 113===a?b(c,
-3):0};a.deflateSetDictionary=function(c,a){var b=a.length;if(!c||!c.state)return-2;var e=c.state;var k=e.wrap;if(2===k||1===k&&42!==e.status||e.lookahead)return-2;1===k&&(c.adler=N(c.adler,a,b,0));e.wrap=0;if(b>=e.w_size){0===k&&(d(e.head),e.strstart=0,e.block_start=0,e.insert=0);var l=new L.Buf8(e.w_size);L.arraySet(l,a,b-e.w_size,e.w_size,0);a=l;b=e.w_size}l=c.avail_in;var g=c.next_in;var p=c.input;c.avail_in=b;c.next_in=0;c.input=a;for(v(e);3<=e.lookahead;){a=e.strstart;b=e.lookahead-2;do e.ins_h=
(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++;while(--b);e.strstart=a;e.lookahead=2;v(e)}e.strstart+=e.lookahead;e.block_start=e.strstart;e.insert=e.lookahead;e.lookahead=0;e.match_length=e.prev_length=2;e.match_available=0;c.next_in=g;c.input=p;c.avail_in=l;e.wrap=k;return 0};a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(g,m,a){m.exports=function(){this.os=
this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(g,m,a){m.exports=function(a,d){var b=a.state;var g=a.next_in;var k=a.input;var r=g+(a.avail_in-5);var m=a.next_out;var v=a.output;d=m-(d-a.avail_out);var w=m+(a.avail_out-257);var D=b.dmax;var F=b.wsize;var G=b.whave;var I=b.wnext;var O=b.window;var J=b.hold;var p=b.bits;var B=b.lencode;var L=b.distcode;var K=(1<<b.lenbits)-1;var N=(1<<b.distbits)-1;a:do{15>p&&(J+=
k[g++]<<p,p+=8,J+=k[g++]<<p,p+=8);var e=B[J&K];b:for(;;){var y=e>>>24;J>>>=y;p-=y;y=e>>>16&255;if(0===y)v[m++]=e&65535;else if(y&16){var C=e&65535;if(y&=15)p<y&&(J+=k[g++]<<p,p+=8),C+=J&(1<<y)-1,J>>>=y,p-=y;15>p&&(J+=k[g++]<<p,p+=8,J+=k[g++]<<p,p+=8);e=L[J&N];c:for(;;){y=e>>>24;J>>>=y;p-=y;y=e>>>16&255;if(y&16){e&=65535;y&=15;p<y&&(J+=k[g++]<<p,p+=8,p<y&&(J+=k[g++]<<p,p+=8));e+=J&(1<<y)-1;if(e>D){a.msg="invalid distance too far back";b.mode=30;break a}J>>>=y;p-=y;y=m-d;if(e>y){y=e-y;if(y>G&&b.sane){a.msg=
"invalid distance too far back";b.mode=30;break a}var c=0;var M=O;if(0===I){if(c+=F-y,y<C){C-=y;do v[m++]=O[c++];while(--y);c=m-e;M=v}}else if(I<y){if(c+=F+I-y,y-=I,y<C){C-=y;do v[m++]=O[c++];while(--y);c=0;if(I<C){y=I;C-=y;do v[m++]=O[c++];while(--y);c=m-e;M=v}}}else if(c+=I-y,y<C){C-=y;do v[m++]=O[c++];while(--y);c=m-e;M=v}for(;2<C;)v[m++]=M[c++],v[m++]=M[c++],v[m++]=M[c++],C-=3;C&&(v[m++]=M[c++],1<C&&(v[m++]=M[c++]))}else{c=m-e;do v[m++]=v[c++],v[m++]=v[c++],v[m++]=v[c++],C-=3;while(2<C);C&&(v[m++]=
v[c++],1<C&&(v[m++]=v[c++]))}}else if(0===(y&64)){e=L[(e&65535)+(J&(1<<y)-1)];continue c}else{a.msg="invalid distance code";b.mode=30;break a}break}}else if(0===(y&64)){e=B[(e&65535)+(J&(1<<y)-1)];continue b}else{y&32?b.mode=12:(a.msg="invalid literal/length code",b.mode=30);break a}break}}while(g<r&&m<w);C=p>>3;g-=C;p-=C<<3;a.next_in=g;a.next_out=m;a.avail_in=g<r?5+(r-g):5-(g-r);a.avail_out=m<w?257+(w-m):257-(m-w);b.hold=J&(1<<p)-1;b.bits=p}},{}],11:[function(g,m,a){function b(a){return(a>>>24&255)+
(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function d(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new v.Buf16(320);this.work=new v.Buf16(288);this.distdyn=this.lendyn=null;this.was=
this.back=this.sane=0}function l(a){if(!a||!a.state)return-2;var b=a.state;a.total_in=a.total_out=b.total=0;a.msg="";b.wrap&&(a.adler=b.wrap&1);b.mode=1;b.last=0;b.havedict=0;b.dmax=32768;b.head=null;b.hold=0;b.bits=0;b.lencode=b.lendyn=new v.Buf32(852);b.distcode=b.distdyn=new v.Buf32(592);b.sane=1;b.back=-1;return 0}function q(a){if(!a||!a.state)return-2;var b=a.state;b.wsize=0;b.whave=0;b.wnext=0;return l(a)}function k(a,b){if(!a||!a.state)return-2;var d=a.state;if(0>b){var k=0;b=-b}else k=(b>>
4)+1,48>b&&(b&=15);if(b&&(8>b||15<b))return-2;null!==d.window&&d.wbits!==b&&(d.window=null);d.wrap=k;d.wbits=b;return q(a)}function r(a,b){if(!a)return-2;var g=new d;a.state=g;g.window=null;b=k(a,b);0!==b&&(a.state=null);return b}function x(a,b,d,k){var g=a.state;null===g.window&&(g.wsize=1<<g.wbits,g.wnext=0,g.whave=0,g.window=new v.Buf8(g.wsize));k>=g.wsize?(v.arraySet(g.window,b,d-g.wsize,g.wsize,0),g.wnext=0,g.whave=g.wsize):(a=g.wsize-g.wnext,a>k&&(a=k),v.arraySet(g.window,b,d-k,a,g.wnext),(k-=
a)?(v.arraySet(g.window,b,d-k,k,0),g.wnext=k,g.whave=g.wsize):(g.wnext+=a,g.wnext===g.wsize&&(g.wnext=0),g.whave<g.wsize&&(g.whave+=a)));return 0}var v=g("../utils/common"),w=g("./adler32"),D=g("./crc32"),F=g("./inffast"),G=g("./inftrees"),I=!0,O,J;a.inflateReset=q;a.inflateReset2=k;a.inflateResetKeep=l;a.inflateInit=function(a){return r(a,15)};a.inflateInit2=r;a.inflate=function(a,d){var k,g=new v.Buf8(4),l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==
a.avail_in)return-2;var e=a.state;12===e.mode&&(e.mode=13);var q=a.next_out;var r=a.output;var c=a.avail_out;var m=a.next_in;var h=a.input;var p=a.avail_in;var t=e.hold;var u=e.bits;var z=p;var B=c;var H=0;a:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;16>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}if(e.wrap&2&&35615===t){e.check=0;g[0]=t&255;g[1]=t>>>8&255;e.check=D(e.check,g,2,0);u=t=0;e.mode=2;break}e.flags=0;e.head&&(e.head.done=!1);if(!(e.wrap&1)||(((t&255)<<8)+(t>>8))%31){a.msg=
"incorrect header check";e.mode=30;break}if(8!==(t&15)){a.msg="unknown compression method";e.mode=30;break}t>>>=4;u-=4;var A=(t&15)+8;if(0===e.wbits)e.wbits=A;else if(A>e.wbits){a.msg="invalid window size";e.mode=30;break}e.dmax=1<<A;a.adler=e.check=1;e.mode=t&512?10:12;u=t=0;break;case 2:for(;16>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.flags=t;if(8!==(e.flags&255)){a.msg="unknown compression method";e.mode=30;break}if(e.flags&57344){a.msg="unknown header flags set";e.mode=30;break}e.head&&(e.head.text=
t>>8&1);e.flags&512&&(g[0]=t&255,g[1]=t>>>8&255,e.check=D(e.check,g,2,0));u=t=0;e.mode=3;case 3:for(;32>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.head&&(e.head.time=t);e.flags&512&&(g[0]=t&255,g[1]=t>>>8&255,g[2]=t>>>16&255,g[3]=t>>>24&255,e.check=D(e.check,g,4,0));u=t=0;e.mode=4;case 4:for(;16>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.head&&(e.head.xflags=t&255,e.head.os=t>>8);e.flags&512&&(g[0]=t&255,g[1]=t>>>8&255,e.check=D(e.check,g,2,0));u=t=0;e.mode=5;case 5:if(e.flags&1024){for(;16>u;){if(0===
p)break a;p--;t+=h[m++]<<u;u+=8}e.length=t;e.head&&(e.head.extra_len=t);e.flags&512&&(g[0]=t&255,g[1]=t>>>8&255,e.check=D(e.check,g,2,0));u=t=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(e.flags&1024){var f=e.length;f>p&&(f=p);f&&(e.head&&(A=e.head.extra_len-e.length,e.head.extra||(e.head.extra=Array(e.head.extra_len)),v.arraySet(e.head.extra,h,m,f,A)),e.flags&512&&(e.check=D(e.check,h,f,m)),p-=f,m+=f,e.length-=f);if(e.length)break a}e.length=0;e.mode=7;case 7:if(e.flags&2048){if(0===p)break a;
f=0;do A=h[m+f++],e.head&&A&&65536>e.length&&(e.head.name+=String.fromCharCode(A));while(A&&f<p);e.flags&512&&(e.check=D(e.check,h,f,m));p-=f;m+=f;if(A)break a}else e.head&&(e.head.name=null);e.length=0;e.mode=8;case 8:if(e.flags&4096){if(0===p)break a;f=0;do A=h[m+f++],e.head&&A&&65536>e.length&&(e.head.comment+=String.fromCharCode(A));while(A&&f<p);e.flags&512&&(e.check=D(e.check,h,f,m));p-=f;m+=f;if(A)break a}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(e.flags&512){for(;16>u;){if(0===
p)break a;p--;t+=h[m++]<<u;u+=8}if(t!==(e.check&65535)){a.msg="header crc mismatch";e.mode=30;break}u=t=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0);a.adler=e.check=0;e.mode=12;break;case 10:for(;32>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}a.adler=e.check=b(t);u=t=0;e.mode=11;case 11:if(0===e.havedict)return a.next_out=q,a.avail_out=c,a.next_in=m,a.avail_in=p,e.hold=t,e.bits=u,2;a.adler=e.check=1;e.mode=12;case 12:if(5===d||6===d)break a;case 13:if(e.last){t>>>=u&7;u-=u&7;e.mode=27;break}for(;3>
u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.last=t&1;t>>>=1;--u;switch(t&3){case 0:e.mode=14;break;case 1:A=e;if(I){O=new v.Buf32(512);J=new v.Buf32(32);for(f=0;144>f;)A.lens[f++]=8;for(;256>f;)A.lens[f++]=9;for(;280>f;)A.lens[f++]=7;for(;288>f;)A.lens[f++]=8;G(1,A.lens,0,288,O,0,A.work,{bits:9});for(f=0;32>f;)A.lens[f++]=5;G(2,A.lens,0,32,J,0,A.work,{bits:5});I=!1}A.lencode=O;A.lenbits=9;A.distcode=J;A.distbits=5;e.mode=20;if(6===d){t>>>=2;u-=2;break a}break;case 2:e.mode=17;break;case 3:a.msg=
"invalid block type",e.mode=30}t>>>=2;u-=2;break;case 14:t>>>=u&7;for(u-=u&7;32>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}if((t&65535)!==(t>>>16^65535)){a.msg="invalid stored block lengths";e.mode=30;break}e.length=t&65535;u=t=0;e.mode=15;if(6===d)break a;case 15:e.mode=16;case 16:if(f=e.length){f>p&&(f=p);f>c&&(f=c);if(0===f)break a;v.arraySet(r,h,m,f,q);p-=f;m+=f;c-=f;q+=f;e.length-=f;break}e.mode=12;break;case 17:for(;14>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.nlen=(t&31)+257;t>>>=5;u-=5;
e.ndist=(t&31)+1;t>>>=5;u-=5;e.ncode=(t&15)+4;t>>>=4;u-=4;if(286<e.nlen||30<e.ndist){a.msg="too many length or distance symbols";e.mode=30;break}e.have=0;e.mode=18;case 18:for(;e.have<e.ncode;){for(;3>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.lens[l[e.have++]]=t&7;t>>>=3;u-=3}for(;19>e.have;)e.lens[l[e.have++]]=0;e.lencode=e.lendyn;e.lenbits=7;f={bits:e.lenbits};H=G(0,e.lens,0,19,e.lencode,0,e.work,f);e.lenbits=f.bits;if(H){a.msg="invalid code lengths set";e.mode=30;break}e.have=0;e.mode=19;case 19:for(;e.have<
e.nlen+e.ndist;){for(;;){var E=e.lencode[t&(1<<e.lenbits)-1];f=E>>>24;E&=65535;if(f<=u)break;if(0===p)break a;p--;t+=h[m++]<<u;u+=8}if(16>E)t>>>=f,u-=f,e.lens[e.have++]=E;else{if(16===E){for(A=f+2;u<A;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}t>>>=f;u-=f;if(0===e.have){a.msg="invalid bit length repeat";e.mode=30;break}A=e.lens[e.have-1];f=3+(t&3);t>>>=2;u-=2}else if(17===E){for(A=f+3;u<A;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}t>>>=f;u-=f;A=0;f=3+(t&7);t>>>=3;u-=3}else{for(A=f+7;u<A;){if(0===p)break a;
p--;t+=h[m++]<<u;u+=8}t>>>=f;u-=f;A=0;f=11+(t&127);t>>>=7;u-=7}if(e.have+f>e.nlen+e.ndist){a.msg="invalid bit length repeat";e.mode=30;break}for(;f--;)e.lens[e.have++]=A}}if(30===e.mode)break;if(0===e.lens[256]){a.msg="invalid code -- missing end-of-block";e.mode=30;break}e.lenbits=9;f={bits:e.lenbits};H=G(1,e.lens,0,e.nlen,e.lencode,0,e.work,f);e.lenbits=f.bits;if(H){a.msg="invalid literal/lengths set";e.mode=30;break}e.distbits=6;e.distcode=e.distdyn;f={bits:e.distbits};H=G(2,e.lens,e.nlen,e.ndist,
e.distcode,0,e.work,f);e.distbits=f.bits;if(H){a.msg="invalid distances set";e.mode=30;break}e.mode=20;if(6===d)break a;case 20:e.mode=21;case 21:if(6<=p&&258<=c){a.next_out=q;a.avail_out=c;a.next_in=m;a.avail_in=p;e.hold=t;e.bits=u;F(a,B);q=a.next_out;r=a.output;c=a.avail_out;m=a.next_in;h=a.input;p=a.avail_in;t=e.hold;u=e.bits;12===e.mode&&(e.back=-1);break}for(e.back=0;;){E=e.lencode[t&(1<<e.lenbits)-1];f=E>>>24;A=E>>>16&255;E&=65535;if(f<=u)break;if(0===p)break a;p--;t+=h[m++]<<u;u+=8}if(A&&0===
(A&240)){var P=f;var T=A;for(k=E;;){E=e.lencode[k+((t&(1<<P+T)-1)>>P)];f=E>>>24;A=E>>>16&255;E&=65535;if(P+f<=u)break;if(0===p)break a;p--;t+=h[m++]<<u;u+=8}t>>>=P;u-=P;e.back+=P}t>>>=f;u-=f;e.back+=f;e.length=E;if(0===A){e.mode=26;break}if(A&32){e.back=-1;e.mode=12;break}if(A&64){a.msg="invalid literal/length code";e.mode=30;break}e.extra=A&15;e.mode=22;case 22:if(e.extra){for(A=e.extra;u<A;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}e.length+=t&(1<<e.extra)-1;t>>>=e.extra;u-=e.extra;e.back+=e.extra}e.was=
e.length;e.mode=23;case 23:for(;;){E=e.distcode[t&(1<<e.distbits)-1];f=E>>>24;A=E>>>16&255;E&=65535;if(f<=u)break;if(0===p)break a;p--;t+=h[m++]<<u;u+=8}if(0===(A&240)){P=f;T=A;for(k=E;;){E=e.distcode[k+((t&(1<<P+T)-1)>>P)];f=E>>>24;A=E>>>16&255;E&=65535;if(P+f<=u)break;if(0===p)break a;p--;t+=h[m++]<<u;u+=8}t>>>=P;u-=P;e.back+=P}t>>>=f;u-=f;e.back+=f;if(A&64){a.msg="invalid distance code";e.mode=30;break}e.offset=E;e.extra=A&15;e.mode=24;case 24:if(e.extra){for(A=e.extra;u<A;){if(0===p)break a;p--;
t+=h[m++]<<u;u+=8}e.offset+=t&(1<<e.extra)-1;t>>>=e.extra;u-=e.extra;e.back+=e.extra}if(e.offset>e.dmax){a.msg="invalid distance too far back";e.mode=30;break}e.mode=25;case 25:if(0===c)break a;f=B-c;if(e.offset>f){f=e.offset-f;if(f>e.whave&&e.sane){a.msg="invalid distance too far back";e.mode=30;break}f>e.wnext?(f-=e.wnext,A=e.wsize-f):A=e.wnext-f;f>e.length&&(f=e.length);P=e.window}else P=r,A=q-e.offset,f=e.length;f>c&&(f=c);c-=f;e.length-=f;do r[q++]=P[A++];while(--f);0===e.length&&(e.mode=21);
break;case 26:if(0===c)break a;r[q++]=e.length;c--;e.mode=21;break;case 27:if(e.wrap){for(;32>u;){if(0===p)break a;p--;t|=h[m++]<<u;u+=8}B-=c;a.total_out+=B;e.total+=B;B&&(a.adler=e.check=e.flags?D(e.check,r,B,q-B):w(e.check,r,B,q-B));B=c;if((e.flags?t:b(t))!==e.check){a.msg="incorrect data check";e.mode=30;break}u=t=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;32>u;){if(0===p)break a;p--;t+=h[m++]<<u;u+=8}if(t!==(e.total&4294967295)){a.msg="incorrect length check";e.mode=30;break}u=t=0}e.mode=29;
case 29:H=1;break a;case 30:H=-3;break a;case 31:return-4;default:return-2}a.next_out=q;a.avail_out=c;a.next_in=m;a.avail_in=p;e.hold=t;e.bits=u;if((e.wsize||B!==a.avail_out&&30>e.mode&&(27>e.mode||4!==d))&&x(a,a.output,a.next_out,B-a.avail_out))return e.mode=31,-4;z-=a.avail_in;B-=a.avail_out;a.total_in+=z;a.total_out+=B;e.total+=B;e.wrap&&B&&(a.adler=e.check=e.flags?D(e.check,r,B,a.next_out-B):w(e.check,r,B,a.next_out-B));a.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?
256:0);(0===z&&0===B||4===d)&&0===H&&(H=-5);return H};a.inflateEnd=function(a){if(!a||!a.state)return-2;var b=a.state;b.window&&(b.window=null);a.state=null;return 0};a.inflateGetHeader=function(a,b){if(!a||!a.state)return-2;a=a.state;if(0===(a.wrap&2))return-2;a.head=b;b.done=!1;return 0};a.inflateSetDictionary=function(a,b){var d=b.length;if(!a||!a.state)return-2;var g=a.state;if(0!==g.wrap&&11!==g.mode)return-2;if(11===g.mode){var k=w(1,b,d,0);if(k!==g.check)return-3}if(x(a,b,d,d))return g.mode=
31,-4;g.havedict=1;return 0};a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(g,m,a){var b=g("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(a,g,m,w,D,F,G,I){var r=I.bits,v,p,B,x,K,N,e=0,y=new b.Buf16(16);var C=new b.Buf16(16);var c,M=0;for(v=0;15>=v;v++)y[v]=0;for(p=0;p<w;p++)y[g[m+p]]++;var h=r;for(B=15;1<=B&&0===y[B];B--);h>B&&(h=B);if(0===B)return D[F++]=20971520,D[F++]=20971520,I.bits=1,0;for(r=1;r<B&&0===y[r];r++);h<r&&(h=r);for(v=x=1;15>=v;v++)if(x<<=1,x-=y[v],0>x)return-1;if(0<x&&(0===a||1!==B))return-1;
C[1]=0;for(v=1;15>v;v++)C[v+1]=C[v]+y[v];for(p=0;p<w;p++)0!==g[m+p]&&(G[C[g[m+p]]++]=p);if(0===a){var R=c=G;var t=19}else 1===a?(R=d,e-=257,c=l,M-=257,t=256):(R=q,c=k,t=-1);p=K=0;v=r;var u=F;w=h;C=0;var z=-1;var Q=1<<h;var H=Q-1;if(1===a&&852<Q||2===a&&592<Q)return 1;for(;;){var A=v-C;if(G[p]<t){var f=0;var E=G[p]}else G[p]>t?(f=c[M+G[p]],E=R[e+G[p]]):(f=96,E=0);x=1<<v-C;r=N=1<<w;do N-=x,D[u+(K>>C)+N]=A<<24|f<<16|E|0;while(0!==N);for(x=1<<v-1;K&x;)x>>=1;0!==x?(K&=x-1,K+=x):K=0;p++;if(0===--y[v]){if(v===
B)break;v=g[m+G[p]]}if(v>h&&(K&H)!==z){0===C&&(C=h);u+=r;w=v-C;for(x=1<<w;w+C<B;){x-=y[w+C];if(0>=x)break;w++;x<<=1}Q+=1<<w;if(1===a&&852<Q||2===a&&592<Q)return 1;z=K&H;D[z]=h<<24|w<<16|u-F|0}}0!==K&&(D[u+K]=v-C<<24|4194304);I.bits=h;return 0}},{"../utils/common":3}],13:[function(g,m,a){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(g,m,a){function b(a){for(var b=
a.length;0<=--b;)a[b]=0}function d(a,b,c,d,e){this.static_tree=a;this.extra_bits=b;this.extra_base=c;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}function l(a,b){this.dyn_tree=a;this.max_code=0;this.stat_desc=b}function q(a,b){a.pending_buf[a.pending++]=b&255;a.pending_buf[a.pending++]=b>>>8&255}function k(a,b,c){a.bi_valid>16-c?(a.bi_buf|=b<<a.bi_valid&65535,q(a,a.bi_buf),a.bi_buf=b>>16-a.bi_valid,a.bi_valid+=c-16):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function r(a,b,c){k(a,
c[2*b],c[2*b+1])}function x(a,b){var c=0;do c|=a&1,a>>>=1,c<<=1;while(0<--b);return c>>>1}function v(a,b,c){var f=Array(16),d=0,e;for(e=1;15>=e;e++)f[e]=d=d+c[e-1]<<1;for(c=0;c<=b;c++)d=a[2*c+1],0!==d&&(a[2*c]=x(f[d]++,d))}function w(a){var b;for(b=0;286>b;b++)a.dyn_ltree[2*b]=0;for(b=0;30>b;b++)a.dyn_dtree[2*b]=0;for(b=0;19>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function D(a){8<a.bi_valid?q(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);
a.bi_buf=0;a.bi_valid=0}function F(a,b,c,d){var f=2*b,e=2*c;return a[f]<a[e]||a[f]===a[e]&&d[b]<=d[c]}function G(a,b,c){for(var d=a.heap[c],f=c<<1;f<=a.heap_len;){f<a.heap_len&&F(b,a.heap[f+1],a.heap[f],a.depth)&&f++;if(F(b,d,a.heap[f],a.depth))break;a.heap[c]=a.heap[f];c=f;f<<=1}a.heap[c]=d}function I(a,b,c){var d=0;if(0!==a.last_lit){do{var f=a.pending_buf[a.d_buf+2*d]<<8|a.pending_buf[a.d_buf+2*d+1];var g=a.pending_buf[a.l_buf+d];d++;if(0===f)r(a,g,b);else{var l=R[g];r(a,l+256+1,b);var q=N[l];
0!==q&&(g-=t[l],k(a,g,q));f--;l=256>f?h[f]:h[256+(f>>>7)];r(a,l,c);q=e[l];0!==q&&(f-=u[l],k(a,f,q))}}while(d<a.last_lit)}r(a,256,b)}function O(a,b){var c=b.dyn_tree,d=b.stat_desc.static_tree,e=b.stat_desc.has_stree,f=b.stat_desc.elems,g,h=-1;a.heap_len=0;a.heap_max=573;for(g=0;g<f;g++)0!==c[2*g]?(a.heap[++a.heap_len]=h=g,a.depth[g]=0):c[2*g+1]=0;for(;2>a.heap_len;){var k=a.heap[++a.heap_len]=2>h?++h:0;c[2*k]=1;a.depth[k]=0;a.opt_len--;e&&(a.static_len-=d[2*k+1])}b.max_code=h;for(g=a.heap_len>>1;1<=
g;g--)G(a,c,g);k=f;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],G(a,c,1),d=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=d,c[2*k]=c[2*g]+c[2*d],a.depth[k]=(a.depth[g]>=a.depth[d]?a.depth[g]:a.depth[d])+1,c[2*g+1]=c[2*d+1]=k,a.heap[1]=k++,G(a,c,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];g=b.dyn_tree;k=b.max_code;d=b.stat_desc.static_tree;e=b.stat_desc.has_stree;f=b.stat_desc.extra_bits;var l=b.stat_desc.extra_base,q=b.stat_desc.max_length,m,p=0;for(m=0;15>=m;m++)a.bl_count[m]=
0;g[2*a.heap[a.heap_max]+1]=0;for(b=a.heap_max+1;573>b;b++){var r=a.heap[b];m=g[2*g[2*r+1]+1]+1;m>q&&(m=q,p++);g[2*r+1]=m;if(!(r>k)){a.bl_count[m]++;var u=0;r>=l&&(u=f[r-l]);var t=g[2*r];a.opt_len+=t*(m+u);e&&(a.static_len+=t*(d[2*r+1]+u))}}if(0!==p){do{for(m=q-1;0===a.bl_count[m];)m--;a.bl_count[m]--;a.bl_count[m+1]+=2;a.bl_count[q]--;p-=2}while(0<p);for(m=q;0!==m;m--)for(r=a.bl_count[m];0!==r;)d=a.heap[--b],d>k||(g[2*d+1]!==m&&(a.opt_len+=(m-g[2*d+1])*g[2*d],g[2*d+1]=m),r--)}v(c,h,a.bl_count)}function J(a,
b,c){var d,e=-1,f=b[1],g=0,h=7,k=4;0===f&&(h=138,k=3);b[2*(c+1)+1]=65535;for(d=0;d<=c;d++){var l=f;f=b[2*(d+1)+1];++g<h&&l===f||(g<k?a.bl_tree[2*l]+=g:0!==l?(l!==e&&a.bl_tree[2*l]++,a.bl_tree[32]++):10>=g?a.bl_tree[34]++:a.bl_tree[36]++,g=0,e=l,0===f?(h=138,k=3):l===f?(h=6,k=3):(h=7,k=4))}}function p(a,b,c){var d,e=-1,f=b[1],g=0,h=7,l=4;0===f&&(h=138,l=3);for(d=0;d<=c;d++){var m=f;f=b[2*(d+1)+1];if(!(++g<h&&m===f)){if(g<l){do r(a,m,a.bl_tree);while(0!==--g)}else 0!==m?(m!==e&&(r(a,m,a.bl_tree),g--),
r(a,16,a.bl_tree),k(a,g-3,2)):10>=g?(r(a,17,a.bl_tree),k(a,g-3,3)):(r(a,18,a.bl_tree),k(a,g-11,7));g=0;e=m;0===f?(h=138,l=3):m===f?(h=6,l=3):(h=7,l=4)}}}function B(a){var b=4093624447,c;for(c=0;31>=c;c++,b>>>=1)if(b&1&&0!==a.dyn_ltree[2*c])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==a.dyn_ltree[2*c])return 1;return 0}function L(a,b,c,d){k(a,d?1:0,3);D(a);q(a,c);q(a,~c);K.arraySet(a.pending_buf,a.window,b,c,a.pending);a.pending+=c}var K=
g("../utils/common"),N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=Array(576);b(c);var M=Array(60);b(M);var h=Array(512);b(h);var R=Array(256);b(R);var t=Array(29);b(t);var u=Array(30);b(u);var z,Q,H,A=!1;a._tr_init=function(a){if(!A){var b,f,g,k=Array(16);for(g=f=0;28>g;g++)for(t[g]=f,b=0;b<1<<N[g];b++)R[f++]=g;R[f-
1]=g;for(g=f=0;16>g;g++)for(u[g]=f,b=0;b<1<<e[g];b++)h[f++]=g;for(f>>=7;30>g;g++)for(u[g]=f<<7,b=0;b<1<<e[g]-7;b++)h[256+f++]=g;for(b=0;15>=b;b++)k[b]=0;for(b=0;143>=b;)c[2*b+1]=8,b++,k[8]++;for(;255>=b;)c[2*b+1]=9,b++,k[9]++;for(;279>=b;)c[2*b+1]=7,b++,k[7]++;for(;287>=b;)c[2*b+1]=8,b++,k[8]++;v(c,287,k);for(b=0;30>b;b++)M[2*b+1]=5,M[2*b]=x(b,5);z=new d(c,N,257,286,15);Q=new d(M,e,0,30,15);H=new d([],y,0,19,7);A=!0}a.l_desc=new l(a.dyn_ltree,z);a.d_desc=new l(a.dyn_dtree,Q);a.bl_desc=new l(a.bl_tree,
H);a.bi_buf=0;a.bi_valid=0;w(a)};a._tr_stored_block=L;a._tr_flush_block=function(a,b,d,e){var f=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=B(a));O(a,a.l_desc);O(a,a.d_desc);J(a,a.dyn_ltree,a.l_desc.max_code);J(a,a.dyn_dtree,a.d_desc.max_code);O(a,a.bl_desc);for(f=18;3<=f&&0===a.bl_tree[2*C[f]+1];f--);a.opt_len+=3*(f+1)+14;var g=a.opt_len+3+7>>>3;var h=a.static_len+3+7>>>3;h<=g&&(g=h)}else g=h=d+5;if(d+4<=g&&-1!==b)L(a,b,d,e);else if(4===a.strategy||h===g)k(a,2+(e?1:0),3),I(a,c,M);else{k(a,
4+(e?1:0),3);b=a.l_desc.max_code+1;d=a.d_desc.max_code+1;f+=1;k(a,b-257,5);k(a,d-1,5);k(a,f-4,4);for(g=0;g<f;g++)k(a,a.bl_tree[2*C[g]+1],3);p(a,a.dyn_ltree,b-1);p(a,a.dyn_dtree,d-1);I(a,a.dyn_ltree,a.dyn_dtree)}w(a);e&&D(a)};a._tr_tally=function(a,b,c){a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255;a.pending_buf[a.d_buf+2*a.last_lit+1]=b&255;a.pending_buf[a.l_buf+a.last_lit]=c&255;a.last_lit++;0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(R[c]+256+1)]++,a.dyn_dtree[2*(256>b?h[b]:h[256+(b>>>
7)])]++);return a.last_lit===a.lit_bufsize-1};a._tr_align=function(a){k(a,2,3);r(a,256,c);16===a.bi_valid?(q(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}},{"../utils/common":3}],15:[function(g,m,a){m.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/":[function(g,m,a){a=
g("./lib/utils/common").assign;var b=g("./lib/deflate"),d=g("./lib/inflate");g=g("./lib/zlib/constants");var l={};a(l,b,d,g);m.exports=l},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});(function(n,g){"object"===typeof exports&&"undefined"!==typeof module?g(exports):"function"===typeof define&&define.amd?define(["exports"],g):g(n.riot={})})(this,function(n){function g(a,b){return(b||document).querySelector(a)}function m(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function a(a,b,c){var d=cb.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function b(a,b){return Object.getOwnPropertyDescriptor(a,
b)}function d(a){return"undefined"===typeof a}function l(a,c){var e=b(a,c);return d(a[c])||e&&e.writable}function q(a){for(var b,c=1,d=arguments,e=d.length;c<e;c++)if(b=d[c])for(var f in b)l(a,f)&&(a[f]=b[f]);return a}function k(a){return Object.create(a)}function r(a,b){return[].slice.call((b||document).querySelectorAll(a))}function x(){return document.createTextNode("")}function v(a,b){a.style.display=b?"":"none";a.hidden=b?!1:!0}function w(a,b,c){c?(b=a.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+
b+"</svg>","application/xml").documentElement,!0),a.appendChild(b)):a.innerHTML=b}function D(a,b){if(a)for(var c;c=db.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function F(){return document.createDocumentFragment()}function G(a,b,c){a.insertBefore(b,c.parentNode&&c)}function I(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function O(a,b,c){if(a&&(c=b(a,c),!1!==c))for(a=a.firstChild;a;){var d=a.nextSibling;O(a,b,c);a=d}}function J(a){return d(a)||null===a}function p(a){return J(a)||
""===a}function B(a){return"function"===typeof a}function L(a){return a&&"object"===typeof a}function K(a){a=a.ownerSVGElement;return!!a||null===a}function N(a){return Array.isArray(a)||a instanceof Array}function e(a){return eb.test(a)}function y(a){return"string"===typeof a}function C(a,b){return-1!==a.indexOf(b)}function c(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function M(a,b){return a.slice(0,b.length)===b}function h(a,b,c,d){Object.defineProperty(a,b,q({value:c,enumerable:!1,
writable:!1,configurable:!0},d));return a}function R(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})}function t(a){console&&console.warn&&console.warn(a)}function u(a,b,c,e,f){var g=a[b],h=N(g),k=!d(f);g&&g===c||(!g&&e?a[b]=[c]:g?h?(a=g.indexOf(c),a!==f&&(-1!==a&&g.splice(a,1),k?g.splice(f,0,c):g.push(c))):a[b]=[g,c]:a[b]=c)}function z(a){return a.tagName&&V[a.getAttribute("data-is")||a.getAttribute("data-is")||a.tagName.toLowerCase()]}function Q(a,b){var c=z(a);return(b=!b&&a.getAttribute("data-is"))&&
!S.hasExpr(b)?b:c?c.name:a.tagName.toLowerCase()}function H(){return this.parent?q(k(this),this.parent):this}function A(a,b){if(!fb.test(a))return a;var c={};b=b&&b.replace(gb,function(a,b,d){c[b]=c[b]||d;return""}).trim();return a.replace(hb,function(a,b,d){return c[b]||d||""}).replace(ib,function(a,c){return b||c||""})}function f(a,b,c){var d=a&&a.match(/^\s*<([-\w]+)/);d=d&&d[1].toLowerCase();var e=m(c?"svg":"div");a=A(a,b);jb.test(d)?(c=e,b=(e="o"===d[0])?"select>":"table>",c.innerHTML="<"+b+
a.trim()+"</"+b,b=c.firstChild,e?b.selectedIndex=-1:(a=kb[d])&&1===b.childElementCount&&(b=g(a,b)),e=b):w(e,a,c);return e}function E(a){for(;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function P(a,b,c){var d=this.__.parent,e=this.__.item;if(!e)for(;d&&!e;)e=d.__.item,d=d.__.parent;l(c,"currentTarget")&&(c.currentTarget=a);l(c,"target")&&(c.target=c.srcElement);l(c,"which")&&(c.which=c.charCode||c.keyCode);c.item=e;b.call(this,c);Da.autoUpdate&&!c.preventUpdate&&(a=E(this),a.isMounted&&a.update())}
function T(a,b,c,d){a=ua(a,b,c);b=b.tagName||Q(b.root,!0);c=E(d);h(a,"parent",c);a.__.parent=d;u(c.tags,b,a);c!==d&&u(d.tags,b,a);return a}function X(a,b,c,d){N(a[b])?(c=a[b].indexOf(c),-1!==c&&a[b].splice(c,1),a[b].length?1!==a[b].length||d||(a[b]=a[b][0]):delete a[b]):a[b]===c&&delete a[b]}function fa(a,b){var c=x(),d=x(),e=F();this.root.insertBefore(c,this.root.firstChild);this.root.appendChild(d);this.__.head=c;for(this.__.tail=d;c;)d=c.nextSibling,e.appendChild(c),this.__.virts.push(c),c=d;b?
a.insertBefore(e,b.__.head):a.appendChild(e)}function ba(a,b){var c=F();fa.call(a,c);b.parentNode.replaceChild(c,b)}function ra(b,d,e){var f=b.tag||b.dom._tag,g=(f?f.__:{}).head,h="VIRTUAL"===b.dom.tagName;if(f&&b.tagName===e)f.update();else{if(f){if(h){var k=x();g.parentNode.insertBefore(k,g)}f.unmount(!0)}y(e)&&(b.impl=V[e],b.impl&&(b.tag=f=T(b.impl,{root:b.dom,parent:d,tagName:e},b.dom.innerHTML,d),c(b.attrs,function(b){return a(f.root,b.name,b.value)}),b.tagName=e,f.mount(),h&&ba(f,k||f.root),
d.__.onUnmount=function(){var a=f.opts.dataIs;X(f.parent.tags,a,f);X(f.__.parent.tags,a,f);f.unmount()}))}}function Y(b){if(!this.root||!this.root.getAttribute("virtualized")){var c=b.dom,d;(d=b.attr)?(d=d.replace("riot-",""),Oa[d]&&(d=Oa[d])):d=null;var e=C(["show","hide"],d),f=b.root&&"VIRTUAL"===b.root.tagName,g=this.__.isAnonymous,h=c&&(b.parent||c.parentNode),k="style"===d,l="class"===d;if(b._riot_id)b.__.wasCreated?b.update():(b.mount(),f&&ba(b,b.root));else{if(b.update)return b.update();f=
e&&!g?H.call(this):this;f=S(b.expr,f);g=!p(f);var m=L(f);m&&(l?f=S(JSON.stringify(f),this):k&&(f=I(f)));if(b.attr&&(!b.wasParsedOnce||!g||!1===f)){var q=c.getAttribute(b.attr)?b.attr:d;c.removeAttribute(q)}b.bool&&(f=f?d:!1);if(b.isRtag)return ra(b,this,f);if(!b.wasParsedOnce||b.value!==f)if(b.value=f,b.wasParsedOnce=!0,!m||l||k||e)g||(f=""),d?B(f)?(b=d,e=P.bind(this,c,f),c[b]=null,d=b.replace(lb,""),C(this.__.listeners,c)||this.__.listeners.push(c),c["__riot-events__"]||(c["__riot-events__"]={}),
c["__riot-events__"][b]&&c.removeEventListener(d,c["__riot-events__"][b]),c["__riot-events__"][b]=e,c.addEventListener(d,e,!1)):e?v(c,"hide"===d?!f:f):(b.bool&&(c[d]=f),"value"===d&&c.value!==f?c.value=f:g&&!1!==f&&a(c,d,f),k&&c.hidden&&v(c,!1)):(f+="",h&&(b.parent=h,"TEXTAREA"===h.tagName?(h.value=f,Ea||(c.nodeValue=f)):c.nodeValue=f))}}}function ha(a,b,d,e,f){if(!a||!d){var g=a?H.call(this):b||this;c(f,function(a){a.expr&&Y.call(g,a.expr);e[R(a.name).replace("riot-","")]=a.expr?a.expr.value:a.value})}}
function ca(a){return a?a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,b){b=b.trim().toLowerCase();return a+',[data-is="'+b+'"]'},""):(a=Object.keys(V),a+ca(a))}function sa(a,b){var c=this.name,d=this.tmpl,e=this.css,f=this.attrs,g=this.onCreate;V[c]||(W(c,d,e,f,g),V[c].class=this.constructor);Fa(a,c,b,this);e&&ia.inject();return this}function W(a,b,c,d,e){B(d)&&(e=d,/^[\w-]+\s?=/.test(c)?(d=c,c=""):d="");c&&(B(c)?e=c:ia.add(c,a));a=a.toLowerCase();V[a]={name:a,tmpl:b,attrs:d,fn:e};
return a}function Ja(a,b,c,d,e){c&&ia.add(c,a);V[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function Aa(b,d,e){function f(b){if(b.tagName){var h=b.getAttribute("data-is");d&&h!==d&&(h=d,a(b,"data-is",d));(b=Fa(b,h||b.tagName.toLowerCase(),e))&&g.push(b)}else b.length&&c(b,f)}var g=[],h;ia.inject();L(d)&&(e=d,d=0);y(b)&&(b=(b="*"===b?h=ca():b+ca(b.split(/, */)))?r(b):[]);if("*"===d){d=h||ca();if(b.tagName)b=r(d,b);else{var k=[];c(b,function(a){return k.push(r(d,a))});b=k}d=0}f(b);return g}function na(a,
b,c){if(L(a))na("__"+mb++ +"__",a,!0);else{c=c?nb:Pa;if(!b){if(d(c[a]))throw Error("Unregistered mixin: "+a);return c[a]}c[a]=B(b)?q(b.prototype,c[a]||{})&&b:q(c[a]||{},b)}}function ja(){return c(la,function(a){return a.update()})}function Z(a){ia.remove(a);return delete V[a]}function qa(a){for(var d=[],e=arguments.length-1;0<e--;)d[e]=arguments[e+1];c(d,function(d){var e,f=[],g=["init","__proto__"];d=y(d)?na(d):d;var h=B(d)?new d:d;var k=Object.getPrototypeOf(h);do f=f.concat(Object.getOwnPropertyNames(e||
h));while(e=Object.getPrototypeOf(e||h));c(f,function(c){if(!C(g,c)){var d=b(h,c)||b(k,c),e=d&&(d.get||d.set);!a.hasOwnProperty(c)&&e?Object.defineProperty(a,c,d):a[c]=B(h[c])?h[c].bind(a):h[c]}});h.init&&h.init.bind(a)(a.opts)});return a}function Ka(a,b){var c=this.parent;if(c){var d=c.tags[a];N(d)?d.splice(b,0,d.splice(d.indexOf(this),1)[0]):u(c.tags,a,this)}}function aa(a,b){for(var c=this.__.head,d,e=F();c;)if(d=c.nextSibling,e.appendChild(c),c=d,c===this.__.tail){e.appendChild(c);a.insertBefore(e,
b.__.head);break}}function da(a,b,c){var d={};d[a.key]=b;a.pos&&(d[a.pos]=c);return d}function oa(a,b,c){var d=b.length;for(a=a.length-c;d>a;)d--,ka.apply(b[d],[b,d])}function ka(a,b){a.splice(b,1);this.unmount();X(this.parent,this,this.__.tagName,!0)}function Ya(a){var b=this;c(Object.keys(this.tags),function(c){Ka.apply(b.tags[c],[c,a])})}function pa(a,b,c){c?aa.apply(this,[a,b]):G(a,this.root,b.root)}function Za(a,b,c){c?fa.apply(this,[a,b]):G(a,this.root,b.root)}function $a(a,b){b?fa.call(this,
a):a.appendChild(this.root)}function ab(a,b,d){var e;(e="string"!==typeof a.getAttribute("no-reorder"))||(a.removeAttribute("no-reorder"),e=void 0);var f=e,g=a.getAttribute("key"),h=g?S.hasExpr(g):!1,l=Q(a),m=V[l];e=a.parentNode;var n=x(),p=z(a),r=a.getAttribute("if"),t=[],bb=a.innerHTML,v=!V[l],Ba="VIRTUAL"===a.tagName,w=[],va;a.removeAttribute("each");a.removeAttribute("key");d=S.loopKeys(d);d.isLoop=!0;r&&a.removeAttribute("if");e.insertBefore(n,a);e.removeChild(a);d.update=function(){d.value=
S(d.val,b);var e=d.value,Ma=F(),ea=!N(e)&&!y(e),x=n.parentNode,A=[];if(x){ea?e=(va=e||!1)?Object.keys(e).map(function(a){return da(d,e[a],a)}):[]:va=!1;var Ca=0;c(e,function(c,n){n-=Ca;var ea=!va&&d.key?da(d,c,n):c;if(r&&!S(r,q(k(b),ea)))Ca++;else{var y=g?h?S(g,ea):c[g]:c;c=f&&"object"===typeof c&&!va;var z=w.indexOf(y),B=-1===z;z=!B&&c?z:n;var U=t[z],Na=n>=w.length;if(B=c&&B||!c&&!U)U=ua(m,{parent:b,isLoop:!0,isAnonymous:v,tagName:l,root:a.cloneNode(v),item:ea,index:n},bb),U.mount(),Na?$a.apply(U,
[Ma||x,Ba]):Za.apply(U,[x,t[n],Ba]),Na||w.splice(n,0,ea),t.splice(n,0,U),p&&u(b.tags,l,U,!0);else if(z!==n&&c){if(g||C(e,w[z]))pa.apply(U,[x,t[n],Ba]),t.splice(n,0,t.splice(z,1)[0]),w.splice(n,0,w.splice(z,1)[0]);d.pos&&(U[d.pos]=n);!p&&U.tags&&Ya.call(U,n)}q(U.__,{item:ea,index:n,parent:b});A[n]=y;B||U.update(ea)}});oa(e,t,Ca);w=A.slice();x.insertBefore(Ma,n)}};d.unmount=function(){c(t,function(a){a.unmount()})};return d}function La(a,b,c,d){return k(Qa).init(a,b,c,d)}function ta(a){c(a,function(a){a.unmount?
a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function Ra(a,b,c){return k(ob).init(a,b,c)}function Sa(b,c){var d=this,e=[];O(b,function(f){var g=f.nodeType,h;if(c||f!==b)if(3===g&&"STYLE"!==f.parentNode.tagName&&S.hasExpr(f.nodeValue)&&e.push({dom:f,expr:f.nodeValue}),1===g){g="VIRTUAL"===f.tagName;if(h=f.getAttribute("each"))return g&&a(f,"loopVirtual",!0),e.push(ab(f,d,h)),!1;if(h=f.getAttribute("if"))return e.push(Ra(f,d,h)),!1;if((h=f.getAttribute("data-is"))&&S.hasExpr(h))return e.push({isRtag:!0,
expr:h,dom:f,attrs:[].slice.call(f.attributes)}),!1;h=z(f);g&&(f.getAttribute("virtualized")&&f.parentElement.removeChild(f),h||f.getAttribute("virtualized")||f.getAttribute("loopVirtual")||(h={tmpl:f.outerHTML}));if(h&&(f!==b||c)){var k=f.getAttribute("data-is");if(g&&!k)a(f,"virtualized",!0),g=ua({tmpl:f.outerHTML},{root:f,parent:d},f.innerHTML),e.push(g);else return k&&g&&t('Virtual tags shouldn\'t be used together with the "data-is" attribute - https://github.com/riot/riot/issues/2511'),e.push(T(h,
{root:f,parent:d},f.innerHTML,d)),!1}Ga.apply(d,[f,f.attributes,function(a,b){b&&e.push(b)}])}});return e}function Ga(a,b,d){var f=this;c(b,function(b){if(!b)return!1;var c=b.name,g=e(c),h;C(pb,c)&&"yield"!==a.tagName.toLowerCase()?h=La(a,f,c,b.value):S.hasExpr(b.value)&&(h={dom:a,expr:b.value,attr:c,bool:g});d(b,h)})}function wa(a){var b=this.__.isAnonymous;h(this,"isMounted",a);b||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function qb(b,d,e,f){var g=
b.__,k=g.root;k._tag=b;Ga.apply(g.parent,[k,k.attributes,function(a,c){!g.isAnonymous&&Qa.isPrototypeOf(c)&&(c.tag=b);a.expr=c;g.instAttrs.push(a)}]);D(g.impl.attrs,function(a,b){g.implAttrs.push({name:a,value:b})});Ga.apply(b,[k,g.implAttrs,function(b,c){c?e.push(c):a(k,b.name,b.value)}]);ha.apply(b,[g.isLoop,g.parent,g.isAnonymous,f,g.instAttrs]);var l=na("__global_mixin");if(l&&!g.skipAnonymous)for(var m in l)l.hasOwnProperty(m)&&b.mixin(l[m]);g.impl.fn&&g.impl.fn.call(b,f);g.skipAnonymous||b.trigger("before-mount");
c(Sa.apply(b,[d,g.isAnonymous]),function(a){return e.push(a)});b.update(g.item);if(!g.isAnonymous&&!g.isInline)for(;d.firstChild;)k.appendChild(d.firstChild);h(b,"root",k);!g.skipAnonymous&&b.parent?(d=E(b.parent),d.one(d.isMounted?"updated":"mount",function(){wa.call(b,!0)})):wa.call(b,!0);b.__.wasCreated=!0;return b}function rb(a,b,d){var e=a.__,f=e.root,g=la.indexOf(a),h=f.parentNode;e.skipAnonymous||a.trigger("before-unmount");D(e.impl.attrs,function(a){M(a,"riot-")&&(a=a.slice(5));f.removeAttribute(a)});
a.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})});-1!==g&&la.splice(g,1);if(e.parent&&!e.isAnonymous){var k=E(e.parent);e.isVirtual?Object.keys(a.tags).forEach(function(b){return X(k.tags,b,a.tags[b])}):X(k.tags,e.tagName,a)}a.__.virts&&c(a.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)});ta(d);c(e.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()});b?w(f,""):h&&h.removeChild(f);
if(e.onUnmount)e.onUnmount();a.isMounted||wa.call(a,!0);wa.call(a,!1);delete f._tag;return a}function ua(a,b,d){void 0===a&&(a={});void 0===b&&(b={});var e=b.context||{},g=q({},b.opts),k=b.parent,l=b.isLoop,m=!!b.isAnonymous,n=Da.skipAnonymousTags&&m,p=b.item,r=b.index,u=[],t=b.root;b=b.tagName||Q(t);var v="virtual"===b,w=!v&&!a.tmpl;n||Ha(e);a.name&&t._tag&&t._tag.unmount(!0);h(e,"isMounted",!1);h(e,"__",{impl:a,root:t,skipAnonymous:n,implAttrs:[],isAnonymous:m,instAttrs:[],innerHTML:d,tagName:b,
index:r,isLoop:l,isInline:w,item:p,parent:k,listeners:[],virts:[],wasCreated:!1,tail:null,head:null});h(e,"_riot_id",Ta());h(e,"root",t);q(e,{opts:g},p);h(e,"parent",k||null);h(e,"tags",{});h(e,"refs",{});if(w||l&&m)var x=t;else v||(t.innerHTML=""),x=f(a.tmpl,d,K(t));h(e,"update",function(a){var b=e.__,d={},f=e.isMounted&&!b.skipAnonymous;b.isAnonymous&&b.parent&&q(e,b.parent);q(e,a);ha.apply(e,[b.isLoop,b.parent,b.isAnonymous,d,b.instAttrs]);f&&e.isMounted&&B(e.shouldUpdate)&&!e.shouldUpdate(a,d)||
(q(e.opts,d),f&&e.trigger("update",a),c(u,Y.bind(e)),f&&e.trigger("updated"));return e});h(e,"mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return qa.apply(void 0,[e].concat(a))});h(e,"mount",function(){return qb(e,x,u,g)});h(e,"unmount",function(a){return rb(e,a,u)});return e}function Fa(a,b,c,d){var e=V[b];b=V[b].class;b=d||(b?k(b.prototype):{});d=a._innerHTML=a._innerHTML||a.innerHTML;c=q({root:a,opts:c,context:b},{parent:c?c.parent:null});var f;e&&a&&(f=ua(e,c,d));f&&
f.mount&&(f.mount(!0),C(la,f)||la.push(f));return f}var la=[],V={},pb=["ref","data-ref"],cb=/^xlink:(\w+)/,xa="undefined"===typeof window?void 0:window,sb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,tb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,lb=/^on/,db=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Oa={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},eb=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,
Ea=(xa&&xa.document||{}).documentMode|0,ya={},za=!1;if(xa){var Ia=function(){var b=m("style"),c=g("style[type=riot]");a(b,"type","text/css");c?(c.id&&(b.id=c.id),c.parentNode.replaceChild(b,c)):document.head.appendChild(b);return b}();var Ua=Ia.styleSheet}var ia={styleNode:Ia,add:function(a,b){ya[b]=a;za=!0},inject:function(){if(xa&&za){za=!1;var a=Object.keys(ya).map(function(a){return ya[a]}).join("\n");Ua?Ua.cssText=a:Ia.innerHTML=a}},remove:function(a){delete ya[a];za=!0}},Va=function(){function a(a,
b){for(;0<=--b&&/\s/.test(a[b]););return b}var b="case default do else in instanceof prefix return typeof void yield".split(" "),c=b.reduce(function(a,b){return a+b.slice(-1)},""),d=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,e=/[$\w]/;return function(f,g){var h=/.*/g,k=h.lastIndex=g++;if(h=h.exec(f)[0].match(d)){h=k+h[0].length;k=a(f,k);var l=f[k];if(0>k||~"[{(,;:?=|&!^~>%*/".indexOf(l))return h;if("."===l)"."===f[k-1]&&(g=h);else if("+"===l||"-"===l){if(f[--k]!==
l||0>(k=a(f,k))||!e.test(f[k]))g=h}else if(~c.indexOf(l)){for(l=k+1;0<=--k&&e.test(f[k]););~b.indexOf(f.slice(k+1,l))&&(g=h)}}return g}}(),ma=function(a){function b(a){return a}function c(a,b){b||(b=t);return new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(a){if("{ }"===a)return n;var b=a.split(" ");if(2!==b.length||k.test(a))throw Error('Unsupported brackets "'+a+'"');b=b.concat(a.replace(l,"\\").split(" "));b[4]=c(1<b[1].length?/{[\S\s]*?}/:n[4],b);b[5]=c(3<
a.length?/\\({|})/g:n[5],b);b[6]=c(n[6],b);b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+m,"g");b[8]=a;return b}function e(a){return a instanceof RegExp?r(a):t[a]}function f(a){(a||(a="{ }"))!==t[8]&&(t=d(a),r="{ }"===a?b:c,t[9]=r(n[9]));p=a}var g=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,h=g.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,
k=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,l=/(?=[[\]()*+?.^$|])/g,m=g.source+"|"+/(\/)(?![*\/])/.source,q={"(":RegExp("([()])|"+m,"g"),"[":RegExp("([[\\]])|"+m,"g"),"{":RegExp("([{}])|"+m,"g")},n=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],p=a,r,t=[],u;e.split=function(a,b,c){function d(a){n&&(a=n+a,n="");b||h?f.push(a&&a.replace(c[5],"$1")):f.push(a)}function e(c,d,e){e&&(d=Va(a,
c));b&&d>c+2&&(p="\u2057"+m.length+"~",m.push(a.slice(c,d)),n+=a.slice(k,c)+p,k=d);return d}c||(c=t);var f=[],g,h,k,l=c[6],m=[],n="",p;for(h=k=l.lastIndex=0;g=l.exec(a);){var r=l.lastIndex;var u=g.index;if(h){if(g[2]){u=g[2];var v=q[u],w=1;for(v.lastIndex=r;g=v.exec(a);)if(g[1])if(g[1]===u)++w;else{if(!--w)break}else v.lastIndex=e(g.index,v.lastIndex,g[2]);l.lastIndex=w?a.length:v.lastIndex;continue}if(!g[3]){l.lastIndex=e(u,r,g[4]);continue}}g[1]||(d(a.slice(k,u)),k=l.lastIndex,l=c[6+(h^=1)],l.lastIndex=
k)}a&&k<a.length&&d(a.slice(k));f.qblocks=m;return f};e.hasExpr=function(a){return t[4].test(a)};e.loopKeys=function(a){var b=a.match(t[9]);return b?{key:b[1],pos:b[2],val:t[0]+b[3].trim()+t[1]}:{val:a.trim()}};e.array=function(a){return a?d(a):t};Object.defineProperty(e,"settings",{set:function(a){a=a||{};var b=a.brackets;Object.defineProperty(a,"brackets",{set:f,get:function(){return p},enumerable:!0});u=a;f(b)},get:function(){return u}});e.settings="undefined"!==typeof riot&&riot.settings||{};
e.set=f;e.skipRegex=Va;e.R_STRINGS=g;e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g;e.S_QBLOCKS=h;e.S_QBLOCK2=m;return e}(),S=function(){function a(a,d){return a?(g[a]||(g[a]=c(a))).call(d,b.bind({data:d,tmpl:a})):a}function b(b,c){b.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id};a.errorHandler?a.errorHandler(b):"undefined"!==typeof console&&"function"===typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}
function c(a){a=d(a);"try{return "!==a.slice(0,11)&&(a="return "+a);return new Function("E",a+";")}function d(a){a=ma.split(a.replace(h,'"'),1);var b=a.qblocks,c;if(2<a.length||a[0]){var d,f,g=[];for(d=f=0;d<a.length;++d)(c=a[d])&&(c=d&1?e(c,1,b):'"'+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(g[f++]=c);c=2>f?g[0]:"["+g.join(",")+'].join("")'}else c=e(a[1],0,b);b.length&&(c=c.replace(k,function(a,c){return b[c].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return c}
function e(a,b,c){if(a=a.replace(/\s+/g," ").trim().replace(/ ?([[\({},?\.:]) ?/g,"$1")){for(var d=[],e=0,g;a&&(g=a.match(l))&&!g.index;){var h,k,n=/,|([[{(])|$/g;a=RegExp.rightContext;for(h=g[2]?c[g[2]].slice(1,-1).trim().replace(/\s+/g," "):g[1];k=(g=n.exec(a))[1];){var q=n,p=1,r=m[k];for(r.lastIndex=q.lastIndex;g=r.exec(a);)if(g[0]===k)++p;else if(!--p)break;q.lastIndex=p?a.length:r.lastIndex}k=a.slice(0,g.index);a=RegExp.rightContext;d[e++]=f(k,1,h)}a=e?1<e?"["+d.join(",")+'].join(" ").trim()':
d[0]:f(a,b)}return a}function f(a,b,c){var d;a=a.replace(q,function(a,b,c,e,f){c&&(e=d?0:e+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+'("'+c+n+c,e&&(d="."===(f=f[e])||"("===f||"["===f)):e&&(d=!p.test(f.slice(e))));return a});d&&(a="try{return "+a+"}catch(e){E(e,this)}");c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+'?"'+c+'":""':b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+';return v||v===0?v:""}.call(this)');return a}var g={};a.hasExpr=ma.hasExpr;a.loopKeys=ma.loopKeys;
a.clearCache=function(){g={}};a.errorHandler=null;var h=/\u2057/g,k=/\u2057(\d+)~/g,l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,m={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},n='"in this?this:'+("object"!==typeof window?"global":"window")+").",q=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,p=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;a.version=ma.version="v3.0.8";return a}(),Ha=function(a){a=
a||{};var b={},c=Array.prototype.slice;Object.defineProperties(a,{on:{value:function(c,d){"function"==typeof d&&(b[c]=b[c]||[]).push(d);return a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(c,d){if("*"!=c||d)if(d){c=b[c];for(var e=0,f;f=c&&c[e];++e)f==d&&c.splice(e--,1)}else delete b[c];else b={};return a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,c){function d(){a.off(b,d);c.apply(a,arguments)}return a.on(b,d)},enumerable:!1,writable:!1,configurable:!1},
trigger:{value:function(d){var e=arguments,f=arguments.length-1,g=Array(f),h;for(h=0;h<f;h++)g[h]=e[h+1];e=c.call(b[d]||[],0);for(h=0;f=e[h];++h)f.apply(a,g);b["*"]&&"*"!=d&&a.trigger.apply(a,["*",d].concat(g));return a},enumerable:!1,writable:!1,configurable:!1}});return a},Da=q(k(ma.settings),{skipAnonymousTags:!0,autoUpdate:!0}),ub=Object.freeze({$$:r,$:g,createDOMPlaceholder:x,mkEl:m,setAttr:a,toggleVisibility:v,getAttr:function(a,b){return a.getAttribute(b)},remAttr:function(a,b){a.removeAttribute(b)},
setInnerHTML:w,walkAttrs:D,createFrag:F,safeInsert:G,styleObjectToString:I,walkNodes:O}),vb=Object.freeze({isBlank:p,isFunction:B,isObject:L,isSvg:K,isWritable:l,isArray:N,isBoolAttr:e,isNil:J,isString:y,isUndefined:d}),Ta=function(){var a=-1;return function(){return++a}}(),wb=Object.freeze({contains:C,each:c,getPropDescriptor:b,startsWith:M,uid:Ta,defineProperty:h,objectCreate:k,extend:q,toCamel:R,warn:t}),fb=/<yield\b/i,ib=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,gb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,
hb=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,kb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},jb=Ea&&10>Ea?sb:tb,Pa={},nb=Pa.__global_mixin={},mb=0,xb=Object.freeze({Tag:sa,tag:W,tag2:Ja,mount:Aa,mixin:na,update:ja,unregister:Z,version:"v3.9.4"}),Qa={init:function(a,b,c,d){this.dom=a;this.attr=c;this.rawValue=d;this.parent=b;this.hasExp=S.hasExpr(d);return this},update:function(){var b=this.value,c=this.parent&&E(this.parent),d=this.dom.__ref||this.tag||this.dom;this.value=
this.hasExp?S(this.rawValue,this.parent):this.rawValue;!p(b)&&c&&X(c.refs,b,d);!p(this.value)&&y(this.value)?(c&&u(c.refs,this.value,d,null,this.parent.__.index),this.value!==b&&a(this.dom,this.attr,this.value)):this.dom.removeAttribute(this.attr);this.dom.__ref||(this.dom.__ref=d)},unmount:function(){var a=this.tag||this.dom,b=this.parent&&E(this.parent);!p(this.value)&&b&&X(b.refs,this.value,a)}},ob={init:function(a,b,c){a.removeAttribute("if");q(this,{tag:b,expr:c,stub:x(),pristine:a});b=a.parentNode;
b.insertBefore(this.stub,a);b.removeChild(a);return this},update:function(){(this.value=S(this.expr,this.tag))&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Sa.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(ta(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]);this.value&&
c(this.expressions,Y.bind(this.tag))},unmount:function(){ta(this.expressions||[])}},yb=Object.freeze({arrayishAdd:u,getTagName:Q,inheritParentProps:H,mountTo:Fa,selectTags:ca,arrayishRemove:X,getTag:z,initChildTag:T,moveChildTag:Ka,makeReplaceVirtual:ba,getImmediateCustomParentTag:E,makeVirtual:fa,moveVirtual:aa,unmountAll:ta,createIfDirective:Ra,createRefDirective:La}),Wa=Da,Xa={tmpl:S,brackets:ma,styleManager:ia,vdom:la,styleNode:ia.styleNode,dom:ub,check:vb,misc:wb,tags:yb},zb=W,Ab=na,Bb=Ha,Cb=
q({},xb,{observable:Ha,settings:Wa,util:Xa});n.settings=Wa;n.util=Xa;n.Tag=sa;n.tag=zb;n.tag2=Ja;n.mount=Aa;n.mixin=Ab;n.update=ja;n.unregister=Z;n.version="v3.9.4";n.observable=Bb;n.default=Cb;Object.defineProperty(n,"__esModule",{value:!0})});+function(n){function g(a){return this.each(function(){var b=n(this),d=b.data("bs.tab");d||b.data("bs.tab",d=new m(this));if("string"==typeof a)d[a]()})}var m=function(a){this.element=n(a)};m.VERSION="3.3.7";m.TRANSITION_DURATION=150;m.prototype.show=function(){var a=this.element,b=a.closest("ul:not(.dropdown-menu)"),g=a.data("target");g||(g=(g=a.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));if(!a.parent("li").hasClass("active")){var k=b.find(".active:last a"),m=n.Event("hide.bs.tab",{relatedTarget:a[0]}),
x=n.Event("show.bs.tab",{relatedTarget:k[0]});k.trigger(m);a.trigger(x);x.isDefaultPrevented()||m.isDefaultPrevented()||(g=n(g),this.activate(a.closest("li"),b),this.activate(g,g.parent(),function(){k.trigger({type:"hidden.bs.tab",relatedTarget:a[0]});a.trigger({type:"shown.bs.tab",relatedTarget:k[0]})}))}};m.prototype.activate=function(a,b,g){function d(){l.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);q?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);g&&g()}var l=b.find("> .active"),q=g&&n.support.transition&&(l.length&&l.hasClass("fade")||!!b.find("> .fade").length);l.length&&q?l.one("bsTransitionEnd",d).emulateTransitionEnd(m.TRANSITION_DURATION):d();l.removeClass("in")};var a=n.fn.tab;n.fn.tab=g;n.fn.tab.Constructor=m;n.fn.tab.noConflict=function(){n.fn.tab=
a;return this};var b=function(a){a.preventDefault();g.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',b).on("click.bs.tab.data-api",'[data-toggle="pill"]',b)}(jQuery);+function(n){var g=function(a,b){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",a,b)};g.VERSION="3.3.7";g.TRANSITION_DURATION=150;g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};g.prototype.init=function(a,b,
d){this.enabled=!0;this.type=a;this.$element=n(b);this.options=this.getOptions(d);this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:!1,hover:!1,focus:!1};if(this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");a=this.options.trigger.split(" ");
for(b=a.length;b--;)if(d=a[b],"click"==d)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if("manual"!=d){var g="hover"==d?"mouseleave":"focusout";this.$element.on(("hover"==d?"mouseenter":"focusin")+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(g+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};g.prototype.getDefaults=
function(){return g.DEFAULTS};g.prototype.getOptions=function(a){a=n.extend({},this.getDefaults(),this.$element.data(),a);a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a};g.prototype.getDelegateOptions=function(){var a={},b=this.getDefaults();this._options&&n.each(this._options,function(d,g){b[d]!=g&&(a[d]=g)});return a};g.prototype.enter=function(a){var b=a instanceof this.constructor?a:n(a.currentTarget).data("bs."+this.type);b||(b=new this.constructor(a.currentTarget,
this.getDelegateOptions()),n(a.currentTarget).data("bs."+this.type,b));a instanceof n.Event&&(b.inState["focusin"==a.type?"focus":"hover"]=!0);if(b.tip().hasClass("in")||"in"==b.hoverState)b.hoverState="in";else{clearTimeout(b.timeout);b.hoverState="in";if(!b.options.delay||!b.options.delay.show)return b.show();b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)}};g.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1};g.prototype.leave=
function(a){var b=a instanceof this.constructor?a:n(a.currentTarget).data("bs."+this.type);b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),n(a.currentTarget).data("bs."+this.type,b));a instanceof n.Event&&(b.inState["focusout"==a.type?"focus":"hover"]=!1);if(!b.isInStateTrue()){clearTimeout(b.timeout);b.hoverState="out";if(!b.options.delay||!b.options.delay.hide)return b.hide();b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)}};g.prototype.show=
function(){var a=n.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(a);var b=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!a.isDefaultPrevented()&&b){var d=this;a=this.tip();b=this.getUID(this.type);this.setContent();a.attr("id",b);this.$element.attr("aria-describedby",b);this.options.animation&&a.addClass("fade");b="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;
var l=/\s?auto?\s?/i,m=l.test(b);m&&(b=b.replace(l,"")||"top");a.detach().css({top:0,left:0,display:"block"}).addClass(b).data("bs."+this.type,this);this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);l=this.getPosition();var k=a[0].offsetWidth,r=a[0].offsetHeight;if(m){m=b;var x=this.getPosition(this.$viewport);b="bottom"==b&&l.bottom+r>x.bottom?"top":"top"==b&&l.top-r<x.top?"bottom":"right"==b&&l.right+k>x.width?
"left":"left"==b&&l.left-k<x.left?"right":b;a.removeClass(m).addClass(b)}l=this.getCalculatedOffset(b,l,k,r);this.applyPlacement(l,b);b=function(){var a=d.hoverState;d.$element.trigger("shown.bs."+d.type);d.hoverState=null;"out"==a&&d.leave(d)};n.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",b).emulateTransitionEnd(g.TRANSITION_DURATION):b()}}};g.prototype.applyPlacement=function(a,b){var d=this.tip(),g=d[0].offsetWidth,m=d[0].offsetHeight,k=parseInt(d.css("margin-top"),10),
r=parseInt(d.css("margin-left"),10);isNaN(k)&&(k=0);isNaN(r)&&(r=0);a.top+=k;a.left+=r;n.offset.setOffset(d[0],n.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},a),0);d.addClass("in");k=d[0].offsetWidth;r=d[0].offsetHeight;"top"==b&&r!=m&&(a.top=a.top+m-r);var x=this.getViewportAdjustedDelta(b,a,k,r);x.left?a.left+=x.left:a.top+=x.top;g=(b=/top|bottom/.test(b))?2*x.left-g+k:2*x.top-m+r;m=b?"offsetWidth":"offsetHeight";d.offset(a);this.replaceArrow(g,d[0][m],b)};
g.prototype.replaceArrow=function(a,b,d){this.arrow().css(d?"left":"top",50*(1-a/b)+"%").css(d?"top":"left","")};g.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};g.prototype.hide=function(a){function b(){"in"!=d.hoverState&&l.detach();d.$element&&d.$element.removeAttr("aria-describedby").trigger("hidden.bs."+d.type);a&&a()}var d=this,l=n(this.$tip),m=n.Event("hide.bs."+
this.type);this.$element.trigger(m);if(!m.isDefaultPrevented())return l.removeClass("in"),n.support.transition&&l.hasClass("fade")?l.one("bsTransitionEnd",b).emulateTransitionEnd(g.TRANSITION_DURATION):b(),this.hoverState=null,this};g.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};g.prototype.hasContent=function(){return this.getTitle()};g.prototype.getPosition=
function(a){a=a||this.$element;var b=a[0],d="BODY"==b.tagName,g=b.getBoundingClientRect();null==g.width&&(g=n.extend({},g,{width:g.right-g.left,height:g.bottom-g.top}));b=window.SVGElement&&b instanceof window.SVGElement;b=d?{top:0,left:0}:b?null:a.offset();a={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()};d=d?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},g,a,d,b)};g.prototype.getCalculatedOffset=function(a,b,d,g){return"bottom"==
a?{top:b.top+b.height,left:b.left+b.width/2-d/2}:"top"==a?{top:b.top-g,left:b.left+b.width/2-d/2}:"left"==a?{top:b.top+b.height/2-g/2,left:b.left-d}:{top:b.top+b.height/2-g/2,left:b.left+b.width}};g.prototype.getViewportAdjustedDelta=function(a,b,d,g){var l={top:0,left:0};if(!this.$viewport)return l;var k=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(a)?(d=b.top-k-m.scroll,b=b.top+k-m.scroll+g,d<m.top?l.top=m.top-d:b>m.top+m.height&&(l.top=
m.top+m.height-b)):(g=b.left-k,b=b.left+k+d,g<m.left?l.left=m.left-g:b>m.right&&(l.left=m.left+m.width-b));return l};g.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};g.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};g.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw Error(this.type+
" `template` option must consist of exactly 1 top-level element!");return this.$tip};g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};g.prototype.enable=function(){this.enabled=!0};g.prototype.disable=function(){this.enabled=!1};g.prototype.toggleEnabled=function(){this.enabled=!this.enabled};g.prototype.toggle=function(a){var b=this;a&&(b=n(a.currentTarget).data("bs."+this.type),b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),n(a.currentTarget).data("bs."+
this.type,b)));a?(b.inState.click=!b.inState.click,b.isInStateTrue()?b.enter(b):b.leave(b)):b.tip().hasClass("in")?b.leave(b):b.enter(b)};g.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type);a.$tip&&a.$tip.detach();a.$tip=null;a.$arrow=null;a.$viewport=null;a.$element=null})};var m=n.fn.tooltip;n.fn.tooltip=function(a){return this.each(function(){var b=n(this),d=b.data("bs.tooltip"),l="object"==typeof a&&a;if(d||
!/destroy|hide/.test(a))if(d||b.data("bs.tooltip",d=new g(this,l)),"string"==typeof a)d[a]()})};n.fn.tooltip.Constructor=g;n.fn.tooltip.noConflict=function(){n.fn.tooltip=m;return this}}(jQuery);
(function(b){try{return new c("test"),!1}catch(e){}var c=function(e,d){d=d||{bubbles:!1,cancelable:!1};var a=document.createEvent("MouseEvent");a.initMouseEvent(e,d.bubbles,d.cancelable,b,0,d.screenX||0,d.screenY||0,d.clientX||0,d.clientY||0,!1,!1,!1,!1,0,null);return a};c.prototype=Event.prototype;b.MouseEvent=c})(window);
function loadFile(b,c,e,d){var a=new XMLHttpRequest;a.open("GET",b);a.responseType="arraybuffer";a.withCredentials=!0;a.setRequestHeader("Authorization","BEARER "+c);a.onload=function(c){if(200==a.status){c=new Uint8Array(this.response);var b=a.getResponseHeader("Content-Type");b=new Blob([c],{type:b});var f=(window.URL||window.webkitURL).createObjectURL(b);d(e,f,b,a,c)}};a.send()}
function loadFileDownloadCallback(b,c,e,d,a){window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(e,b):(e=document.createElement("a"),e.href=c,e.download=b,e.dispatchEvent(new MouseEvent("click")));(window.URL||window.webkitURL).revokeObjectURL(c)};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var a=0;return function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(c,a){this.$jscomp$symbol$id_=c;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:a})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function c(b){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+a++,b)}var a=0;return c}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
$jscomp.iteratorFromArray=function(c,a){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var b=0,e={next:function(){if(b<c.length){var d=b++;return{value:a(d,c[d]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(c,a,b,e){if(a){b=$jscomp.global;c=c.split(".");for(e=0;e<c.length-1;e++){var d=c[e];d in b||(b[d]={});b=b[d]}c=c[c.length-1];e=b[c];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(c,a,b){c instanceof String&&(c=String(c));for(var e=c.length,d=0;d<e;d++){var f=c[d];if(a.call(b,f,d,c))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
riot.tag2("datatable",'<div class="panel panel-default table-responsive" riot-style="margin-bottom: {opts.marginBottom}"> <table class="table {opts.tableClass}"> <thead if="{showTableHeader}"> <tr> <th each="{column, index in columns}" riot-style="width: {column.width}"> {tr(column.label)} </th> </tr> </thead> <tbody> <tr if="{!data || (Array.isArray(data) && data.length == 0) || Object.keys(data).length == 0}"> <td colspan="{columns.length}">{message}</td> </tr> <tr class="{rowClassCallback(elem)}" each="{elem, index in data}"> <td each="{column, index2 in columns}" colspan="{column.colspan}" if="{column.showBody == undefined}" riot-style="width: {column.width}"> <virtual if="{column.linkCallback == undefined}"> <span if="{column.callback != undefined && column.type == \'subtable\'}"> <datatable message="{column.message}" columns="{column.callback(elem, index)}" data="{elem}" actions="{actions}" no-table-footer no-table-header margin-bottom="0"></datatable> </span> <span if="{column.callback != undefined && column.type != \'subtable\'}"> {column.callback(elem, index)} </span> <span if="{column.callback == undefined && elem[column.value] != undefined}"> {elem[column.value]} </span> <span if="{column.callback == undefined && elem[column.label] != undefined}"> {elem[column.label]} </span> </virtual> <a if="{column.linkCallback != undefined}" href="{column.linkCallback(elem, index)}" target="_blank"> <span if="{column.callback != undefined && column.type != \'subtable\'}"> {column.callback(elem, index)} </span> <span if="{column.callback == undefined && elem[column.label] != undefined}"> {elem[column.label]} </span> <span if="{column.isRedirectedCallback != undefined && column.isRedirectedCallback(elem)}" class="badge">Redirected</span> </a> <virtual each="{action in actions}" if="{column.label == \'Actions\'}"> <a if="{action.action == \'callback\'}" disabled="{action.isDisabledCallback !== undefined && action.isDisabledCallback(elem)}" onclick="{action.callback.bind(this, elem)}" class="btn btn-sm btn-{action.btnType}"> {(action.labelCallback !== undefined && action.labelCallback(elem)) || tr(action.label)}</a> <a href="{action.url}/?id={encodeURIComponent(elem[\'ID\'])}" if="{action.action == \'link\'}" class="btn-flat">{tr(action.label)}</a> <a data-toggle="modal" data-target="{action.target}" onclick="{modalOpened}" if="{action.action == \'modal-link\'}" class="btn">{tr(action.label)}</a> </virtual> </td> </tr> </tbody> <tfoot if="{showTableFooter}"> <tr> <th each="{column, index in columns}"> {tr(column.label)} </th> </tr> </tfoot> </table> </div>',"",
"",function(c){var a=this;a.columns=c.columns||[];a.columnNames=c.columnNames;a.events=c.events||riot.observable();a.disableLinking="true"===c.disableLinking;a.rowClassCallback=c.rowClassCallback||function(){};a.showTableHeader=void 0===c.noTableHeader;a.showTableFooter=void 0===c.noTableFooter;a.data=c.data;a.tr=c.trFunc||function(b){return b};a.modalOpened=function(b){a.events.trigger("modal-opened",b,this.elem,a)};a.linkBaseURL=c.linkBaseurl||"";a.actions=c.actions;a.url=void 0==c.url?"":replacePlaceholdersWithQueryVariables(c.url);
a.message="No data loaded or available yet.";a.on("mount",function(){a.events.on("create",b);void 0!==c.actions&&(a.actions=c.actions)});a.on("unmount",function(){a.events.off("create",b)});a.on("update",function(){void 0!==c.message&&(a.message=c.message);void 0!==c.actions&&(a.actions=c.actions)});var b=function(b){a.data.unshift(b);a.update()}});riot.tag2("feedback",'<message plugin="{plugin}" dismissible="true"></message> <div class="row"> <div class="col-lg-6"> <p>The free version of the Link Checker is quite popular since the launch in 2015, but just a small number of users also purchases the professional version. If I could increase the sales, I would be able to dedicate more time to the development of the Link Checker and for example add more features.</p> <p>To build a better product and increase the sales, I need to learn more about your specific needs and know what you expect from the Link Checker. Therefore I would like to kindly ask you, if you can tell me, what you like or dislike about the Link Checker and which features you are missing that would make you consider purchasing the professional version?</p> <p>I would really appreciate if you could take the time and send me your valuable feedback.</p> <p>Thank you in advance,<br> <a href="https://www.marcobeierer.com/about-me" target="_blank">Marco</a></p> <p><em>Please note that the message is sent <strong>anonymously</strong> and I do not collect any data except the message itself. Therefore, <strong>I am not able to reply to your message</strong>. If you like to get a reply, please write me an email to <a href="mailto:email@marcobeierer.com">email@marcobeierer.com</a> instead.</em></p> </div> <div class="col-lg-6"> <form onsubmit="{submit}"> <div class="form-group"> <textarea name="message" class="form-control" rows="12"></textarea> </div> <button class="btn btn-primary" type="submit">Send your feedback</button> </form> </div> </div>',
"","",function(c){var a=this;a.plugin=riot.observable();a.submit=function(b){b.preventDefault();var c=jQuery(b.target).serializeObject();""==c.message?a.plugin.trigger("set-message","There is no message to send. Please enter your message and try it again.","warning"):jQuery.ajax({method:"POST",url:"https://api.marcobeierer.com/feedback/v1/",dataType:"json",data:JSON.stringify(c)}).done(function(c,e,g){a.plugin.trigger("set-message","Thank you, your message was sent successfully.","success");jQuery(b.target).trigger("reset")}).fail(function(){a.plugin.trigger("set-message",
"An error occoured, could not send your message, please try it again.","danger")})}});riot.tag2("linkchecker-form",'<form onsubmit="{submit}" style="margin-bottom: 20px;"> <div class="form-group"> <label>Website URL</label> <input ref="websiteURL" type="url" class="form-control" placeholder="The URL of the website to check, for example \'https://www.marcobeierer.com\'." disabled="{disabled}" required> </div> <div class="form-group"> <label>Token</label> <textarea ref="token" class="form-control" style="min-height: 100px" placeholder="A token is only necessary to check a website with more than 500 internal or external links or if you like to use the paid extra features." disabled="{disabled}"></textarea> </div> <button class="btn btn-default" type="submit" if="{!disabled}">Check your website</button> <button class="btn btn-danger" onclick="{stopCheck}" if="{disabled}">Stop website check</button> </form>',
"","",function(c){var a=this;a.disabled=!1;a.on("mount",function(){void 0!=c.websiteUrl&&(this.refs.websiteURL.value=c.websiteUrl);void 0!=c.token&&(this.refs.token.value=c.token,c.linkchecker.trigger("token-loaded",this.refs.token.value))});this.submit=function(b){b.preventDefault();c.linkchecker.trigger("start",this.refs.websiteURL.value,this.refs.token.value)}.bind(this);this.stopCheck=function(b){b.preventDefault();c.linkchecker.trigger("stop")}.bind(this);c.linkchecker.on("started",function(){a.disabled=
!0});c.linkchecker.on("stopped",function(){a.disabled=!1;a.update()})});riot.tag2("linkchecker",'<form if="{showButton}" style="margin-bottom: 20px;"> <button class="btn btn-default" onclick="{submit}" if="{!disabled}">Check your website</button> <button class="btn btn-danger" onclick="{stopCheck}" if="{disabled}">Stop website check</button> <span class="pull-right" style="display: inline-block;" data-original-title="{exportableTitle()}" data-toggle="tooltip" data-placement="left"> <button class="btn btn-default btn-sm {disabled: !exportable()}" onclick="{downloadCSVFile}">Export as CSV file</button> </span> </form> <message plugin="{plugin}" text="Link Checker is initializing, please wait a moment." type="warning"></message> <div if="{crawlDelayInSeconds >= 1}" class="alert alert-danger"> The crawl-delay set in your robots.txt file is equal or higher than one second, namely {crawlDelayInSeconds} seconds. The crawl-delay defines the time waited between two requests of the Link Checker. This means that it might take very long for the check to finish. It is recommended that you lower the crawl-delay for the Link Checker in your robots.txt. You can use the user agent MB-LinkChecker if you like to define a custom crawl-delay for the Link Checker. </div> <div if="{hasFormLogin()}" class="alert alert-info" style="padding-top: 5px; padding-bottom: 5px; margin-top: -10px;"> Form login is setup and used for the next check. </div> <message plugin="{plugin}" name="db" text="" type="warning" dismissible="true" style="padding-top: 5px; padding-bottom: 5px; margin-top: -10px;"></message> <ul class="nav nav-tabs" id="tabnav" role="tablist"> <li role="presentation" class="active"><a href="#progress{id}" aria-controls="progress{id}" role="tab" data-toggle="tab">Progress</a></li> <li role="presentation"><a href="#stats{id}" aria-controls="stats{id}" role="tab" data-toggle="tab">Stats</a></li> <li role="presentation"><a href="#result{id}" aria-controls="result{id}" role="tab" data-toggle="tab">Result</a></li> <li role="presentation"><a href="#statusCodes{id}" aria-controls="statusCodes{id}" role="tab" data-toggle="tab">Status Codes</a></li> <li if="{enableScheduler}" role="presentation"><a href="#scheduler{id}" aria-controls="scheduler{id}" role="tab" data-toggle="tab">Scheduler</a></li> <li role="presentation"><a href="#glossary{id}" aria-controls="glossary{id}" role="tab" data-toggle="tab">Glossary</a></li> <li if="{!hasToken()}" role="presentation"><a href="#professional{id}" aria-controls="professional{id}" role="tab" data-toggle="tab">Professional Version</a></li> <li if="{!hideFeedbackTab}" role="presentation"><a href="#feedback{id}" aria-controls="feedback{id}" role="tab" data-toggle="tab">Your Feedback</a></li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="progress{id}"> <h3>Progress Current Check</h3> <p>Below you see the progress of the current check while the check is running. When the check has finished, you can inspect the stats of the last check in the <em>Stats</em> tab.</p> <div class="row"> <div class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Stats</div> <table class="table table-bordered"> <tr> <td>Number of crawled HTML pages on your site</td> <td class="text-right" style="width: 200px;">{urlsCrawledCount}</td> </tr> <tr> <td>Number of checked internal and external resources</td> <td class="text-right">{checkedLinksCount}</td> </tr> </table> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="stats{id}"> <h3>Stats Last Check</h3> <p if="{!data.Stats}">Nothing to see here because no check has finished yet. You can inspect the stats of the last check as soon as the check has finished or was loaded from the cache.</p> <p if="{data.Stats}">Please see the stats of the last finished check below. If a check is currently running, the stats are for the last check and not the one currently running.</p> <div if="{data.Stats}" class="row"> <div class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Stats</div> <table class="table table-bordered"> <tr> <td>Number of crawled HTML pages on your site</td> <td class="text-right" style="width: 200px;">{data.Stats.HTMLPagesCount}</td> </tr> <tr> <td>Number of checked internal and external resources</td> <td class="text-right">{data.Stats.CrawledResourcesCount}</td> </tr> <tr> <td>Started at</td> <td class="text-right">{datetime(data.Stats.StartedAt)}</td> </tr> <tr> <td>Finished at</td> <td class="text-right">{datetime(data.Stats.FinishedAt)}</td> </tr> </table> </div> </div> <div class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Detailed Stats</div> <table class="table table-bordered"> <tr> <td>Number of valid links</td> <td class="text-right" style="width: 200px;">{data.Stats.ValidLinksCount}</td> </tr> <tr> <td>Number of dead links</td> <td class="text-right">{data.Stats.DeadLinksCount}</td> </tr> <tr> <td>Number of redirected links</td> <td class="text-right">{data.Stats.RedirectedLinksCount}</td> </tr> <tr> <td>Number of valid embedded YouTube videos</td> <td class="text-right">{data.Stats.ValidEmbeddedYouTubeVideosCount}</td> </tr> <tr> <td>Number of dead embedded YouTube videos</td> <td class="text-right">{data.Stats.DeadEmbeddedYouTubeVideosCount}</td> </tr> </table> </div> </div> <div class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Setting Stats</div> <table class="table table-bordered"> <tr> <td>Crawl delay</td> <td class="text-right" style="width: 200px;">{data.Stats.CrawlDelayInSeconds} seconds</td> </tr> <tr> <td>Concurrent fetchers</td> <td class="text-right">{data.Stats.MaxFetchers}</td> </tr> <tr> <td>URL limit</td> <td class="text-right">{data.Stats.URLLimit} URLs</td> </tr> <tr> <td>Limit reached</td> <td class="text-right">{bool2text(data.Stats.LimitReached)}</td> </tr> <tr> <td>Token used</td> <td class="text-right">{bool2text(data.Stats.TokenUsed)}</td> </tr> <tr> <td>Form login used</td> <td class="text-right">{bool2text(data.Stats.FormLoginUsed)}</td> </tr> </table> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="result{id}"> <h3>Result</h3> <p>Please note that the result belongs to the last check that has finished. If a check is currently running, the stats are for the last check and not the one currently running. <span if="{data.Stats}">The result below belongs to the check that was started on {datetimeAt(data.Stats.StartedAt)} and has finished on {datetimeAt(data.Stats.FinishedAt)}.</span></p> <result plugin="{plugin}" edit-urls-endpoint="{editURLsEndpoint}"></result> </div> <div role="tabpanel" class="tab-pane" id="statusCodes{id}"> <h3>Status Codes</h3> <p>The Link Checker result includes all URLs that respond with a <strong>status code greater or equal 300</strong>. Redirected URLs respond with a status code between 300 and 399 and if the redirects are working fine, they are only shown if you enable the <em>Working Redirects</em> flag in the result tab. URLs with a status code greater or equal 400 are always shown if the main flag for the URL category (<em>Links</em>, <em>Images</em> or <em>Videos</em>) is enabled. One exception are unhandled links (explained in the <a href="#" onclick="{switchTab.bind(this, \'glossary\')}">Glossary</a>) which are only shown if the <em>Unhandled</em> flag is enabled.</p> <p>If you hover over a status code in the result tab, you see a short description for the status code in a tooltip. Please consult <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank">Wikipedia</a> for detailed explanations.</p> <p>Below you find a short list of status codes which have a special meaning in the Link Checker context or are custom to the Link Checker.</p> <h4>Status Codes with Special Meaning</h4> <div class="panel panel-default table-responsive"> <table class="table table-striped table-responsive"> <thead> <tr> <th style="width: 10em;">Status Code</th> <th style="width: 20em;">Status Text</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>502</td> <td>Bad Gateway</td> <td>The server returned an invalid response when the Link Checker tried to access the URL.</td> </tr> <tr> <td>504</td> <td>Gateway Timeout</td> <td>The Link Checker was not able to access the URL because it timed out.</td> </tr> </tbody> </table> </div> <h4>Custom Status Codes</h4> <div class="panel panel-default table-responsive"> <table class="table table-striped table-responsive"> <thead> <tr> <th style="width: 10em;">Status Code</th> <th style="width: 20em;">Status Text</th> <th>Description</th> </tr> </thead> </tbody> <tr> <td>601</td> <td>Blocked by robots</td> <td>The Link Checker was not able to access the URL because the access was blocked by the robots exclusion protocol.</td> </tr> <tr> <td>602</td> <td>HTML parse error</td> <td>The HTML code of this page could not be parsed because of an error in the code or because the page was larger than 50 MB.</td> </tr> <tr> <td>603</td> <td>Unknown authority error</td> <td>This status code means that the certificate was signed by an unknown certificate authority. If accessing the page works in your web browser, probably the provided certificate chain is broken. Most, but not all, browsers can handle such situation and download the missing certificates on the fly. If the error was detected on you website, you should fix the origin of the issue and provid the whole chain to all clients.</td> </tr> </tbody> </table> </div> <p><em>Please note that it is possible in rare situations that a website returns these status codes and if this is the case, they probably have another meaning.</em></p> </div> <div role="tabpanel" class="tab-pane" id="glossary{id}"> <h3>Glossary</h3> <h4>Unhandled Resources (mainly blocked by robots.txt)</h4> <p>Websites can prohibit access for web crawlers like the one used by the Link Checker with the robots exclusion protocol (robots.txt file). The Link Checker does respect the robots exclusion protocol for the website it crawls and also for external links.</p> <p>If the blocked links were found on your website, you can add rules for the Link Checker to your robots.txt file and restart the Link Checker. Please see the <a href="https://www.marcobeierer.com/tools/link-checker-faq" target="_blank">FAQs</a> for further information.</p> <h5>Mark URLs as Working</h5> <p>If the blocked links were found on external websites, the Link Checker cannot check the links for you and you have to check each blocked link manually. When you have checked a link and it is working, you can use the <em>Mark as Working</em> button in the result table to mark the link. The marker is saved in your browser storage for one month and the date of the last marking is shown in the result table afterwards.</p> <p>The storage period is limited to one month because the manually checked links can also break and it is recommended to recheck them at least once a month. If you like to recheck them before one month has expired, you can enable the filter to show URLs marked as working in the results and click on <em>Checked</em> button to update the date of the last check.</p> <p>Saving the markers in the browser storage means that nothing is saved when you are using the private browsing mode of your browser. Also if you empty the cache of your browser, the markers may geht deleted.</p> <h5>Mark all with same status code and domain as working</h5> <p>If you have multiple links to the same website that blocks the Link Checker, for example LinkedIn, then you can use the <em>Mark all with same status code and domain as working</em> button to mark all links to the target website as working. This function works the same as when you just mark one link as working (see description above).</p> <p>It is not recommended to use this function as you cannot be sure that the marked links are really working, but the feature was added because it was requested by many users.</p> <h4>Working Redirects</h4> <p>Non-temporary redirects, even if working correctly, have disadvantages like for example increased loading times and should therefore be fixed. Showing working redirects can be enabled/disabled in the settings of the result tab.</p> <h4>Mark URLs as Fixed</h4> <p>To keep an better overview, you can mark URLs as fixed in the result view. The marked URLs are can be hidden in the result. Please note that the fixed markers are just temporary and are reset on the next link check.</p> <h4>Images</h4> <p>Broken images are just checked in the <a href="https://www.marcobeierer.com/tools/link-checker-professional" target="_blank">professional version of the Link Checker</a>.</p> <h4>Videos</h4> <p>Broken embedded YouTube videos are just checked in the <a href="https://www.marcobeierer.com/tools/link-checker-professional" target="_blank">professional version of the Link Checker</a>.</p> </div> <div if="{enableScheduler}" role="tabpanel" class="tab-pane" id="scheduler{id}"> <h3>Scheduler</h3> <linkchecker-scheduler website-url="{websiteURL}" token="{token}" email="{email}" dev="{dev}" login-page-url="{loginPageURL}" login-form-selector="{loginFormSelector}" login-data="{loginData}"> </linkchecker-scheduler> </div> <div if="{!hasToken()}" role="tabpanel" class="tab-pane" id="professional{id}"> <h3>Professional Version</h3> <p>The professional version of the Link Checker allows to check a website with up to 500\'000 URLs and comes with some additional features. It\'s for example possible to:</p> <ul> <li>check embedded images,</li> <li>check YouTube videos,</li> <li>check login protected pages like membership areas or</li> <li>trigger a check once a day automatically and get a summary by mail.</li> </ul> <p>You can <a href="https://www.marcobeierer.com/tools/link-checker-professional" target="_blank">read more about the professional version and purchase a token</a> on my website.</p> <h4>Pricing</h4> <pricing></pricing> <h4>Offers for Web Agencies</h4> <p>Web agencies, and of course all other interested parties, can rent a dedicated Link Checker and Sitemap Generator server. Servers in Germany and Finland are available from 395.00 \u20ac per month. Other server locations are available on request against an extra fee.</p> <p>When renting a server, you can offer the services to all your clients and also offer it publicly on your website to potential customers, but public reselling and thus directly competing against the Link Checker or Sitemap Generator is not allowed. If you like to resell tokens, please contact me and we may find a solution that works for both of us.</p> <p>Advantages of a dedicated server are:</p> <ul> <li>No need to manage tokens anymore, you can whitelist individual websites and manage scheduling for all websites from a central admin panel.</li> <li>Faster checks if the server is located near your hosting server.</li> <li>Better performance in general because server resources are not shared with other users.</li> </ul> <p>If interested, please write me an email to <a href="mailto:email@marcobeierer.com">email@marcobeierer.com</a> for an individual offer.</p> </div> <div if="{!hideFeedbackTab}" role="tabpanel" class="tab-pane" id="feedback{id}"> <h3>Your Feedback</h3> <feedback></feedback> </div> </div>',
"","",function(c){function a(a,c){var e="1";b.hasFormLogin()&&(e="0");var d="https://api.marcobeierer.com/linkchecker/v1/"+a+"?origin_system="+b.originSystem+"&max_fetchers="+b.maxFetchers+"&disable_cookies="+e;"1"==b.dev&&!0!==c?d="sample_data/current.json?_="+Date.now():"2"==b.dev&&(d="http://marco-desktop:9999/linkchecker/v1/"+a+"?origin_system="+b.originSystem+"&max_fetchers="+b.maxFetchers+"&disable_cookies="+e);return d}var b=this;b.plugin=riot.observable();b.message="";b.originSystem=c.originSystem||
"riot";b.data={};b.dev=c.dev;b.enableScheduler=c.enableScheduler||!1;b.forceStop=!1;b.crawlDelayInSeconds=0;b.resultAvailableOnServer=!1;b.editURLsEndpoint=c.editUrlsEndpoint;b.hideFeedbackTab=c.hideFeedbackTab||!1;b.loginPageURL=c.loginPageUrl;b.loginFormSelector=c.loginFormSelector;b.loginData=c.loginData;b.id=c.id||0;b.email=c.email||"";b.db=localforage.createInstance({driver:localforage.INDEXEDDB,name:"LinkChecker",size:4980736,version:1,storeName:"resultdata"});b.switchTab=function(a,c){c.preventDefault();
jQuery('#tabnav a[href="#'+a+b.id+'"').tab("show")};b.on("mount",function(){lscache.setBucket("linkchecker-checked-");lscache.flushExpired();if(void 0!=b.websiteURL&&""!=b.websiteURL){var c="";""!=b.token&&(c="BEARER "+b.token);var d=b.websiteURL64();d=a(d+"/running",!0);jQuery.ajax({method:"GET",url:d,headers:{Authorization:c}}).done(function(a,c,e){a.Running?b.start():b.setMessage("The Link Checker was not started yet.","info");b.resultAvailableOnServer=a.ResultAvailable;b.loadDataFromDB(a.ResultAvailable)}).fail(function(a){b.setMessage("The Link Checker was not started yet.",
"info");b.loadDataFromDB(!1)})}else setTimeout(function(){b.setMessage("The Link Checker was not started yet.","info")},500),b.loadDataFromDB(!1);jQuery('[data-toggle="tooltip"]').tooltip()});b.exportable=function(){return""!=b.token&&b.resultAvailableOnServer};b.exportableTitle=function(){return""==b.token?"Export as CSV file is only available for customers of the professional version.":b.resultAvailableOnServer?"Export the last result as CSV file for advanced processing.":"No result available on the server. Please start a check if not already done and/or wait till the first check has finished."};
b.saveDataToDB=function(a){b.db.setItem(b.dbKey(),pako.deflate(JSON.stringify(a),{to:"string"}),function(a){null!=a&&("QuotaExceededError"==a.name?b.setMessage("Could not save the result in cache because the quota has been exceeded. The reason for this is probably low disk space. You can still use the Link Checker, but the result is not saved and gets discarded once you close the Link Checker.","warning","db"):(console.error(a),console.error(a.message),b.setMessage("Could not save the result in cache (error was "+
a.name+"). You can still use the Link Checker, but the result is not saved and gets discarded once you close the Link Checker.","warning","db")))})};b.loadDataFromDB=function(a){b.setMessage("Loading the result of the last check from cache, please wait a moment.","warning","db");b.db.removeItem("data",function(b){null!=b&&(console.error(b),console.error(b.message))});b.db.getItem(b.dbKey(),function(c,e){null!=c?(console.error(c),console.error(c.message),b.setMessage("Loading the result of the last check failed:<br />"+
c.name,"warning","db")):null==e?(b.setMessage("No result available in the cache.","info","db"),a&&b.loadDataFromServer()):(b.data=JSON.parse(pako.inflate(e,{to:"string"})),b.resultDataReady(b.data,!0,!1),b.update())})};b.downloadCSVFile=function(c){c.preventDefault();""!=b.token&&(c=b.websiteURL64(),c=a(c+"/csv",!0),loadFile(c,b.token,"result.csv",loadFileDownloadCallback))};b.loadDataFromServer=function(){if(""!=b.token){var c="BEARER "+b.token,d=b.websiteURL64();d=a(d+"/json");jQuery.ajax({method:"GET",
url:d,headers:{Authorization:c}}).done(function(a){b.resultDataReady(a,!1,!0);b.resetData();b.data=a;b.saveDataToDB(a)}).fail(function(b){console.log("fetching saved result failed")}).always(function(){b.update()})}};b.dbKey=function(){return""!=b.websiteURL?b.websiteURL:"data"+b.id};b.bool2text=function(b){return b?"Yes":"No"};b.datetime=function(b){return(new Date(b)).toLocaleString()};b.datetimeAt=function(a){return b.datetime(a).replace(","," at")};b.hasToken=function(){return b.token||void 0!=
b.data.Stats&&b.data.Stats.TokenUsed};b.hasFormLogin=function(){return b.loginPageURL&&""!=b.loginPageURL&&b.loginFormSelector&&""!=b.loginFormSelector};c.linkchecker.on("start",function(a,c,f){b.websiteURL=a;b.setToken(c);b.maxFetchers=f||b.maxFetchers;b.start()});c.linkchecker.on("stop",function(){b.forceStop=!0});c.linkchecker.on("started",function(){b.disabled=!0});c.linkchecker.on("stopped",function(){b.disabled=!1;b.update()});b.setMessage=function(a,c,f){b.plugin.trigger("set-message",a,c,
f)};this.setToken=function(a){b.token=a.replace(/\s/g,"")}.bind(this);b.websiteURL=c.websiteUrl||"";b.token="";c.token&&b.setToken(c.token);b.maxFetchers=c.maxFetchers||10;""!=b.websiteURL&&(b.showButton=!0);b.urlsCrawledCount=0;b.checkedLinksCount=0;b.resultsMessage="Link check not started yet.";b.retries=0;this.submit=function(a){a.preventDefault();b.start()}.bind(this);b.websiteURL64=function(){var a=window.btoa(encodeURIComponent(b.websiteURL).replace(/%([0-9A-F]{2})/g,function(b,a){return String.fromCharCode("0x"+
a)}));a.replace(/\+/g,"-").replace(/\//g,"_");return a};b.resetData=function(){b.db.removeItem(b.dbKey(),function(a){null!=a&&(console.error(a),console.error(a.message),b.setMessage("Could not remove old result from cache:<br />"+a.name,"warning","db"))});b.data={};lscache.setBucket("linkchecker-fixed-");lscache.flush();b.update()};this.start=function(){c.linkchecker.trigger("started");b.plugin.trigger("started");b.urlsCrawledCount=0;b.checkedLinksCount=0;b.setMessage("Your website is being checked. Please wait a moment. You can watch the progress in the Progress tab below.",
"warning");b.resultsMessage="Please wait until the check has finished.";var e=b.websiteURL64();b.retries=0;b.doRequest=function(){var d="";""!=b.token&&(d="BEARER "+b.token);var f=a(e),g="";b.hasFormLogin()&&(g=JSON.stringify({login_page_url:b.loginPageURL,form_selector:b.loginFormSelector,data:b.loginData}));jQuery.ajax({method:"GET",url:f,headers:{Authorization:d,"X-Credentials":g}}).done(function(a){b.retries=0;b.urlsCrawledCount=a.URLsCrawledCount;b.checkedLinksCount=a.CheckedLinksCount;b.crawlDelayInSeconds=
a.CrawlDelayInSeconds;a.Finished?(b.resultDataReady(a,!1,!1),c.linkchecker.trigger("stopped"),""!=b.token&&(b.resultAvailableOnServer=!0),b.resetData(),b.data=a,b.saveDataToDB(a)):b.forceStop?b.stop(f,d):setTimeout(b.doRequest,1E3)}).fail(function(a){c.linkchecker.trigger("stopped");var e=a.status;if(401==e)b.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger");else if(500==e)""==a.responseText?
b.setMessage("The check of your website failed. Please try it again.","danger"):b.setMessage("The check of your website failed with the error:<br/><strong>"+JSON.parse(a.responseText)+"</strong>.","danger");else if(503==e)b.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger");else{if(0==e&&3>b.retries){b.retries++;b.forceStop?b.stop(f,d):setTimeout(b.doRequest,1E3);return}b.setMessage("The check of your website failed. Please try it again or contact the developer of the extensions.<br />Status Code: "+
e+"<br />Response Text: "+a.responseText,"danger")}b.resultsMessage="Link check not started yet."}).always(function(){b.update()})};b.doRequest()}.bind(this);b.stopCheck=function(a){a.preventDefault();b.forceStop=!0};b.stop=function(a,d){b.setMessage("Going to stop the current check.","warning");b.update();jQuery.ajax({method:"DELETE",url:a,headers:{Authorization:d}}).done(function(a){b.setMessage("The current check was stopped successfully.","info");b.urlsCrawledCount=0;b.checkedLinksCount=0}).fail(function(a){b.setMessage("Could not stop the check because the connection to the server failed.",
"danger")}).always(function(){b.forceStop=!1;c.linkchecker.trigger("stopped");b.update()})};b.resultDataReady=function(a,c,f){a.Finished&&(b.resultsMessage="No broken resources found or no data available for the enabled filters.",b.plugin.trigger("result-data-ready",a,c,f))}});riot.tag2("linkchecker-scheduler",'<div if="{token}" class="alert alert-{messageType}"> <raw content="{message}"></raw> </div> <div class="panel panel-default" if="{!token}"> <div class="panel-heading">Description</div> <div class="panel-body"> <p>The scheduler is an additional service for all users who have bought a token for the <a href="https://www.marcobeierer.com/wordpress-plugins/link-checker-professional" target="_blank">Link Checker Professional</a>.</p> <p>If you register your site to the scheduler, a link check is automatically triggered once a day and you receive an email notification with a summary report after the check has finished. If a dead link was found, you can use the default Link Checker interface to fetch the detailed results.</p> </div> </div> <div class="panel panel-primary" if="{token && !registered}"> <div class="panel-heading">Register your website</div> <div class="panel-body"> <p>If you register your site to the scheduler, a link check is automatically triggered once a day and you receive an email notification with a summary report after the check has finished. If a dead link was found, you can use the default Link Checker interface to fetch the detailed results.</p> <form onsubmit="{register}"> <input type="hidden" name="Service" value="Link Checker"> <div class="form-group"> <label>Interval to check your website</label> <select class="form-control" name="IntervalInNs" default="86400000000000" required> <option value="86400000000000">Daily</option> <option value="604800000000000">Weekly</option> <option value="1209600000000000">Biweekly</option> <option value="2592000000000000">Every 30 days</option> </select> </div> <div style="display: none;" class="form-group"> <label>Website URL</label> <input class="form-control" name="URL" type="text" riot-value="{websiteURL}" readonly="readonly" required> </div> <div class="form-group"> <label>Email address for notifications</label> <input class="form-control" name="Email" riot-value="{email}" required type="{\'email\'}"> </div> <button class="btn btn-default" type="submit">Register</button> </form> </div> </div> <div class="panel panel-primary" if="{token && registered}"> <div class="panel-heading">Deregister your website</div> <div class="panel-body"> <p>Your site is registered to the scheduler and you should receive status emails regularly. Use the button below if you like to disable the automated checks.</p> <p>If you like to <strong>change your email address</strong>, please deregister from the scheduler, update the email address in the register form and then reregister to the scheduler.</p> <form onsubmit="{deregister}"> <input type="hidden" name="Service" value="Link Checker"> <div style="display: none;" class="form-group"> <label>Website URL</label> <input class="form-control" name="URL" type="text" riot-value="{websiteURL}" readonly="readonly" required> </div> <button class="btn btn-default" type="submit">Deregister</button> </form> </div> </div>',
"","",function(c){var a=this;a.registered=!1;a.websiteURL=c.websiteUrl||"";a.token=c.token||"";a.email=c.email||"";a.loginPageURL=c.loginPageUrl;a.loginFormSelector=c.loginFormSelector;a.loginData=c.loginData;a.apiURL="https://api.marcobeierer.com/scheduler/v1/";if("1"===c.dev||"2"===c.dev)a.apiURL="http://marco-desktop:9999/scheduler/v1/";this.setMessage=function(b,c){a.message=b;a.messageType=c;a.update()}.bind(this);a.setMessage("Loading status.","info");this.tokenHeader=function(){return""!=a.token?
"BEARER "+a.token:""}.bind(this);this.status=function(){""!=a.websiteURL&&""!=a.token&&jQuery.ajax({method:"GET",url:a.apiURL+"?Service=Link Checker&URL="+a.websiteURL,headers:{Authorization:a.tokenHeader()}}).done(function(b,c,d){204==d.status?(a.setMessage("Your website isn't registered for the scheduler. Please use the form below to register your site.","info"),a.registered=!1):(c="Your website is registered to the scheduler. ",c=b.LoginPageURL&&""!=b.LoginPageURL?c+"Form login is setup and used by the scheduler. ":
c+"Form login isn't setup. ",a.setMessage(c+"You can use the form below to deregister your site.","info"),a.registered=!0)}).fail(function(b,c,d){401==b.status?a.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger"):504==b.status||503==b.status?a.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):a.setMessage("Something went wrong. Please try it again later.",
"danger")}).always(function(){a.update()})}.bind(this);a.status();this.register=function(b){b.preventDefault();b=jQuery(b.target).serializeObject();b.IntervalInNs=parseInt(b.IntervalInNs);b.Credentials={login_page_url:a.loginPageURL,form_selector:a.loginFormSelector,data:a.loginData};b=JSON.stringify(b);jQuery.ajax({method:"POST",url:a.apiURL,data:b,dataType:"text",headers:{Authorization:a.tokenHeader()}}).done(function(b,c,f){a.setMessage("You have successfully registered your website to the scheduler.",
"success");a.registered=!0}).fail(function(b,c,f){console.log(b.status);401==b.status?a.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger"):504==b.status||503==b.status?a.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):a.setMessage("Something went wrong. Please try it again later.","danger")}).always(function(){a.update()})}.bind(this);this.deregister=
function(b){b.preventDefault();b=jQuery(b.target).serializeJSON();jQuery.ajax({method:"DELETE",url:a.apiURL,data:b,dataType:"text",headers:{Authorization:a.tokenHeader()}}).done(function(b,c,f){a.setMessage("You have successfully deregistered your website from the scheduler.","success");a.registered=!1}).fail(function(b,c,f){a.setMessage("Something went wrong. Please try it again later.","danger")}).always(function(){a.update()})}.bind(this)});riot.tag2("message",'<div if="{text != \'\' && !dismissed}" class="alert alert-{type} {alert-dismissible: dismissible}" riot-style="{style}"> <button if="{dismissible}" type="button" class="close" aria-label="Close"><span aria-hidden="true" onclick="{dismiss}">&times;</span></button> <raw content="{text}"></raw> </div>',"","",function(c){var a=this;a.plugin=c.plugin||console.error("no plugin set");a.name=c.name;a.text=c.text||"";a.type=c.type||"";a.dismissible=c.dismissible||!1;a.style=c.style||"";
a.dismissed=!1;a.plugin.on("set-message",function(b,c,d){void 0!=d&&d!=a.name||void 0==d&&void 0!=a.name||(a.text=b,a.type=c,a.dismissed=!1,a.update())});a.dismiss=function(b){a.dismissed=!0}});riot.tag2("pricing",'<p if="{loadFailed}">Could not load the prices. Please reload the page to try fetching the prices again or have a look at the prices on the <a href="https://www.marcobeierer.com/tools/link-checker-professional" target="_blank">Link Checker Professional info page</a> on my website.</p> <p if="{rows.length == 0}">Currently loading the prices, please wait a moment.</p> <table if="{rows.length > 0}" class="table"> <thead> <tr> <th>URL Limit</th> <th>Price for One Year</th> </tr> </thead> <tbody> <tr each="{row, rowx in rows}"> <td>{row.Title}</td> <td>{formatBasePrice(row.BasePrice)}</td> </tr> </tbody> </table> <p><em>Please note that all internal and external links count to the quota.</em></p>',
"","",function(c){var a=this;a.rows=[];a.loadFailed=!1;a.on("mount",function(){jQuery.ajax({method:"GET",url:"https://api.marcobeierer.com/tokenauthority/v1/data/services",dataType:"json"}).done(function(b,c,d){b=b.linkchecker;a.rows.push({Title:"500 URLs",BasePrice:"Free of charge."});for(var e in b.PageLimits)a.rows.push(b.PageLimits[e]);a.rows.push({Title:"More than 500'000 URLs",BasePrice:"Please contact me for an offer."});a.update()}).fail(function(b){a.loadFailed=!0;a.update()})});a.formatBasePrice=
function(a){return"number"!=typeof a?a:a/100+".00 \u20ac"}});riot.tag2("raw","<span></span>","","",function(c){var a=this;a.root.innerHTML=c.content;a.on("update",function(){a.root.innerHTML=c.content})});riot.tag2("result",'<div class="btn-toolbar toolbar"> <div class="btn-group" role="group"> <button type="button" class="btn {btn-primary: showLinks} {btn-default: !showLinks}" onclick="{toggle.bind(this, \'links\')}">Links</button> <button type="button" class="btn {btn-primary: showImages} {btn-default: !showImages} {disabled: !parent.hasToken()}" onclick="{toggle.bind(this, \'images\')}">Images</button> <button type="button" class="btn {btn-primary: showVideos} {btn-default: !showVideos} {disabled: !parent.hasToken()}" onclick="{toggle.bind(this, \'videos\')}">Videos</button> </div> <div class="btn-group" role="group"> <button type="button" class="btn {btn-primary: showUnhandled} {btn-default: !showUnhandled}" onclick="{toggle.bind(this, \'unhandled\')}">Unhandled</button> <button type="button" class="btn {btn-primary: showWorkingRedirects} {btn-default: !showWorkingRedirects}" onclick="{toggle.bind(this, \'workingRedirects\')}">Working Redirects</button> </div> <div class="btn-group" role="group"> <button type="button" class="btn {btn-primary: showMarkedAsFixed} {btn-default: !showMarkedAsFixed}" onclick="{toggle.bind(this, \'markedAsFixed\')}">Marked as Fixed</button> <button type="button" class="btn {btn-primary: showMarkedAsWorking} {btn-default: !showMarkedAsWorking}" onclick="{toggle.bind(this, \'markedAsWorking\')}">Marked as Working</button> </div> <div class="btn-group" role="group"> <button type="button" class="btn btn-default">URLs per Page: {pageSize}</button> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdownx" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </button> <ul class="dropdown-menu"> <li class="text-right" if="{pageSize != 1}"><a onclick="{setPageSize.bind(this, 1)}" href="#">1</a></li> <li class="text-right" if="{pageSize != 10}"><a onclick="{setPageSize.bind(this, 10)}" href="#">10</a></li> <li class="text-right" if="{pageSize != 100}"><a onclick="{setPageSize.bind(this, 100)}" href="#">100</a></li> </ul> </div> </div> <nav> <ul class="pager"> <li class="previous {disabled: !hasPreviousPage()}"><a href="#" onclick="{previousPage}"><span aria-hidden="true">&larr;</span> Previous</a></li> <li class="next {disabled: !hasNextPage()}"><a href="#" onclick="{nextPage}">Next <span aria-hidden="true">&rarr;</span></a></li> </ul> </nav> <div class="panel panel-default table-responsive"> <table class="table table-striped table-responsive"> <thead> <tr> <th style="width: 35%;">URL where the broken resources were found</th> <th style="width: ">Broken Resources</th> <th style="width: 9em;">Type</th> <th style="width: 9em;">Status</th> <th style="width: 14em;">Actions</th> </tr> </thead> <tbody> <tr if="{!haveItemsToShow()}"> <td colspan="5">{parent.resultsMessage}</td> </tr> <tr data-is="result-row" plugin="{plugin}" each="{item in paginate()}" url="{item.FoundOnURL}" resources="{item.Resources}" edit-url="{editURLs[item.FoundOnURL]}"> </tr> </tbody> <tfoot> <tr> <th style="width: 35%;">URL where the broken resources were found</th> <th style="width: ">Broken Resources</th> <th style="width: 9em;">Type</th> <th style="width: 9em;">Status</th> <th style="width: 14em;">Actions</th> </tr> </tfoot> </table> </div> <nav> <ul class="pager"> <li class="previous {disabled: !hasPreviousPage()}"><a href="#" onclick="{previousPage}"><span aria-hidden="true">&larr;</span> Previous</a></li> <li class="next {disabled: !hasNextPage()}"><a href="#" onclick="{nextPage}">Next <span aria-hidden="true">&rarr;</span></a></li> </ul> </nav>',
"","",function(c){var a=this;a.plugin=c.plugin||console.error("no plugin set");a.editURLsEndpoint=c.editUrlsEndpoint;a.result=[];a.editURLs={};lscache.setBucket("linkchecker-settings-");a.currentPage=lscache.get("currentPage")||0;a.pageSize=lscache.get("pageSize")||10;a.showLinks=lscache.get("showLinks")||!0;a.showImages=(lscache.get("showImages"),a.parent.hasToken());a.showVideos=(lscache.get("showVideos"),a.parent.hasToken());a.showUnhandled=lscache.get("showUnhandled")||!0;a.showWorkingRedirects=
lscache.get("showWorkingRedirects")||!1;a.showMarkedAsFixed=lscache.get("showMarkedAsFixed")||!1;a.showMarkedAsWorking=lscache.get("showMarkedAsWorking")||!1;a.on("mount",function(){});a.toggle=function(b,c){a.resetCurrentPage();lscache.setBucket("linkchecker-settings-");"links"==b?(a.showLinks=!a.showLinks,lscache.set("showLinks",a.showLinks)):"images"==b?(a.showImages=!a.showImages,lscache.set("showImages",a.showImages)):"videos"==b?(a.showVideos=!a.showVideos,lscache.set("showVideos",a.showVideos)):
"unhandled"==b?(a.showUnhandled=!a.showUnhandled,lscache.set("showUnhandled",a.showUnhandled)):"workingRedirects"==b?(a.showWorkingRedirects=!a.showWorkingRedirects,lscache.set("showWorkingRedirects",a.showWorkingRedirects)):"markedAsFixed"==b?(a.showMarkedAsFixed=!a.showMarkedAsFixed,lscache.set("showMarkedAsFixed",a.showMarkedAsFixed)):"markedAsWorking"==b?(a.showMarkedAsWorking=!a.showMarkedAsWorking,lscache.set("showMarkedAsWorking",a.showMarkedAsWorking)):console.error("no rule for type "+b)};
a.setPageSize=function(b,c){c.preventDefault();a.pageSize=b;lscache.setBucket("linkchecker-settings-");lscache.set("pageSize",a.pageSize);a.resetCurrentPage()};a.loadEditURLs=function(){if(void 0!=a.editURLsEndpoint){var b=[];a.paginate().forEach(function(c){void 0===a.editURLs[c.FoundOnURL]&&b.push(c.FoundOnURL)});0!=b.length&&jQuery.ajax({method:"POST",url:a.editURLsEndpoint,dataType:"json",data:{urls:b}}).done(function(c,d,f){for(var e in c)a.editURLs[e]=c[e];b.forEach(function(b){void 0===a.editURLs[b]&&
(a.editURLs[b]=null)});a.update()})}};a.haveItemsToShow=function(){return 0<a.paginate().length};a.paginate=function(){return a.rowsToShow().slice(a.start(),a.end())};a.rowsToShow=function(){var b=[];a.result.forEach(function(c){a.hasSomethingToShow(c.Resources)&&b.push(c)});return b};a.countPages=function(){var b=0;a.result.forEach(function(c){a.hasSomethingToShow(c.Resources)&&b++});return Math.ceil(b/a.pageSize)};a.nextPage=function(b){b.preventDefault();a.hasNextPage()&&a.setCurrentPage(a.currentPage+
1)};a.previousPage=function(b){b.preventDefault();a.hasPreviousPage()&&a.setCurrentPage(a.currentPage-1)};a.hasNextPage=function(){return a.currentPage<a.countPages()-1};a.hasPreviousPage=function(){return 0<a.currentPage};a.hasSomethingToShow=function(b){return b.some(function(b){return a.showResource(b)})};a.resetCurrentPage=function(){a.setCurrentPage(0)};a.setCurrentPage=function(b){a.currentPage=b;lscache.setBucket("linkchecker-settings-");lscache.set("currentPage",a.currentPage);a.loadEditURLs()};
a.showResource=function(b){var c=b.Type;return b.IsMarkedAsFixed&&!a.showMarkedAsFixed||b.IsMarkedAsWorking&&!a.showMarkedAsWorking||!a.showWorkingRedirects&&b.IsRedirected&&300>b.StatusCode||!a.showUnhandled&&b.IsUnhandled?!1:a.showLinks&&"Link"==c||a.showImages&&"Image"==c||a.showVideos&&"Video"==c};a.start=function(){return a.currentPage*a.pageSize};a.end=function(){return(a.currentPage+1)*a.pageSize};a.plugin.on("result-data-ready",function(b,c,d){a.result=[];a.onload(b,c,d);a.resetCurrentPage();
a.update()});a.plugin.on("started",function(){});a.onload=function(b,c,d){c||d?(c="cache",d&&(c="server"),d="The result of your last check has been loaded from the "+c+" successfully. Please see it below.",c="success",b.LimitReached&&(d+='<br />Please note that the check reached the URL limit and thus the Link Checker has not checked your whole website. You can buy a token for the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a> to check up to 500\'000 URLs.',c="danger"),
a.setMessage(d,c,"db")):(d="Your website has been checked successfully. Please see the result below.",c="success",void 0==b.Stats||b.Stats.TokenUsed||(d+='<br />If you additionally like to check your site for <strong>broken images</strong> or like to use the scheduler for an <strong>automatically triggered daily check</strong>, then have a look at the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a>.'),b.LimitReached&&(d='The URL limit was reached. The Link Checker has not checked your whole website. You can buy a token for the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a> to check up to 500\'000 URLs.',
c="danger"),a.setMessage(d,c),a.setMessage("","success","db"));a.resultsMessage="Nothing is broken, everything seems to be fine.";d={};a.addToResult(d,b.DeadLinks,"Link",!1);a.addToResult(d,b.UnhandledLinkedResources,"Link",!0);a.addToResult(d,b.DeadEmbeddedImages,"Image",!1);a.addToResult(d,b.DeadEmbeddedYouTubeVideos,"Video",!1);a.addToResult(d,b.UnhandledEmbeddedResources,"Unknown",!0);b=[];c=Object.keys(d);for(var e=0;e<c.length;e++){var g=c[e];b.push({FoundOnURL:g,Resources:d[g]})}a.result=b};
a.addToResult=function(b,c,d,f){if(!jQuery.isEmptyObject(c))for(var e in c){var k=b[e],h=c[e];void 0===k&&(k=[]);void 0===h&&(h=[]);h.forEach(function(b){b.Type=d;b.IsUnhandled=f;var c=a.keyForResource(e,b.URL,b.Type),g=a.keyForResource("*",b.URL,b.Type);lscache.setBucket("linkchecker-fixed-");if(!0===lscache.get(c)||!0===lscache.get(g))b.IsMarkedAsFixed=!0;lscache.setBucket("linkchecker-checked-");b.IsUnhandled&&(c=lscache.get(b.URL),null!=c&&(b.IsMarkedAsWorking=c))});b[e]=k.concat(h)}};a.keyForResource=
function(a,c,d){return a+c+d};a.setMessage=function(b,c,d){a.plugin.trigger("set-message",b,c,d)};a.setMarkedAsFixedOnAllPages=function(b,c){a.result.forEach(function(a){a.Resources.forEach(function(a){b==a.URL&&(a.IsMarkedAsFixed=!0)})});c=a.keyForResource("*",b,c);lscache.setBucket("linkchecker-fixed-");lscache.set(c,!0)};a.setMarkedAsWorking=function(b,c){a.result.forEach(function(a){a.Resources.forEach(function(a){b==a.URL&&(a.IsMarkedAsWorking=c)})});lscache.setBucket("linkchecker-checked-");
lscache.set(b,c,43200)};a.setAllWithSameStatusCodeAndDomainMarkedAsWorking=function(b,c,d){var e=new URL(b);a.result.forEach(function(a){a.Resources.forEach(function(a){var b=new URL(a.URL);e.hostname==b.hostname&&c==a.StatusCode&&(a.IsMarkedAsWorking=d,lscache.setBucket("linkchecker-checked-"),lscache.set(a.URL,d,43200))})})}});riot.tag2("result-row",'<td if="{resources.length > 0}" style="width: 35%;"> <a style="word-break: break-word;" href="{url}" target="_blank">{url}</a>&nbsp; <a if="{opts.editUrl}" href="{opts.editUrl}" class="btn btn-sm btn-default btn-edit" target="_blank" role="button">Edit</a> </td> <td if="{resources.length > 0}" colspan="4"> <div class="panel panel-default table-responsive" style="margin-bottom: 0;"> <table class="table"> <tbody> <tr each="{resource in resources}" if="{show(resource)}"> <td> <a style="word-break: break-word;" target="_blank" href="{resource.URL}">{resource.URL}</a> <span if="{resource.IsRedirected}" class="badge">Redirected</span> </td> <td style="width: 9em;">{resource.Type}</td> <td style="width: 9em;" title="{resource.StatusText}">{status(resource)}</td> <td style="width: 13em;"> <virtual if="{!resource.IsUnhandled}"> <div class="btn-group"> <button if="{!resource.IsMarkedAsFixed}" class="btn btn-sm btn-primary" onclick="{markAsFixed}">Mark as Fixed</button> <button if="{resource.IsMarkedAsFixed}" class="btn btn-sm btn-primary" onclick="{markAsFixed}" disabled="{true}">Marked as Fixed</button> <button if="{!resource.IsMarkedAsFixed}" type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdownx" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </button> <ul class="dropdown-menu dropdown-menu-right"> <li><a href="#" onclick="{markAsFixedOnAllPages}">Mark as fixed on all pages</a></li> </ul> </div> </virtual> <virtual if="{resource.IsUnhandled}"> <div class="btn-group"> <button if="{!resource.IsMarkedAsWorking}" class="btn btn-sm btn-primary" onclick="{markAsWorking}">Mark as Working</button> <button if="{resource.IsMarkedAsWorking}" title="The resource was manually checked on {new Date(resource.IsMarkedAsWorking).toLocaleDateString()}. Click the button to update date of last check." disabled="{checkedToday(resource)}" class="btn btn-sm btn-primary" onclick="{markAsWorking}">Checked: {checkedDateString(resource)}</button> <button if="{!resource.IsMarkedAsWorking}" type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdownx" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </button> <ul class="dropdown-menu dropdown-menu-right"> <li><a href="#" onclick="{markAllWithSameStatusCodeAndDomainAsWorking}">Mark all with same status code and domain as working</a></li> </ul> </div> </virtual> </td> </tr> </tbody> </table> </div> </td>',
"","",function(c){var a=this;a.url=c.url||console.error("no url set");a.resources=c.resources||console.error("no resources set");a.plugin=c.plugin||console.error("no plugin set");a.on("mount",function(){var b=jQuery(a.root).find(".table-responsive");b.on("show.bs.dropdown",function(){b.css("overflow","inherit")});b.on("hide.bs.dropdown",function(){b.css("overflow","auto")})});a.show=function(b){return a.parent.showResource(b)};a.checkedDateString=function(b){return a.checkedToday(b)?"Today":(new Date(b.IsMarkedAsWorking)).toLocaleDateString()};
a.checkedToday=function(a){return(new Date(Date.now())).toLocaleDateString()==(new Date(a.IsMarkedAsWorking)).toLocaleDateString()};a.markAsFixed=function(b){b.item.resource.IsMarkedAsFixed=!0;b=a.parent.keyForResource(a.url,b.item.resource.URL,b.item.resource.Type);lscache.setBucket("linkchecker-fixed-");lscache.set(b,!0);a.parent.update()};a.markAsFixedOnAllPages=function(b){b.preventDefault();a.parent.setMarkedAsFixedOnAllPages(b.item.resource.URL,b.item.resource.Type);a.parent.update()};a.markAsWorking=
function(b){var c=Date.now();a.parent.setMarkedAsWorking(b.item.resource.URL,c);a.parent.update()};a.markAllWithSameStatusCodeAndDomainAsWorking=function(b){b.preventDefault();var c=Date.now();a.parent.setAllWithSameStatusCodeAndDomainMarkedAsWorking(b.item.resource.URL,b.item.resource.StatusCode,c);a.parent.update()};a.status=function(a){return 0<a.StatusCode?a.StatusCode:a.StatusText}});riot.tag2("resulttable",'<div class="panel panel-default table-responsive"> <table class="table table-striped"> <thead> <tr> <th style="width: 35%;">{thCol1}</th> <th>{thCol2}</th> <th style="width: 10em;">{thCol3}</th> </tr> </thead> <tbody> <tr if="{!data || Object.keys(data).length === 0}"> <td>{resultsMessage}</td> <td></td> <td></td> </tr> <tr each="{deadResources, foundOnURL in data}"> <td><a href="{foundOnURL}" target="_blank">{foundOnURL}</a></td> <td colspan="2"> <div class="panel panel-default" style="margin-bottom: 0;"> <table class="table"> <tr each="{deadResource in deadResources}"> <td><a href="{deadResource.URL}" target="_blank">{deadResource.URL}</a></td> <td style="width: 9em;">{deadResource.StatusCode}</td> </tr> </table> </div> </td> </tr> </tbody> <tfoot> <tr> <th>{thCol1}</th> <th>{thCol2}</th> <th>{thCol3}</th> </tr> </tfoot> </table> </div>',
"","",function(c){var a=this;a.thCol1=c.thCol1;a.thCol2=c.thCol2;a.thCol3=c.thCol3;a.resultsMessage=c.resultsMessage;a.data=c.data;a.on("update",function(){a.resultsMessage=c.resultsMessage;a.data=c.data})});
