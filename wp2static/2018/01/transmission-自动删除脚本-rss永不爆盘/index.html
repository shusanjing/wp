<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Transmission 自动删除脚本 RSS永不爆盘 - LuoJi.men</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="format-detection" content="telphone=no, email=no">
    <meta name="keywords" content="下载,脚本">
    <meta name="description" itemprop="description" content="备份自https://blog.wangyan.org/bt-shell-transmission-clean/ 一、删除顺序 首先逐个删除已经下载完的任务，一旦满足条件则停止删除 接着逐个删除已经暂 [&hellip;]">
    <meta name="theme-color" content="#282a2c">
    <meta itemprop="image" content="" />
        <meta name='description' content='备份自https://blog.wangyan.org/bt-shell-transmission-clean/ 一、删除顺序 首先逐个删除已经下载完的任务，一旦满足条件则停止删除 接着逐个删除已经暂 [&hellip;]' />
<meta name='keywords' content='下载,脚本' />
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//cdn.seatonjiang.com' />
<link rel='dns-prefetch' href='//zz.bdstatic.com' />
<link rel='stylesheet' id='urvanov_syntax_highlighter-css'  href='/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.27' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='/wp-content/plugins/urvanov-syntax-highlighter/themes/classic/classic.css?ver=2.8.27' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/urvanov-syntax-highlighter/fonts/monaco.css?ver=2.8.27' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='bootstrap-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/bootstrap.min.css?ver=4.5.0' type='text/css' media='all' />
<link rel='stylesheet' id='kicon-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/iconfont.min.css?ver=4.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='layer-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/layer.min.css?ver=3.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='lightgallery-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/assets/css/lightgallery.min.css?ver=1.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='kratos-css'  href='https://cdn.seatonjiang.com/kratos/4.1.2/style.css?ver=4.1.2' type='text/css' media='all' />
<style id='kratos-inline-css' type='text/css'>

        @media screen and (min-width: 992px) {
            .k-nav .navbar-brand h1 {
                color: #ffffff;
            }
            .k-nav .navbar-nav > li.nav-item > a {
                color: #ffffff;
            }
        }
        
.sticky-sidebar {
                position: sticky;
                top: 8px;
                height: 100%;
            }
</style>
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.luoji.men%2F2018%2F01%2Ftransmission-%25e8%2587%25aa%25e5%258a%25a8%25e5%2588%25a0%25e9%2599%25a4%25e8%2584%259a%25e6%259c%25ac-rss%25e6%25b0%25b8%25e4%25b8%258d%25e7%2588%2586%25e7%259b%2598%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.luoji.men%2F2018%2F01%2Ftransmission-%25e8%2587%25aa%25e5%258a%25a8%25e5%2588%25a0%25e9%2599%25a4%25e8%2584%259a%25e6%259c%25ac-rss%25e6%25b0%25b8%25e4%25b8%258d%25e7%2588%2586%25e7%259b%2598%2F&#038;format=xml" />
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><!-- 谷歌收录的验证方式 -->
<meta name="google-site-verification" content="XxPfUFFG0MmfvRUNs2AFXHfRXRx_xVLXdD_6Si95rJ0" />
<!-- bing收录验证luojimen.netlify.app -->
<meta name="msvalidate.01" content="508C6C00EA05098C32CD4DB253B3CB66" />
<!-- baidu收录验证luojimen.netlify.app -->
<meta name="baidu-site-verification" content="code-DlUhxrKYUP" />
		
		<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', '');
		</script>

				<script type="text/javascript">
		var _hmt = _hmt || [];
				_hmt.push(['_trackPageview']);
						(function() {
		var hm = document.createElement("script");
		hm.src = "//hm.baidu.com/hm.js?cff4b8fde8a7abf46d402c4fd284f0cc";
		hm.setAttribute('async', 'true');
		document.getElementsByTagName('head')[0].appendChild(hm);
		})();
		</script>
		    <script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/jquery.min.js?ver=3.4.1' id='jquery-js'></script>
    </head>

<body>
    <script type="text/javascript">  
    $(function() {  
    $('.content img').each(function(i){  
        if (! this.parentNode.href) {  
            $(this).wrap("<a href='"+this.src+"' class='highslide-image' onclick='return hs.expand(this);'></a>");  
                                    }  
                                            });  
                });  
    </script> 
    <div class="k-header">
        <nav class="k-nav navbar navbar-expand-lg navbar-light fixed-top" style="background:#1e73be">
            <div class="container">
                <a class="navbar-brand" href="http://luojimen.netlify.app">
                    <h1>LuoJi.men</h1>                </a>
                                    <button class="navbar-toggler navbar-toggler-right" id="navbutton" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="line first-line"></span>
                        <span class="line second-line"></span>
                        <span class="line third-line"></span>
                    </button>
                <div id="navbarResponsive" class="collapse navbar-collapse"><ul id="menu-menu-1" class="navbar-nav ml-auto"><li class="nav-item" ><a title="首页" href="https://luoji.men/" class="nav-link">首页</a></li>
<li class="nav-item" ><a title="在线工具站" href="/online-tool-station/" class="nav-link">在线工具站</a></li>
<li class="nav-item" ><a title="运维log" href="/%e8%bf%90%e7%bb%b4log/" class="nav-link">运维log</a></li>
<li class="nav-item" ><a title="归档时间轴" href="/time/" class="nav-link">归档时间轴</a></li>
</ul></div>            </div>
        </nav>
            </div>
<div class="k-main color" style="background:#f5f5f5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 details">
                                    <div class="article">
                        <div class="breadcrumb-box">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a class="text-dark" href="https://luojimen.netlify.app"> 首页</a>
                                </li>
                                <li class="breadcrumb-item"> <a class="text-dark" href="/category/linux/">Linux</a></li>                                <li class="breadcrumb-item active" aria-current="page"> 正文</li>
                            </ol>
                        </div>
                        <div class="header">
                            <h1 class="title">Transmission 自动删除脚本 RSS永不爆盘</h1>
                            <div class="meta">
                                <span>2018年1月26日</span>
                                                                    <span>459点热度</span>
                                                                                            </div>
                        </div>
                        <div class="content" id="lightgallery">
                            <div style="margin-bottom:5px"><a href="" target="_blank" rel="noreferrer"><img src=""></a></div><p><a class="irc_mil i3597 i_Wea4RNBh1M-zixyDjKkw5M" tabindex="0" href="https://twitter.com/transmissionbt" target="_blank" rel="noopener" data-noload="" data-ved="0ahUKEwibuavr3vPYAhUN-mMKHcmyDREQjRwIBw" rel="nofollow" >备份自https://blog.wangyan.org/bt-shell-transmission-clean/</a></p>
<h2  id="一、删除顺序"><a name="toc-1"></a></h2>
<p><img class="alignnone size-full wp-image-2192" src="/wp-content/uploads/2018/01/Transmission.png" width="500" height="500" alt="Transmission" title="Transmission" />一、删除顺序</p>
<ol>
<li>首先逐个删除已经下载完的任务，一旦满足条件则停止删除</li>
<li>接着逐个删除已经暂停的任务，一旦满足条件则停止删除</li>
<li>最后按顺序删除正在下载的任务（相当于删除全部任务），直到满足条件。</li>
<li>如果还是未能满足条件，则动用”rm -rf”强制删除下载目录内的所有文件。</li>
</ol>
<h2  id="二、使用方法"><a name="toc-2"></a>二、使用方法</h2>
<h3 ><a name="toc-3"></a>2.1、创建脚本并测试</h3>
<p></p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8c95576110238" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
mkdir ~/trans/ &amp;&amp; cd ~/trans/
新建脚本：nano trans_cleanup.sh
运行权限：chmod +x ./trans_cleanup.sh
./trans_cleanup.sh #先运行一次查看是否正常工作</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c95576110238-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c95576110238-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c95576110238-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c95576110238-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c95576110238-1"><span class="crayon-v">mkdir</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-v">trans</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-v">trans</span><span class="crayon-o">/</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c95576110238-2">新建脚本：<span class="crayon-e">nano </span><span class="crayon-v">trans_cleanup</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c95576110238-3">运行权限：<span class="crayon-v">chmod</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">trans_cleanup</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c95576110238-4"><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">trans_cleanup</span><span class="crayon-sy">.</span><span class="crayon-i">sh</span><span class="crayon-h"> </span><span class="crayon-p">#先运行一次查看是否正常工作</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p><strong>trans_cleanup.sh脚本：</strong></p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8c9b256066648" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#! /bin/bash
#====================================================================
# trans_cleanup.sh
#
# Copyright (c) 2011, WangYan &lt;webmaster@wangyan.org&gt;
# All rights reserved.
# Distributed under the GNU General Public License, version 3.0.
#
# Monitor disk space, If the Over, delete some files.
#
# See: http://wangyan.org/blog/trans_cleanup.html
#
# V0.2, since 2012-10-29
#====================================================================
# The transmission remote login username
USERNAME="demo"
# The transmission remote login password
PASSWORD="demo"
# The transmission download dir
DLDIR="/"
# The maximum allowed disk (%)
DISK_USED_MAX="90"
# Enable auto shutdown support (Disable=0, Enable=1)
ENABLE_AUTO_SHUTDOWN="0"
# Log path settings
LOG_PATH="/var/log/trans_cleanup.log"
# Date time format setting
DATA_TIME=$(date +"%y-%m-%d %H:%M:%S")
#====================================================================
dist_check()
{
    DISK_USED=`df -h / | grep -v Use | awk '{print $5}' | cut -d '%' -f 1`
    DISK_OVER=`awk 'BEGIN{print('$DISK_USED'&gt;'$DISK_USED_MAX')}'`
}
dist_check


if [ "$DISK_OVER" = "1" ];then
	for ii in `transmission-remote --auth $USERNAME:$PASSWORD -l | grep Stopped | awk '{print $1}' | grep -v ID | sed 's:*::'`
	do
		[ "$ii" -gt "0" ] &amp;&amp; echo -n "$DATA_TIME [Stopped] " &gt;&gt; $LOG_PATH
		transmission-remote --auth $USERNAME:$PASSWORD -t $ii --remove-and-delete &gt;&gt; $LOG_PATH 2&gt;&amp;1
		[ "$ii" -gt "0" ] &amp;&amp; sleep 10 &amp;&amp; dist_check
		[ "$DISK_OVER" = "0" ] &amp;&amp; break
	done
fi

if [ "$DISK_OVER" = "1" ];then
        for iiii in `transmission-remote --auth $USERNAME:$PASSWORD -l | grep Idle | awk '{print $1}' | grep -v ID | sed 's:*::'`
        do
                [ "$iiii" -gt "0" ] &amp;&amp; echo -n "$DATA_TIME [Idle] " &gt;&gt; $LOG_PATH
                transmission-remote --auth $USERNAME:$PASSWORD -t $iiii --remove-and-delete &gt;&gt; $LOG_PATH 2&gt;&amp;1
                [ "$iiii" -gt "0" ] &amp;&amp; sleep 10 &amp;&amp; dist_check
                [ "$DISK_OVER" = "0" ] &amp;&amp; break
        done
fi

if [ "$DISK_OVER" = "1" ];then
	for i in `transmission-remote --auth $USERNAME:$PASSWORD -l | grep 100% | grep Done | awk '{print $1}' | grep -v ID | sed 's:*::'`
	do
		[ "$i" -gt "0" ] &amp;&amp; echo -n "$DATA_TIME [Done] " &gt;&gt; $LOG_PATH
		transmission-remote --auth $USERNAME:$PASSWORD -t $i --remove-and-delete &gt;&gt; $LOG_PATH 2&gt;&amp;1
		[ "$i" -gt "0" ] &amp;&amp; sleep 10 &amp;&amp; dist_check
		[ "$DISK_OVER" = "0" ] &amp;&amp; break
	done
fi

if [ "$DISK_OVER" = "1" ];then
	for iii in `transmission-remote --auth $USERNAME:$PASSWORD -l | grep -v Sum | awk '{print $1}' | grep -v ID | sed 's:*::'`
	do
		[ "$iii" -gt "0" ] &amp;&amp; echo -n "$DATA_TIME [Up or Down] " &gt;&gt; $LOG_PATH
		transmission-remote --auth $USERNAME:$PASSWORD -t $iii --remove-and-delete &gt;&gt; $LOG_PATH 2&gt;&amp;1
		[ "$iii" -gt "0" ] &amp;&amp; sleep 10 &amp;&amp; dist_check
		[ "$DISK_OVER" = "0" ] &amp;&amp; break
	done
fi
if [ "$DISK_OVER" = "1" ];then
	rm -rf $DLDIR/*
fi
if [ "$ENABLE_AUTO_SHUTDOWN" = "1" ];then
	SHUTDOWN=1
	for STATUS in `transmission-remote --auth $USERNAME:$PASSWORD -l | awk '{print $9}'`
	do
		if [[ "$STATUS" = "Up" || "$STATUS" = "Uploading" ]];then
			SHUTDOWN=0
		fi
	done
	TASK_TOTAL=`transmission-remote --auth $USERNAME:$PASSWORD -l | grep -Ev '(ID|Sum)' | wc -l`
	if [ "$TASK_TOTAL" -gt "0" ] &amp;&amp; [ "$SHUTDOWN" -eq "1" ];then
		echo -n "$DATA_TIME " &gt;&gt; $LOG_PATH
		shutdown now &gt;&gt; $LOG_PATH 2&gt;&amp;1
	fi
fi</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-81">81</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-82">82</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-83">83</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-84">84</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-85">85</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-86">86</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-87">87</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-88">88</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-89">89</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-90">90</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-91">91</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-92">92</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9b256066648-93">93</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-1"><span class="crayon-p">#! /bin/bash</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-2"><span class="crayon-p">#====================================================================</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-3"><span class="crayon-p"># trans_cleanup.sh</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-4"><span class="crayon-p">#</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-5"><span class="crayon-p"># Copyright (c) 2011, WangYan &lt;webmaster@wangyan.org&gt;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-6"><span class="crayon-p"># All rights reserved.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-7"><span class="crayon-p"># Distributed under the GNU General Public License, version 3.0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-8"><span class="crayon-p">#</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-9"><span class="crayon-p"># Monitor disk space, If the Over, delete some files.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-10"><span class="crayon-p">#</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-11"><span class="crayon-p"># See: http://wangyan.org/blog/trans_cleanup.html</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-12"><span class="crayon-p">#</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-13"><span class="crayon-p"># V0.2, since 2012-10-29</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-14"><span class="crayon-p">#====================================================================</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-15"><span class="crayon-p"># The transmission remote login username</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-16"><span class="crayon-v">USERNAME</span><span class="crayon-o">=</span><span class="crayon-s">"demo"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-17"><span class="crayon-p"># The transmission remote login password</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-18"><span class="crayon-v">PASSWORD</span><span class="crayon-o">=</span><span class="crayon-s">"demo"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-19"><span class="crayon-p"># The transmission download dir</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-20"><span class="crayon-v">DLDIR</span><span class="crayon-o">=</span><span class="crayon-s">"/"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-21"><span class="crayon-p"># The maximum allowed disk (%)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-22"><span class="crayon-v">DISK_USED_MAX</span><span class="crayon-o">=</span><span class="crayon-s">"90"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-23"><span class="crayon-p"># Enable auto shutdown support (Disable=0, Enable=1)</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-24"><span class="crayon-v">ENABLE_AUTO_SHUTDOWN</span><span class="crayon-o">=</span><span class="crayon-s">"0"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-25"><span class="crayon-p"># Log path settings</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-26"><span class="crayon-v">LOG_PATH</span><span class="crayon-o">=</span><span class="crayon-s">"/var/log/trans_cleanup.log"</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-27"><span class="crayon-p"># Date time format setting</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-28"><span class="crayon-v">DATA_TIME</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%y-%m-%d %H:%M:%S"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-29"><span class="crayon-p">#====================================================================</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-30"><span class="crayon-e">dist_check</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-31"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">DISK_USED</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-v">df</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">h</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-st">Use</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $5}'</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">cut</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-s">'%'</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">f</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">`</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">DISK_OVER</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'BEGIN{print('</span><span class="crayon-sy">$</span><span class="crayon-v">DISK</span><span class="crayon-sy">_</span>USED<span class="crayon-s">'&gt;'</span><span class="crayon-sy">$</span><span class="crayon-v">DISK_USED</span><span class="crayon-sy">_</span>MAX<span class="crayon-s">')}'</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-34"><span class="crayon-sy">}</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-35"><span class="crayon-e">dist_check</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-36">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-38"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-39"><span class="crayon-h">	</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">ii </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">grep </span><span class="crayon-v">Stopped</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $1}'</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">ID</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">sed</span><span class="crayon-h"> </span><span class="crayon-s">'s:*::'</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-40"><span class="crayon-h">	</span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-41"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$ii"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-s">"$DATA_TIME [Stopped] "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">LOG_PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-42"><span class="crayon-e">		</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">ii</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">remove</span><span class="crayon-o">-</span><span class="crayon-st">and</span><span class="crayon-o">-</span><span class="crayon-v">delete</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">LOG</span><span class="crayon-sy">_</span>PATH<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-43"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$ii"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">dist</span><span class="crayon-sy">_</span>check</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-44"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-st">break</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-45"><span class="crayon-h">	</span><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-46"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-48"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">iiii </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">grep </span><span class="crayon-v">Idle</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $1}'</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">ID</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">sed</span><span class="crayon-h"> </span><span class="crayon-s">'s:*::'</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$iiii"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-s">"$DATA_TIME [Idle] "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">LOG_PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-52"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">iiii</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">remove</span><span class="crayon-o">-</span><span class="crayon-st">and</span><span class="crayon-o">-</span><span class="crayon-v">delete</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">LOG</span><span class="crayon-sy">_</span>PATH<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$iiii"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">dist</span><span class="crayon-sy">_</span>check</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-st">break</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-56"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-58"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-59"><span class="crayon-h">	</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">grep</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-e">grep </span><span class="crayon-v">Done</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $1}'</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">ID</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">sed</span><span class="crayon-h"> </span><span class="crayon-s">'s:*::'</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-60"><span class="crayon-h">	</span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-61"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$i"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-s">"$DATA_TIME [Done] "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">LOG_PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-62"><span class="crayon-e">		</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">remove</span><span class="crayon-o">-</span><span class="crayon-st">and</span><span class="crayon-o">-</span><span class="crayon-v">delete</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">LOG</span><span class="crayon-sy">_</span>PATH<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-63"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$i"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">dist</span><span class="crayon-sy">_</span>check</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-64"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-st">break</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-65"><span class="crayon-h">	</span><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-66"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-67">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-68"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-69"><span class="crayon-h">	</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">iii </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">Sum</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $1}'</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">ID</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">sed</span><span class="crayon-h"> </span><span class="crayon-s">'s:*::'</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-70"><span class="crayon-h">	</span><span class="crayon-st">do</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-71"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$iii"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-s">"$DATA_TIME [Up or Down] "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">LOG_PATH</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-72"><span class="crayon-e">		</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">iii</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">remove</span><span class="crayon-o">-</span><span class="crayon-st">and</span><span class="crayon-o">-</span><span class="crayon-v">delete</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">LOG</span><span class="crayon-sy">_</span>PATH<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-73"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$iii"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-i">sleep</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">dist</span><span class="crayon-sy">_</span>check</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-74"><span class="crayon-h">		</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-st">break</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-75"><span class="crayon-h">	</span><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-76"><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-77"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$DISK_OVER"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-78"><span class="crayon-h">	</span><span class="crayon-v">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">rf</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">DLDIR</span><span class="crayon-o">/</span><span class="crayon-o">*</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-79"><span class="crayon-e">fi</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-80"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$ENABLE_AUTO_SHUTDOWN"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-81"><span class="crayon-h">	</span><span class="crayon-v">SHUTDOWN</span><span class="crayon-o">=</span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-82"><span class="crayon-h">	</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">STATUS </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $9}'</span><span class="crayon-sy">`</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-83"><span class="crayon-h">	</span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-84"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$STATUS"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Up"</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-s">"$STATUS"</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Uploading"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-85"><span class="crayon-h">			</span><span class="crayon-v">SHUTDOWN</span><span class="crayon-o">=</span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-86"><span class="crayon-h">		</span><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-87"><span class="crayon-e">	</span><span class="crayon-e">done</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-88"><span class="crayon-e">	</span><span class="crayon-v">TASK_TOTAL</span><span class="crayon-o">=</span><span class="crayon-sy">`</span><span class="crayon-v">transmission</span><span class="crayon-o">-</span><span class="crayon-v">remote</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">auth</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">USERNAME</span><span class="crayon-o">:</span><span class="crayon-sy">$</span><span class="crayon-v">PASSWORD</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">Ev</span><span class="crayon-h"> </span><span class="crayon-s">'(ID|Sum)'</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">wc</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">l</span><span class="crayon-sy">`</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-89"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$TASK_TOTAL"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">gt</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-s">"$SHUTDOWN"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">eq</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-90"><span class="crayon-h">		</span><span class="crayon-v">echo</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">n</span><span class="crayon-h"> </span><span class="crayon-s">"$DATA_TIME "</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-e">LOG_PATH</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-91"><span class="crayon-e">		</span><span class="crayon-e">shutdown </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">&gt;&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">LOG</span><span class="crayon-sy">_</span>PATH<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-92"><span class="crayon-h">	</span><span class="crayon-e">fi</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9b256066648-93"><span class="crayon-v">fi</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0042 seconds] -->
<p>&nbsp;</p>
<h3  id="2-2、设置cron计划任务"><a name="toc-4"></a>2.2、设置cron计划任务</h3>
<p>自动检查频率可随意设置，例如每5分钟检查一次</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8c9f451142790" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
crontab -e
*/5 * * * *  /bin/bash  /root/trans/trans_cleanup.sh</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9f451142790-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-630f52f3a8c9f451142790-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8c9f451142790-1"><span class="crayon-v">crontab</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e ">e</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-630f52f3a8c9f451142790-2"><span class="crayon-e ">*</span><span class="crayon-o">/</span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">trans</span><span class="crayon-o">/</span><span class="crayon-v">trans_cleanup</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>&nbsp;</p>
<h2  id="三、配置选项"><a name="toc-5"></a>三、配置选项</h2>
<p>用编辑器打开trans_cleanup.sh文件，自定义以下选项</p>
<p><img loading="lazy" class="alignnone size-full wp-image-2193" src="/wp-content/uploads/2018/01/trans_cleanup.jpg" width="659" height="336" alt="trans_cleanup" title="trans_cleanup" /></p>
<p>1）登录用户名，默认是demo</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8ca1106116607" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
USERNAME="demo"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8ca1106116607-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8ca1106116607-1"><span class="crayon-v">USERNAME</span><span class="crayon-o">=</span><span class="crayon-s">"demo"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>2) 登录密码，默认是demo</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8ca3617920114" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
PASSWORD="domo"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8ca3617920114-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8ca3617920114-1"><span class="crayon-v">PASSWORD</span><span class="crayon-o">=</span><span class="crayon-s">"domo"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>3) transmission下载目录，默认在/root/Downloads</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8ca4977916154" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
DLDIR=/root/Downloads</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8ca4977916154-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8ca4977916154-1"><span class="crayon-v">DLDIR</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-v">Downloads</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>&nbsp;</p>
<p>4) 磁盘最大使用阀值，默认95%</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8ca5277077344" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
DISK_USED_MAX="90"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8ca5277077344-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8ca5277077344-1"><span class="crayon-v">DISK_USED_MAX</span><span class="crayon-o">=</span><span class="crayon-s">"90"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
<p>&nbsp;</p>
<p>5) 日志存放路径，默认在/var/log/trans_cleanup.log</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8ca7397549425" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
LOG_PATH="/var/log/trans_cleanup.log"</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8ca7397549425-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8ca7397549425-1"><span class="crayon-v">LOG_PATH</span><span class="crayon-o">=</span><span class="crayon-s">"/var/log/trans_cleanup.log"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
<p>&nbsp;</p>
<p>6) 日志日期格式，一般不需要改。</p><!-- Urvanov Syntax Highlighter v2.8.27 -->

		<div id="urvanov-syntax-highlighter-630f52f3a8ca8190566722" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea  class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
DATA_TIME=$(date +"%y-%m-%d %H:%M:%S")</textarea></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-630f52f3a8ca8190566722-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-630f52f3a8ca8190566722-1"><span class="crayon-v">DATA_TIME</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">date</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">"%y-%m-%d %H:%M:%S"</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0521 seconds] -->
<p>&nbsp;</p>
                        </div>
                                                <div class="footer clearfix">
                            <div class="tags float-left">
                                <span>标签：</span>
                                <a href="/tag/%e4%b8%8b%e8%bd%bd/" rel="tag">下载</a> <a href="/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a>                            </div>
                            <div class="tool float-right d-none d-lg-block">
                                <span>最后更新：2018年1月26日</span>
                            </div>
                        </div>
                    </div>
                                <div class="toolbar clearfix">
	<div class="meta float-md-left">
		<img src="https://sdn.geekzu.org/avatar/8dc48ab2afc8d5058df4be411bc61a15?s=96&r=g">
		<p class="name">SSJ</p>
		<p class="motto mb-0">不积跬步无以至千里</p>
	</div>
	<div class="share float-md-right text-center">
				<a href="javascript:;" id="thumbs" data-action="love" data-id="1728" role="button" class="btn btn-thumbs "><i class="kicon i-like"></i><span class="ml-1">点赞</span></a>
	</div>
</div>
                <nav class="navigation post-navigation clearfix" role="navigation">
                    <div class="nav-previous clearfix"><a title="hostloc刷20积分-php代码" href="/2018/01/hostloc-brush-20-points-php-code/">< 上一篇</a></div><div class="nav-next"><a title="Ubuntu apt get faile to fork解决方法" href="/2018/02/ubuntu-apt-get-faile-to-fork%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95/">下一篇 ></a></div>                </nav>
                            </div>
                    </div>
    </div>
</div>
<div class="k-footer">
    <div class="f-toolbox">
        <div class="gotop ">
            <div class="gotop-btn">
                <span class="kicon i-up"></span>
            </div>
        </div>
                <div class="search">
            <span class="kicon i-find"></span>
            <form class="search-form" role="search" method="get" action="/">
                <input type="text" name="s" id="search-footer" placeholder="搜点什么呢?" style="display:none" />
            </form>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <p class="social">
                                    </p>
                <p>COPYRIGHT © 2022 luoji.men. ALL RIGHTS RESERVED.</p><p>Theme <a href="https://github.com/seatonjiang/kratos" target="_blank" rel="nofollow">Kratos</a> Made By <a href="https://seatonjiang.com" target="_blank" rel="nofollow">Seaton Jiang</a></p><script></script>            </div>
        </div>
    </div>
</div>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.27","is_admin":"0","ajaxurl":"https:\/\/luojimen.netlify.app\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.27' id='urvanov_syntax_highlighter_js-js'></script>
<script type='text/javascript' id='image-sizes-js-extra'>
/* <![CDATA[ */
var IMAGE_SIZES = {"version":"3.5","disables":["thumbnail","medium","medium_large","large","1536x1536","2048x2048","kratos-thumbnail"]};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/image-sizes/assets/js/front.min.js?ver=3.5' id='image-sizes-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/bootstrap.bundle.min.js?ver=4.5.0' id='bootstrap-bundle-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/layer.min.js?ver=3.1.1' id='layer-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/DPlayer.min.js?ver=4.1.2' id='dplayer-js'></script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/lightgallery.min.js?ver=1.4.0' id='lightgallery-js'></script>
<script type='text/javascript' id='kratos-js-extra'>
/* <![CDATA[ */
var kratos = {"site":"https:\/\/luojimen.netlify.app","directory":"https:\/\/cdn.seatonjiang.com\/kratos\/4.1.2","alipay":"https:\/\/luoji.men\/wp-content\/themes\/kratos-4.1.2\/assets\/img\/200.png","wechat":"https:\/\/luoji.men\/wp-content\/themes\/kratos-4.1.2\/assets\/img\/200.png","repeat":"\u60a8\u5df2\u7ecf\u8d5e\u8fc7\u4e86","thanks":"\u611f\u8c22\u60a8\u7684\u652f\u6301","donate":"\u6253\u8d4f\u4f5c\u8005","scan":"\u626b\u7801\u652f\u4ed8"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/kratos.js?ver=4.1.2' id='kratos-js'></script>
<script type='text/javascript' id='comment-js-extra'>
/* <![CDATA[ */
var ajaxcomment = {"ajax_url":"https:\/\/luojimen.netlify.app\/wp-admin\/admin-ajax.php","order":"asc","compost":"\u8bc4\u8bba\u6b63\u5728\u63d0\u4ea4\u4e2d","comsucc":"\u8bc4\u8bba\u63d0\u4ea4\u6210\u529f"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.seatonjiang.com/kratos/4.1.2/assets/js/comments.min.js?ver=4.1.2' id='comment-js'></script>
<script type='text/javascript' src='https://zz.bdstatic.com/linksubmit/push.js?ver=6.0.2' id='baidu_zz_push-js'></script>
</body>

</html>
