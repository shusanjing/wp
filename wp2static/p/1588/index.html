<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<title>backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份 | 逻辑门.博客</title>
<meta name="description" content="概述&nbsp;本脚本目的是&gt;将vps网站内容(文件夹和数据库)分割成指定附件大小发送邮件到邮箱作为备份。国内QQ和163邮箱无限容量,相当于永久免费备份.适用于vps和独立服务器.四步流程概览&gt;&gt;&gt;1&gt;安装配置mutt邮件发送程序2&gt;安装7z压缩程序3&gt;修改backup2mail.sh脚本(收件人,要备份的文件夹,数据库等用户信息)4&gt;执行backup2mail.sh脚本(tips:末尾" />
<meta name="keywords" content="linux,pt,vps,vultr,wordpress,下载,博客,网站,脚本,邮件" />
<link rel="shortcut icon" href="">
<link rel="apple-touch-icon" sizes="114x114" href="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/favicon.png" />
<link rel="pingback" href="https://shusanjing.github.io/wp/wp2static/xmlrpc.php">
<!--[if lt IE 9]>
<script src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/html5.js"></script>
<script src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/css3-mediaqueries.js"></script>
<![endif]-->
<meta name='robots' content='max-image-preview:large' />
<link rel='stylesheet' id='crayon-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='https://shusanjing.github.io/wp/wp2static/wp-includes/css/dist/block-library/style.min.css?ver=5.9.1' type='text/css' media='all' />
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='lbwps-lib-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/lightbox-photoswipe/lib/photoswipe.css?ver=3.1.3' type='text/css' media='all' />
<link rel='stylesheet' id='photoswipe-skin-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/lightbox-photoswipe/lib/skins/default/skin.css?ver=3.1.3' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/table-of-contents-plus/screen.min.css?ver=2002' type='text/css' media='all' />
<link rel='stylesheet' id='begin-style-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/style.css?ver=4.6' type='text/css' media='all' />
<link rel='stylesheet' id='fonts-css'  href='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/css/fonts.css?ver=2017.05.10' type='text/css' media='all' />
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/jquery.min.js?ver=1.10.1' id='jquery-js'></script>
<script type='text/javascript' id='crayon_js-js-extra'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/shusanjing.github.io\/wp\/wp2static\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta' id='crayon_js-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/lightbox-photoswipe/lib/photoswipe.min.js?ver=3.1.3' id='lbwps-lib-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/lightbox-photoswipe/lib/photoswipe-ui-default.min.js?ver=3.1.3' id='lbwps-ui-default-js'></script>
<script type='text/javascript' id='lbwps-frontend-js-extra'>
/* <![CDATA[ */
var lbwpsOptions = {"label_facebook":"Share on Facebook","label_twitter":"Tweet","label_pinterest":"Pin it","label_download":"Download image","label_copyurl":"Copy image URL","share_facebook":"1","share_twitter":"1","share_pinterest":"1","share_download":"1","share_direct":"0","share_copyurl":"0","share_custom_label":"","share_custom_link":"","wheelmode":"close","close_on_drag":"1","history":"1","show_counter":"1","show_fullscreen":"1","show_zoom":"1","show_caption":"1","loop":"1","pinchtoclose":"1","taptotoggle":"1","spacing":"12","close_on_click":"1","fulldesktop":"0","use_alt":"0","desktop_slider":"1","idletime":"4000"};
/* ]]> */
</script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/lightbox-photoswipe/js/frontend.min.js?ver=3.1.3' id='lbwps-frontend-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/slides.js?ver=2017.05.10' id='slides-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/jquery.qrcode.min.js?ver=2017.05.10' id='jquery.qrcode.min-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/wow.js?ver=0.1.9' id='wow-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/sticky.js?ver=1.6.0' id='sticky-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/jquery-ias.js?ver=2.2.1' id='jquery-ias-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/jquery.lazyload.js?ver=2017.05.10' id='lazyload-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/tipso.js?ver=1.0.1' id='tipso-js'></script>
<script type='text/javascript' id='script-js-extra'>
/* <![CDATA[ */
var wpl_ajax_url = "https:\/\/shusanjing.github.io\/wp\/wp2static\/wp-admin\/admin-ajax.php";
/* ]]> */
</script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/script.js?ver=2017.05.10' id='script-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/flexisel.js?ver=2017.05.10' id='flexisel-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/fancybox.js?ver=2017.05.10' id='fancybox-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/comments-ajax-qt.js?ver=2017.05.10' id='comments-ajax-qt-js'></script>
<link rel="canonical" href="https://shusanjing.github.io/wp/wp2static/p/1588/" />


<script type="text/javascript">  
$(function() {  
    $('.single-content img').each(function(i){  
        if (! this.parentNode.href) {  
            $(this).wrap("<a href='"+this.src+"' class='fancybox' onclick='return hs.expand(this);'></a>");  
        }  
    });  
});  
</script>  


</head>
<body class="post-template-default single single-post postid-1588 single-format-standard">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header">

	<nav id="top-header">
		<div class="top-nav">
							<div id="user-profile">
					<div class="user-login">欢迎光临！</div>
			
						<div class="nav-set">
			 	<div class="nav-login">
			 					<a href="#login" class="flatbtn" id="login-main" ><i class="fa fa-sign-in"></i>登录</a>
								</div>
			</div>
					<div class="clear"></div>
</div>			
			<div class="menu-%e5%88%86%e7%b1%bb%e8%8f%9c%e5%8d%95-container"><ul id="menu-%e5%88%86%e7%b1%bb%e8%8f%9c%e5%8d%95" class="top-menu"><li id="menu-item-512" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-512"><a href="https://shusanjing.github.io/wp/wp2static/">首页</a></li>
<li id="menu-item-508" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-508"><a href="https://shusanjing.github.io/wp/wp2static/p/uncategorized/">其他</a></li>
<li id="menu-item-509" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-509"><a href="https://shusanjing.github.io/wp/wp2static/p/%e6%9c%ac%e7%ab%99%e8%bf%90%e7%bb%b4/">网站运维</a></li>
<li id="menu-item-510" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-510"><a href="https://shusanjing.github.io/wp/wp2static/p/%e7%94%b5%e8%84%91%e7%9b%b8%e5%85%b3/">电脑相关</a></li>
</ul></div>		</div>
	</nav><!-- #top-header -->

	<div id="menu-box">
		<div id="top-menu">
			<span class="nav-search"><i class="fa fa-search"></i></span>
												<span class="mobile-login"><a href="#login" id="login-mobile" ><i class="fa fa-user"></i></a></span>
													<div class="logo-site">
																		<p class="site-title"><a href="https://shusanjing.github.io/wp/wp2static/" title="逻辑门.博客" rel="home">逻辑门.博客</a></p>
						<p class="site-description">www.luoji.men    技术生活&amp;智能家庭</p>
													</div><!-- .logo-site -->

			<div id="site-nav-wrap">
				<div id="sidr-close"><a href="#sidr-close" class="toggle-sidr-close">×</a></div>
				<nav id="site-nav" class="main-nav">
																						<a href="#sidr-main" id="navigation-toggle" class="bars"><i class="fa fa-bars"></i></a>
																				<div class="menu-%e9%a1%b6%e9%83%a8%e8%8f%9c%e5%8d%95-container"><ul id="menu-%e9%a1%b6%e9%83%a8%e8%8f%9c%e5%8d%95" class="down-menu nav-menu"><li id="menu-item-342" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-342"><a href="https://shusanjing.github.io/wp/wp2static">首页</a></li>
<li id="menu-item-343" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-343"><a href="https://shusanjing.github.io/wp/wp2static/%e5%9c%a8%e7%ba%bf%e5%b7%a5%e5%85%b7%e7%ab%99/">在线工具站</a></li>
<li id="menu-item-344" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-344"><a href="https://shusanjing.github.io/wp/wp2static/%e6%8a%95%e7%a8%bf/">投稿</a></li>
<li id="menu-item-391" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-391"><a href="https://shusanjing.github.io/wp/wp2static/%e8%bf%90%e7%bb%b4/">运维</a></li>
<li id="menu-item-402" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-402"><a href="https://shusanjing.github.io/wp/wp2static/%e5%8f%8b%e6%83%85%e9%93%be%e6%8e%a5/">友情链接</a></li>
</ul></div>				</nav><!-- #site-nav -->
			</div><!-- #site-nav-wrap -->
			<div class="clear"></div>
		</div><!-- #top-menu -->
	</div><!-- #menu-box -->
</header><!-- #masthead -->

<div id="search-main">
	<div class="searchbar">
	<form method="get" id="searchform" action="https://shusanjing.github.io/wp/wp2static/">
		<span>
			<input type="text" value="" name="s" id="s" placeholder="输入搜索内容" required />
			<button type="submit" id="searchsubmit">搜索</button>
		</span>

			</form>
</div>		<div class="clear"></div>
</div>					<nav class="breadcrumb">
		<a class="crumbs" href="https://shusanjing.github.io/wp/wp2static/"><i class="fa fa-home"></i>首页</a><i class="fa fa-angle-right"></i><a href="https://shusanjing.github.io/wp/wp2static/p/wp/" rel="category tag">WordPress</a><i class="fa fa-angle-right"></i><a href="https://shusanjing.github.io/wp/wp2static/p/%e6%9c%ac%e7%ab%99%e8%bf%90%e7%bb%b4/" rel="category tag">网站运维</a><i class="fa fa-angle-right"></i>正文	</nav>
		
		<div id="content" class="site-content">
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

			
				<article id="post-1588" class="post-1588 post type-post status-publish format-standard hentry category-wp category-2 tag-linux tag-pt tag-vps tag-vultr tag-wordpress tag-21 tag-4 tag-5 tag-36 tag-16 rvy">
		<header class="entry-header">
									<h1 class="entry-title">backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份</h1>						</header><!-- .entry-header -->

	<div class="entry-content">
		
			<div class="begin-single-meta"><span class="my-date"><i class="fa fa-clock-o"></i> 2017年12月7日<i class="i-time">20:58:44</i></span><span class="comment"><span><span class="screen-reader-text">backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份</span>已关闭评论</span></span><span class="views"><i class="fa fa-eye"></i> 1,548 views</span><span class="print"><a href="javascript:printme()" target="_self" title="打印"><i class="fa fa-print"></i></a></span><span class="s-hide r-hide"><a href="javascript:pr()" title="侧边栏"><i class="fa fa-caret-left"></i> <i class="fa fa-caret-right"></i></a></span></div>
			<div class="single-content">
				
							<div class="ad-pc ad-site"><script type="text/javascript">
(function(){
var p = {
url:location.href, /*获取URL，可加上来自分享到QQ标识，方便统计*/
desc:'', /*分享理由(风格应模拟用户对话),支持多分享语随机展现（使用|分隔）*/
title:'', /*分享标题(可选)*/
summary:'', /*分享摘要(可选)*/
pics:'', /*分享图片(可选)*/
flash: '', /*视频地址(可选)*/
site:'', /*分享来源(可选) 如：QQ分享*/
style:'201',
width:32,
height:32
};
var s = [];
for(var i in p){
s.push(i + '=' + encodeURIComponent(p[i]||''));
}
document.write(['<a class="qcShareQQDiv" href="https://connect.qq.com/widget/shareqq/index.html?',s.join('&'),'" target="_blank">分享到QQ</a>'].join(''));
})();
</script>
<script src="https://connect.qq.com/widget/loader/loader.js" widget="shareqq" charset="utf-8"></script></div>
	
				<div id="toc_container" class="toc_light_blue no_bullets"><p class="toc_title">本篇目录</p><ul class="toc_list"><li><a href="#i"><span class="toc_number toc_depth_1">1</span> 概述</a></li><li><a href="#mutt"><span class="toc_number toc_depth_1">2</span> 安装mutt邮件发送服务</a></li><li><a href="#7z"><span class="toc_number toc_depth_1">3</span> 安装7z压缩</a></li><li><a href="#MySQL"><span class="toc_number toc_depth_1">4</span> 导出MySQL数据库测试</a></li><li><a href="#backup2mailsh"><span class="toc_number toc_depth_1">5</span> backup2mail.sh脚本</a><ul><li><a href="#7znbspnbspbackup2mailsh"><span class="toc_number toc_depth_2">5.1</span> 推荐脚本(7z压缩方式&nbsp;)&nbsp;backup2mail.sh</a></li><li><a href="#zip"><span class="toc_number toc_depth_2">5.2</span> 

脚本二(zip压缩方式)</a></li><li><a href="#zipnbsp"><span class="toc_number toc_depth_2">5.3</span> 脚本三(zip压缩方式.不含数据库)&nbsp;</a></li><li><a href="#tar"><span class="toc_number toc_depth_2">5.4</span> 脚本四(tar压缩方式.不含数据库)</a></li></ul></li><li><a href="#i-2"><span class="toc_number toc_depth_1">6</span> 参考文献</a><ul><li><a href="#mysqlnbsp"><span class="toc_number toc_depth_2">6.1</span> mysql备份与还原&nbsp;</a></li><li><a href="#LinuxMuttnbsp"><span class="toc_number toc_depth_2">6.2</span> Linux使用Mutt发送邮件/附件&nbsp;</a></li><li><a href="#VPS_nbsp"><span class="toc_number toc_depth_2">6.3</span> VPS 自动备份脚本&nbsp;</a></li><li><a href="#VPS_nbsp-2"><span class="toc_number toc_depth_2">6.4</span> 用邮箱备份VPS的数据 超简易教程&nbsp;</a></li><li><a href="#SHELL"><span class="toc_number toc_depth_2">6.5</span> [SHELL]备份系统文件并邮件发送</a></li><li><a href="#pythonnbsp"><span class="toc_number toc_depth_2">6.6</span> 用python自动备份网站到你的邮件中&nbsp;</a></li><li><a href="#gt"><span class="toc_number toc_depth_2">6.7</span> 压缩&gt;综合相关</a></li><li><a href="#gt7zip"><span class="toc_number toc_depth_2">6.8</span> 压缩&gt;7zip相关文献</a></li><li><a href="#Shell"><span class="toc_number toc_depth_2">6.9</span> Shell相关文献</a></li></ul></li></ul></div>
<h2><span id="i">概述</span></h2>
<div><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_24bc2a7a-bcf4-4301-9b5c-6ac60d92a95c.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" border="0"></p>
<div>&nbsp;</div>
</div>
<div>本脚本目的是&gt;将vps网站内容(文件夹和数据库)分割成指定附件大小发送邮件到邮箱作为<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">备份</span>。</div>
<div>国内QQ和163邮箱无限容量,相当于永久免费备份.</div>
<div>适用于vps和独立服务器.</div>
<div></div>
<div><b style="font-size: 1rem; line-height: 1.6;">四步流程概览&gt;&gt;&gt;</b></div>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">1&gt;安装配置mutt邮件发送程序</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">2&gt;安装7z压缩程序</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">3&gt;修改backup2mail.sh脚本(收件人,要备份的文件夹,数据库等用户信息)</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">4<span style="font-size: 1rem; line-height: 1.6;">&gt;执行<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">backup2mail.sh</span>脚本</span></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">(tips:末尾文献部分是博主在研究这个脚本时所参考浏览过的文章.)</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
</div>
<div class="wiz-table-container" style="position: relative; padding: 0px;">
<div class="wiz-table-body">
<table style="width: 506px;">
<tbody>
<tr>
<td align="left" valign="middle" style="width: 506px;" class="" rowspan="1" colspan="2"><b>邮箱选择:163.<br />建议用国内邮箱附件主流50M,比国外主流30M附件容量多70%,这样生成的分割邮件会少很多.</b></td>
</tr>
<tr style="height: 67px;">
<td align="left" valign="middle" style="width: 115px;" class="">QQ邮箱<br />50M/附件</td>
<td align="left" valign="middle" style="width: 390px;" class="">优点: 收件比163快,经测试每天都能收到附件，并没有被拒收.<br />缺点: 自定义文件夹必须折叠，每次要点击两次。</td>
</tr>
<tr>
<td align="left" valign="middle" style="width: 115px;" class="">163邮箱&nbsp;<br />50M/附件</td>
<td align="left" valign="middle" style="width: 390px;" class="">优点:自定义文件夹可以置顶，直接点击进入.<br />缺点:45M的压缩包接收比较慢,需要几十分钟，5M附件的邮件倒是能正常快速收到.实际延时测试&gt;大约是22:09收到第一份5M附件邮件，22:16分收到45M附件邮件,相隔7分钟。</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div></div>
<div class="wiz-table-container" style="margin: 0px; color: rgb(0, 0, 0); font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px; padding: 0px; position: relative;">
<div class="wiz-table-body" style="margin:0px;padding:10px 0px;">
<table style="margin:0px;width:757px;">
<tbody>
<tr>
<td rowspan="1" colspan="2" style="padding:4px 8px;width:756px;" class=""><b>数据库是否选择压缩:压缩.(压缩后体积大约是未压缩的20%)</b></td>
</tr>
<tr>
<td style="padding:4px 8px;width:90px;"></td>
<td style="padding:4px 8px;width:666px;">备份命令mysqldump格式:<br />格式：mysqldump -h主机名&nbsp; -P端口 -u用户名 -p密码 –database 数据库名 &gt; 文件名.sql<span class="Apple-converted-space">&nbsp;</span></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:90px;">不压缩<br />1.48M</td>
<td align="left" valign="middle" style="padding:4px 8px;width:666px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">mysqldump -u数据库用户名 -p数据库密码 数据库名 &gt; sqlbakup.sql</span></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:90px;">gz压缩后<br />300.41K</td>
<td align="left" valign="middle" style="padding:4px 8px;width:666px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">mysqldump -u<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">数据库用户名</span> -p<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">数据库密码</span>&nbsp;<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:-webkit-left;text-indent:0px;display:inline !important;">数据库名</span> | gzip &gt; sqlbakup.sql.gz</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div></div>
</div>
<div><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;"></p>
<div class="wiz-table-container" style="position: relative; padding: 0px;">
<div class="wiz-table-body">
<table style="width: 741px;">
<tbody>
<tr>
<td style="width: 740px;" class="" rowspan="1" colspan="3"><b>文件夹压缩格式选择:7zip.<br />linux自带的tar.gz分卷方式在windwos下合并比较麻烦,需要敲命令.因此选用压缩率比较高的7z格式做分卷处理.(zip的压缩率太低,作为邮箱备份目的不在此考虑.)</b></td>
</tr>
<tr>
<td class="" style="width: 104px;">原始文件夹体积</td>
<td style="width: 87px;" class="">201 MB</td>
<td style="width: 551px;" class="">命令简介</td>
</tr>
<tr>
<td class="" style="width: 104px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7za压缩后</span></td>
<td style="width: 87px;" class="">64.43 MB</td>
<td style="width: 551px;" class="">centos安装7z：yum install p7zip </p>
<p>分卷：7za -v45M a /要存在哪个文件夹/文件名 /要压缩的目标文件夹<br /><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">参数 -bt：显示执行时间统计信息<br /></span></p>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">
<div style="margin:0px;">#默认<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">等级</span>压缩:</div>
<div style="margin:0px;"><span style="font-size: 1rem; line-height: 1.6;">7za a /root/mail-test/zip/test2 /www/wwwroot/www.luoji.men&nbsp;</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_a380fc3e-f38b-4898-875e-f790e32dbfc4.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="font-size: 1rem; line-height: 1.6;"></div>
<div style="margin:0px;">[注*:"a"命令是添加已有，不反馈删除，因此需要作为脚本使用是需要先删除已存在压缩包]</div>
<div style="margin:0px;"></div>
<div style="margin:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">#指定<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">等级</span>压缩:</span></div>
<div style="margin:0px;"><span style="font-size: 1rem; line-height: 1.6;">7za -mx=5 a /root/mail-test/zip/test8&nbsp; /www/wwwroot/www.luoji.men</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_a2ac7c47-4bd4-49d5-8035-dd9ad12a0f64.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="font-size: 1rem; line-height: 1.6;" class=""><span style="font-size: 1rem; line-height: 1.6;">-mx=0等于不压缩（参数1-9（看内存，我<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">vultr</span>的vps只能使用最高等级5压缩）</span></div>
<div style="margin:0px;"></p>
<div style="margin:0px;">#分卷压缩，支持直接使用目录</div>
</div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">7za -v45M a /root/mail-test/zip/test5 /www/wwwroot/www.luoji.men</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_507e1f14-1fee-464b-a488-9352e8687729.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;"></div>
</td>
</tr>
<tr>
<td class="" style="width: 104px;">zip压缩后</td>
<td style="width: 87px;" class="">95.24 MB</td>
<td style="width: 551px;" class="">压缩：zip -r /root/mail-test/zip/test.zip /root/mail-test/file/*<br />分卷：zip -s 200k file.zip --out ziptest &nbsp; &nbsp;#分卷成200k一包<br /><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（注*:zip分卷需要先压缩成zip才能分卷）</span></td>
</tr>
<tr>
<td class="" style="width: 104px;">BT宝塔备份<br />tar.gz</td>
<td style="width: 87px;" class="">84.41 MB</td>
<td style="width: 551px;" class=""></td>
</tr>
<tr>
<td align="left" valign="middle" style="width: 104px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -jcvf<br /></span>bz2</td>
<td align="left" valign="middle" style="width: 87px;" class="">79.56 MB</td>
<td align="left" valign="middle" style="width: 551px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -jcvf<span class="Apple-converted-space"> </span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">/root/mail-test/zip/tar-test.tar.bz2</span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;"> </span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;"><span class="Apple-converted-space"><span class="Apple-converted-space"> </span></span>/root/mail-test/file/ <br /></span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_d90350ee-f9e3-4271-b912-a593eb2b8edf.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="width: 104px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -zcvf<span class="Apple-converted-space"> <br /></span></span>tgz</td>
<td align="left" valign="middle" style="width: 87px;" class="">87.50 MB</td>
<td align="left" valign="middle" style="width: 551px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar -zcvf<span class="Apple-converted-space"> </span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">/root/mail-test/zip/tar-test.tgz </span><span class="Apple-converted-space" style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span class="Apple-converted-space"><span class="Apple-converted-space"> </span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">/www/wwwroot/www.luoji.men<br /></span></span></span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_37cc033a-b3c2-46f8-840b-9d20fea2a8ab.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<p></span></div>
<div class="wiz-table-container" style="margin: 0px; padding: 0px; position: relative;">
<div class="wiz-table-body" style="margin:0px;padding:10px 0px;">
<table style="margin:0px;width:585px;">
<tbody>
<tr>
<td rowspan="1" colspan="2" style="padding:4px 8px;width:119px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;display:inline !important;"><b>压缩方式耗时对比:7z虽然压缩率高，但耗时确实很长。不过自用服务器负荷很小，虽然7z耗时长，但是压缩后的体积小，便于邮箱存放，适合作为每日发到邮箱备份。</b></span></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;">测试压缩所用的文件夹体积</td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_6a464497-f1e0-4feb-9b6a-b27a646d38c6.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_80115811-c37c-4099-8b4e-1a4ea46f73a4.png" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7z.zip.tar</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时3分25秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">time backup.sh 同时使用三种压缩方式总耗时3分25秒（不发邮件）</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_c1f5416b-474c-443e-ab0a-a10b3eb15e3a.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7z.zip.tar</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时5分10秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">&nbsp;</span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;">time backup2mail.sh 同时使用三种压缩方式总耗时5分10秒（发邮件）</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_77a89881-1434-4218-9638-7e52d7ed9573.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">7z</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时3分17秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">time backup.sh<span class="Apple-converted-space"><span class="Apple-converted-space">&nbsp;</span></span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;display:inline !important;">仅使用7z压缩方式耗时3分17秒（不发邮件）&nbsp;</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_0c600fb8-ef8e-46be-a062-67ce7f714473.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-indent:0px;text-align:start;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">zip</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时52秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">time backup.sh</span><span class="Apple-converted-space" style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span class="Apple-converted-space">&nbsp;仅使用</span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">zip压缩耗时52秒（不发邮件）</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_0a1151e3-bc63-48ab-83ab-e3bca98e5dc9.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></td>
</tr>
<tr>
<td align="left" valign="middle" style="padding:4px 8px;width:119px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">耗时17秒</span><br style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">（不发邮件）</span></td>
<td align="left" valign="middle" style="padding:4px 8px;width:466px;" class=""><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">time backup.sh</span><span class="Apple-converted-space" style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span class="Apple-converted-space">&nbsp;仅使用</span></span><span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">tar压缩耗时17秒（不发邮件）</span><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_a2a82c7c-2562-45d0-975f-28cb0a24985f.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" style="margin:2px 0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div style="margin:0px;">
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
<hr>
</div>
<h2><span id="mutt">安装mutt邮件发送服务</span></h2>
<div></div>
<div><b>centos使用yum一条命令就安装完成</b></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734300_4327"></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38c1091722234" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
yum install -y mutt</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38c1091722234-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38c1091722234-1">yum install -y mutt</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<div></div>
</div>
<div><b>设置主机名</b></div>
<div>临时# hostname www.luoji.men 否则aliyun邮箱和gmail邮箱拒收(连垃圾邮箱都不给进).</div>
<div> 成功后可修改成永久</div>
<div></div>
<div><b>设置发件人</b></div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">默认设置很可能被作为作为垃圾邮件甚至拒收，</span></div>
<div>编辑 vi /etc/Muttrc</div>
<div>在开头添加发件人信息 ：</div>
<div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734272_1177"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38cb782058505" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
set from="mutt@www.luoji.men"
set use_from=yes
set envelope_from="yes"
set realname="mutt"
</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38cb782058505-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38cb782058505-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38cb782058505-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38cb782058505-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38cb782058505-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38cb782058505-1">set from="mutt@www.luoji.men"</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38cb782058505-2">set use_from=yes</div><div class="crayon-line" id="crayon-6224c11cb38cb782058505-3">set envelope_from="yes"</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38cb782058505-4">set realname="mutt"</div><div class="crayon-line" id="crayon-6224c11cb38cb782058505-5">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<div>编辑 vi /etc/Muttrc.local</div>
<div><b>添加set copy = no参数</b>,意思是取消附件的拷贝</div>
<div class="wiz-code-container" data-mode="HTML" data-theme="default" id="wiz_cm_1512649734236_711"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38cd988667957" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Local configuration for Mutt.
set copy = no

set copy=no #不生成sent文件 sent为附件的拷贝累加 这个文件体积会变得很大 使用一个月已经6g大小</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38cd988667957-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38cd988667957-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38cd988667957-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38cd988667957-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38cd988667957-1"># Local configuration for Mutt.</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38cd988667957-2">set copy = no</div><div class="crayon-line" id="crayon-6224c11cb38cd988667957-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38cd988667957-4">set copy=no #不生成sent文件 sent为附件的拷贝累加 这个文件体积会变得很大 使用一个月已经6g大小</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;"><b>测试mutt发送邮件</b>查看对方服务器是否能收到：</span></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">格式是：文本、标题、邮箱</div>
</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734214_5361"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38d0130552303" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH ~]# echo "Text" | mutt -s "virmach" "xxxx@163.com" 
[root@VIRMACH ~]# </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38d0130552303-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38d0130552303-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38d0130552303-1">[root@VIRMACH ~]# echo "Text" | mutt -s "virmach" "xxxx@163.com" </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38d0130552303-2">[root@VIRMACH ~]# </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_8de41a3d-721a-4bde-90c5-051457d65af2.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份"><span style="font-size:1rem;">&nbsp;</span><span style="font-size:1rem;">&nbsp;</span></div>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;"></p>
<div></div>
<p></span></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;"><b>接着测试mutt发送附件</b>：</p>
<div style="font-weight:normal;">&nbsp;<span style="font-size:1rem;">格式是：文本、标题、邮箱、附件（-a 附件必须放在最后面，否则报错）</span></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734173_8313"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38d2818124510" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
正确语法 echo "Test" | mutt -s "mysql backup" xxxx@qq.com -a /fujian.txt
错误语法 echo "Test" | mutt -s "mysql backup" -a /fujian.txt xxxx@qq.com</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38d2818124510-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38d2818124510-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38d2818124510-1">正确语法 echo "Test" | mutt -s "mysql backup" xxxx@qq.com -a /fujian.txt</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38d2818124510-2">错误语法 echo "Test" | mutt -s "mysql backup" -a /fujian.txt xxxx@qq.com</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="font-weight:normal;"><span style="font-size:1rem;">新建一个 vi fujian.txt 文档</span></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734147_2553"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38d4433496190" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH ~]# ls
fujian.txt</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38d4433496190-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38d4433496190-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38d4433496190-1">[root@VIRMACH ~]# ls</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38d4433496190-2">fujian.txt</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="font-weight:normal;">查询当前路径:</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734114_9781"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38d5225647034" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH ~]# pwd
/root</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38d5225647034-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38d5225647034-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38d5225647034-1">[root@VIRMACH ~]# pwd</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38d5225647034-2">/root</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<p></span></div>
<div style="margin:0px;"></div>
<div style="margin:0px;">
<div>发送附件</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734092_5165"></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38d7934202481" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
echo "Text" | mutt -s "Title" "xxxxx@163.com" -a "/root/fujian.txt"</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38d7934202481-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38d7934202481-1">echo "Text" | mutt -s "Title" "xxxxx@163.com" -a "/root/fujian.txt"</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
<p></p>
<div></div>
</div>
</div>
<p>大约1分钟后,邮箱应当收到这封带有附件的邮件&gt;</p></div>
<div><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_204cd097-3be1-4a26-9875-f12be89ae74e.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份"></p>
<div>&nbsp;<img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_99ac2100-d6f2-4630-b035-6e11513c7c49.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" class=""></p>
<div>&nbsp;</div>
<hr>
</div>
<h2><span id="7z">安装7z压缩</span></h2>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734071_7114"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38d9812877639" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
centos安装7z：yum install p7zip </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38d9812877639-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38d9812877639-1">centos安装7z：yum install p7zip </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><b>测试7z分卷:</b></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">新建两个测试目录并在其中放进一个10M左右的文件</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734045_3400"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38da741443291" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH temp]# mkdir output7z
[root@VIRMACH temp]# mkdir source &amp;&amp; cd source
[root@VIRMACH source]# wget https://wordpress.org/latest.tar.gz</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38da741443291-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38da741443291-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38da741443291-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38da741443291-1">[root@VIRMACH temp]# mkdir output7z</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38da741443291-2">[root@VIRMACH temp]# mkdir source && cd source</div><div class="crayon-line" id="crayon-6224c11cb38da741443291-3">[root@VIRMACH source]# wget https://wordpress.org/latest.tar.gz</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><span style="font-size:1rem;">查看文件体积</span></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649734020_7052"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38dc005188476" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH source]# ls -lh
total 9.2M
-rw-r--r-- 1 root root 9.2M Nov 30 03:07 latest.tar.gz</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38dc005188476-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38dc005188476-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38dc005188476-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38dc005188476-1">[root@VIRMACH source]# ls -lh</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38dc005188476-2">total 9.2M</div><div class="crayon-line" id="crayon-6224c11cb38dc005188476-3">-rw-r--r-- 1 root root 9.2M Nov 30 03:07 latest.tar.gz</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">查看当前完整路径</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733991_1"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38dd552035815" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH source]# pwd      
/root/temp/source</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38dd552035815-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38dd552035815-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38dd552035815-1">[root@VIRMACH source]# pwd      </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38dd552035815-2">/root/temp/source</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">分卷压缩命令</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">格式:7za -v分卷大小 a /压缩包存放文件夹/压缩包名 /需要分卷压缩的文件夹</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">分卷成2M大小测试</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733971_9504"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38df642384465" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
7za -v2M a /root/temp/output7z/source2p7z /root/temp/source/</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38df642384465-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38df642384465-1">7za -v2M a /root/temp/output7z/source2p7z /root/temp/source/</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">进入/root/temp/output7z/查看是否正确生成分卷压缩包,如下<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">分割</span>分卷无误&gt;</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733941_8637"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38e1994085885" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH output7z]#cd /root/temp/output7z/
[root@VIRMACH output7z]# ls -lh
total 9.1M
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.001
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.002
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.003
-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.004
-rw-r--r-- 1 root root 1.1M Dec  7 15:44 source2p7z.7z.005</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38e1994085885-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e1994085885-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38e1994085885-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e1994085885-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38e1994085885-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e1994085885-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38e1994085885-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e1994085885-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38e1994085885-1">[root@VIRMACH output7z]#cd /root/temp/output7z/</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e1994085885-2">[root@VIRMACH output7z]# ls -lh</div><div class="crayon-line" id="crayon-6224c11cb38e1994085885-3">total 9.1M</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e1994085885-4">-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.001</div><div class="crayon-line" id="crayon-6224c11cb38e1994085885-5">-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.002</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e1994085885-6">-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.003</div><div class="crayon-line" id="crayon-6224c11cb38e1994085885-7">-rw-r--r-- 1 root root 2.0M Dec  7 15:44 source2p7z.7z.004</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e1994085885-8">-rw-r--r-- 1 root root 1.1M Dec  7 15:44 source2p7z.7z.005</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">
<hr>
</div>
<h2><span id="MySQL"><span>导出</span>MySQL数据库测试</span></h2>
<div>mysqldump -u用户名 -p用户密码 数据库名称 &gt; 保存为文件.sql</div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512649733894_9039"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38e2023219195" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@VIRMACH source]# mysqldump -uuser -ppasswd database &gt; backup.sql
[root@VIRMACH source]# ls -lh
-rw-r--r-- 1 root root 882K Dec  7 18:17 bakcup.sql
[root@VIRMACH source]# </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38e2023219195-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e2023219195-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38e2023219195-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e2023219195-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38e2023219195-1">[root@VIRMACH source]# mysqldump -uuser -ppasswd database > backup.sql</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e2023219195-2">[root@VIRMACH source]# ls -lh</div><div class="crayon-line" id="crayon-6224c11cb38e2023219195-3">-rw-r--r-- 1 root root 882K Dec  7 18:17 bakcup.sql</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e2023219195-4">[root@VIRMACH source]# </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">mutt和7z还有数据库导出测试无误后.即可使用backup2mail脚本</div>
</div>
<div style="margin:0px;">
<hr>
</div>
<div style="margin:0px;"></div>
<div></div>
<div>
<h2><span id="backup2mailsh">backup2mail.sh脚本</span></h2>
<div><span style="font-size: 1.5rem; color: inherit; line-height: 1.6;"><span data-wiz-span="data-wiz-span" style="font-size: 1rem;"><b>本sh脚本特点:</b></span></span></div>
</div>
<div>1、支持分卷压缩，将目标数据分割成指定的<span style="color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;display:inline !important;">附件</span>体积发送到邮箱作为存档备份。</div>
<div>2、可选7z、zip、tar三种压缩方式,默认使用7z.</div>
<div>3、支持文件夹、数据库的备份</div>
<h3><span id="7znbspnbspbackup2mailsh">推荐脚本(<span>7z压缩方式&nbsp;</span>)&nbsp;<span style="font-size: 1.25rem; color: inherit; line-height: 1.6;">backup2mail.sh</span></span></h3>
<div>
<div class="wiz-code-container" id="wiz_cm_1505672913135_4800" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38e4535816577" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash

declare -a file         #此条重要勿改.声明file为数组变量
######## 必须修改的变量 ########
mail="xxxxxx@qq.com"        ###自定义.要发往的邮箱
svr_name="[www.luoji.men]"          ###自定义.生成备份文件和邮件的名称
##附件生成目录
dir_back=/home/root/backup2mail/   ###压缩包将保存的位置.一般使用/home/用户名/backup2mail/,或者/root/backup2mail/
##网站目录:
file[0]=/www/wwwroot/wordpress/  ###自定义.需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加
#file[1]=/www/wwwroot/rutorrent/  ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写
##网站数据库mysql:
sql_user=用户名         ###自定义.你的mysql用户名 推荐使用root用户，以免出现权限问题
sql_pass=数据库密码        ###自定义.上面用户对应的密码
declare -a data         #声明data为数组变量
data[0]=数据库名称           ###自定义.这里填写要备份的数据库名 依旧一行一个 不够了自己加
#data[1]=mysql_db_2             ###可以添加多个数据库名 格式为 file[N]=路径 其中N请按顺序填写

######## 可不修改的变量 ########
str_time=$(date +"%Y-%m-%d")                                    #日期变量
title="Backup $svr_name $str_time"                              #邮件标题
text="$svr_name Backup File $str_time"                          #邮件内容文本

######## 目录初始化 ########
if [ -d $dir_back ]; then
    rm -rf $dir_back            #如果压缩包保存目录已经存在 则删除目录
fi
mkdir -p $dir_back              #创建压缩包将保存的目录
list=${dir_back}file.lst        #文件列表

######## crontab ####备份的项.导出cromtab计划任务并添加到list列表#### 
tsk_list=${dir_back}crontab-$str_time
crontab -l &gt;&gt; $tsk_list
echo $tsk_list &gt;&gt; $list

######## mysql ####备份的项.导出数据库并将文件路径添加到list列表#### 
for var in ${data[@]}; do
    sql_file=${dir_back}db-$var-$str_time.sql
    mysqldump -u$sql_user -p$sql_pass $var &gt; $sql_file
    echo $sql_file &gt;&gt; $list
done

######## files ####备份的项.文件目录路径添加到list列表#### 
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

######## 压缩与分卷 含7z和zip和tar压缩方式 将不用的压缩方式注释 ########
####推荐.使用7z压缩可直接对目标进行分卷
z7z_split=${dir_back}$svr_name-backup-$str_time.split-7z         #变量必须英文开头 因此7z改成z7z
7za -v45m a $z7z_split `cat $list`

####使用zip压缩
#zip_file=${dir_back}$svr_name-backup-$str_time.zip              #zip必须先压缩才能分卷
#zip_split=${dir_back}$svr_name-backup-$str_time.split-zip.zip    #分卷后的压缩包文件名
#zip -r $zip_file `cat $list`                    #压缩目标位置 支持列表方式
#zip -s 45m /$zip_file --out $zip_split         #分卷存在的zip压缩包

####使用tar压缩
#tar_file=${dir_back}$svr_name-backup-$str_time.tar              #tar压缩包名称
#tar_split=${dir_back}$svr_name-backup-$str_time.split-tar.      #tar分卷名称
#tar zcPf $tar_file.gz `cat $list`                               #压缩目标位置 支持列表方式
#split -b 45m -a 3 -d $tar_file.gz $tar_split                    #分卷存在的tar压缩包

####### 发送邮件 ########
for var in ${dir_back}*split*; do           #匹配含有split字符的文件
    echo $var

    arr=(${dir_back}*split*)        #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]标识当前邮件是总分卷邮件中的第几个
    num=${#arr[@]}                      #获取数组的总个数
    echo ${#arr[@]}

    let ++i     #i的值递增1
    echo $i

    echo "$text[$i/${#arr[@]}]"

echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var         #通过mutt发送附件 每个附件发送一封

    sleep 10s            #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险
done</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-24">24</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-26">26</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-28">28</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-30">30</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-32">32</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-34">34</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-36">36</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-38">38</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-40">40</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-42">42</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-44">44</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-46">46</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-48">48</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-50">50</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-52">52</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-54">54</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-56">56</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-58">58</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-60">60</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-62">62</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-64">64</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-66">66</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-68">68</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-70">70</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-72">72</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-74">74</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-76">76</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-78">78</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e4535816577-80">80</div><div class="crayon-num" data-line="crayon-6224c11cb38e4535816577-81">81</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38e4535816577-1">#!/bin/bash</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-2">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-3">declare -a file         #此条重要勿改.声明file为数组变量</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-4">######## 必须修改的变量 ########</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-5">mail="xxxxxx@qq.com"        ###自定义.要发往的邮箱</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-6">svr_name="[www.luoji.men]"          ###自定义.生成备份文件和邮件的名称</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-7">##附件生成目录</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-8">dir_back=/home/root/backup2mail/   ###压缩包将保存的位置.一般使用/home/用户名/backup2mail/,或者/root/backup2mail/</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-9">##网站目录:</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-10">file[0]=/www/wwwroot/wordpress/  ###自定义.需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-11">#file[1]=/www/wwwroot/rutorrent/  ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-12">##网站数据库mysql:</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-13">sql_user=用户名         ###自定义.你的mysql用户名 推荐使用root用户，以免出现权限问题</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-14">sql_pass=数据库密码        ###自定义.上面用户对应的密码</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-15">declare -a data         #声明data为数组变量</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-16">data[0]=数据库名称           ###自定义.这里填写要备份的数据库名 依旧一行一个 不够了自己加</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-17">#data[1]=mysql_db_2             ###可以添加多个数据库名 格式为 file[N]=路径 其中N请按顺序填写</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-18">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-19">######## 可不修改的变量 ########</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-20">str_time=$(date +"%Y-%m-%d")                                    #日期变量</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-21">title="Backup $svr_name $str_time"                              #邮件标题</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-22">text="$svr_name Backup File $str_time"                          #邮件内容文本</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-24">######## 目录初始化 ########</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-25">if [ -d $dir_back ]; then</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-26">    rm -rf $dir_back            #如果压缩包保存目录已经存在 则删除目录</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-27">fi</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-28">mkdir -p $dir_back              #创建压缩包将保存的目录</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-29">list=${dir_back}file.lst        #文件列表</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-30">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-31">######## crontab ####备份的项.导出cromtab计划任务并添加到list列表#### </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-32">tsk_list=${dir_back}crontab-$str_time</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-33">crontab -l >> $tsk_list</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-34">echo $tsk_list >> $list</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-36">######## mysql ####备份的项.导出数据库并将文件路径添加到list列表#### </div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-37">for var in ${data[@]}; do</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-38">    sql_file=${dir_back}db-$var-$str_time.sql</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-39">    mysqldump -u$sql_user -p$sql_pass $var > $sql_file</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-40">    echo $sql_file >> $list</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-41">done</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-42">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-43">######## files ####备份的项.文件目录路径添加到list列表#### </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-44">for var in ${file[@]}; do</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-45">    echo $var >> $list</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-46">done</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-48">######## 压缩与分卷 含7z和zip和tar压缩方式 将不用的压缩方式注释 ########</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-49">####推荐.使用7z压缩可直接对目标进行分卷</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-50">z7z_split=${dir_back}$svr_name-backup-$str_time.split-7z         #变量必须英文开头 因此7z改成z7z</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-51">7za -v45m a $z7z_split `cat $list`</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-52">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-53">####使用zip压缩</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-54">#zip_file=${dir_back}$svr_name-backup-$str_time.zip              #zip必须先压缩才能分卷</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-55">#zip_split=${dir_back}$svr_name-backup-$str_time.split-zip.zip    #分卷后的压缩包文件名</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-56">#zip -r $zip_file `cat $list`                    #压缩目标位置 支持列表方式</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-57">#zip -s 45m /$zip_file --out $zip_split         #分卷存在的zip压缩包</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-58">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-59">####使用tar压缩</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-60">#tar_file=${dir_back}$svr_name-backup-$str_time.tar              #tar压缩包名称</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-61">#tar_split=${dir_back}$svr_name-backup-$str_time.split-tar.      #tar分卷名称</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-62">#tar zcPf $tar_file.gz `cat $list`                               #压缩目标位置 支持列表方式</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-63">#split -b 45m -a 3 -d $tar_file.gz $tar_split                    #分卷存在的tar压缩包</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-64">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-65">####### 发送邮件 ########</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-66">for var in ${dir_back}*split*; do           #匹配含有split字符的文件</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-67">    echo $var</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-68">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-69">    arr=(${dir_back}*split*)        #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]标识当前邮件是总分卷邮件中的第几个</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-70">    num=${#arr[@]}                      #获取数组的总个数</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-71">    echo ${#arr[@]}</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-72">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-73">    let ++i     #i的值递增1</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-74">    echo $i</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-76">    echo "$text[$i/${#arr[@]}]"</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-77">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-78">echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var         #通过mutt发送附件 每个附件发送一封</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e4535816577-80">    sleep 10s            #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险</div><div class="crayon-line" id="crayon-6224c11cb38e4535816577-81">done</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<h2></h2>
<div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><b>脚本使用测试:</b></div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;">测试100M的网站文件夹,被压缩成36M附件的邮件发送完毕大约2分钟后qq邮箱可以查到这封新邮件&gt;</div>
<div style="margin:0px;color:rgb(0, 0, 0);font-family:Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;font-size:1rem;font-style:normal;text-align:start;text-indent:0px;"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_de4af56d-458a-49f5-8bc8-b4d661149f6e.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份"></p>
<div>&nbsp;<img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_6cba7087-7e73-4f3e-9462-b510755b072e.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份"><span style="font-weight:normal;font-size:1rem;">&nbsp;</span></p>
<div><b><br /></b></div>
<div><b>文件夹压缩率对比&gt;</b>&nbsp;</div>
</div>
</div>
<p>文件夹体积 107M.</p></div>
<div>7z压缩 36.9M.</div>
<div>宝塔tar.gz压缩 50.44M.</div>
<div>两个压缩包下载后解压对比无异:</div>
<p><img src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_625ad534-94fb-415a-b306-dd3dd1da966d.jpg" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份"><span></span></p>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;"><br /></b></div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">数据库压缩率对比&gt;</b></div>
<div class="wiz-code-container" id="wiz_cm_1512652306609_1065" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38e7951477357" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
1.7M db-www_luoji_men-2017-12-07.sql
233K database7z.7z
331K  sqlbakup.sql.gz</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38e7951477357-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e7951477357-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38e7951477357-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38e7951477357-1">1.7M db-www_luoji_men-2017-12-07.sql</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e7951477357-2">233K database7z.7z</div><div class="crayon-line" id="crayon-6224c11cb38e7951477357-3">331K  sqlbakup.sql.gz</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div>不压缩导出数据库1.7M</div>
<div>7z压缩以上文件后:233K</div>
<div>使用gz压缩方式导出数据库331K</div>
<div>结论:还是7z优秀.</div>
<div></div>
<div></div>
<h3><span id="zip">
<hr>
<p>脚本二(zip压缩方式)</span></h3>
<div><span>分卷</span>压缩、通过mutt发送邮件</div>
<div>文件+数据库+计划任务版本</div>
<div>脚本维护时间&gt;2017年9月17日20:00</div>
<div class="wiz-code-container" id="wiz_cm_1505649606548_9097" data-mode="Shell" data-theme="default"></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38e9525744080" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash
######## 需要自定义修改的变量 ########
svr_name="[luoji.men]"          ###修改备份的名称
dir_back=/root/mail-test/backup/   ###修改压缩包保存位置
mail="xxxxx@qq.com"        ###修改要发往的邮箱

declare -a file                 #声明file为数组变量
file[0]=/root/mail-test/file/   ###修改需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加
file[1]=/root/mail-test/file2/  ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写

sql_user=数据库用户名          ###修改你的mysql用户名 推荐使用root用户，以免出现权限问题
sql_pass=数据库密码        ###修改上面的用户对应的密码
declare -a data                 #声明data为数组变量
data[0]=数据库名           ###修改这里填写要备份的数据库名 依旧一行一个 不够了自己加
#data[1]=mysql_db_2             ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写

######## 不需要修改的变量 ########
str_time=$(date +"%Y-%m-%d")                                    #日期变量
zip_file=${dir_back}$svr_name-backup-$str_time.zip              #压缩包文件名
zip_split=${dir_back}$svr_name-backup-$str_time.zipsplit.zip    #分卷后的压缩包文件名
title="Backup File $str_time $svr_name"                         #邮件标题
text="$svr_name Backup File $str_time"                          #邮件内容文本

######## 目录初始化 ########
if [ -d $dir_back ]; then
    rm -rf $dir_back            #如果压缩包保存目录已经存在 则删除目录
fi
mkdir -p $dir_back              #创建压缩包保存目录
list=${dir_back}file.lst        #文件列表

######## crontab ####计划任务备份#### 
tsk_list=${dir_back}crontab-$str_time
crontab -l &gt;&gt; $tsk_list
echo $tsk_list &gt;&gt; $list

######## mysql ####数据库备份#### 
for var in ${data[@]}; do
    sql_file=${dir_back}db-$var-$str_time.sql
    mysqldump -u$sql_user -p$sql_pass $var &gt; $sql_file
    echo $sql_file &gt;&gt; $list
done

######## files ####文件备份#### 
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

######## 压缩与分卷 ########
zip -r $zip_file `cat $list`                    #压缩目标位置 支持列表方式
zip -s 300k /$zip_file --out $zip_split         #分卷存在的压缩包

####### 发送邮件 ########
for var in ${dir_back}*zipsplit.*; do           #匹配含有zipsplit字符的文件
    echo $var

    arr=(${dir_back}*zipsplit.*)        #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个
    num=${#arr[@]}                      #获取数组的总个数
    echo ${#arr[@]}

    let ++i     #i的值递增1
    echo $i

    echo "$text[$i/${#arr[@]}]"

echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var         #通过mutt发送附件 每个附件发送一封

    sleep 3s            #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险
done</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-24">24</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-26">26</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-28">28</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-30">30</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-32">32</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-34">34</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-36">36</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-38">38</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-40">40</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-42">42</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-44">44</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-46">46</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-48">48</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-50">50</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-52">52</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-54">54</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-56">56</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-58">58</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-60">60</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-62">62</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-64">64</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-66">66</div><div class="crayon-num" data-line="crayon-6224c11cb38e9525744080-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38e9525744080-68">68</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38e9525744080-1">#!/bin/bash</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-2">######## 需要自定义修改的变量 ########</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-3">svr_name="[luoji.men]"          ###修改备份的名称</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-4">dir_back=/root/mail-test/backup/   ###修改压缩包保存位置</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-5">mail="xxxxx@qq.com"        ###修改要发往的邮箱</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-6">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-7">declare -a file                 #声明file为数组变量</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-8">file[0]=/root/mail-test/file/   ###修改需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-9">file[1]=/root/mail-test/file2/  ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-10">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-11">sql_user=数据库用户名          ###修改你的mysql用户名 推荐使用root用户，以免出现权限问题</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-12">sql_pass=数据库密码        ###修改上面的用户对应的密码</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-13">declare -a data                 #声明data为数组变量</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-14">data[0]=数据库名           ###修改这里填写要备份的数据库名 依旧一行一个 不够了自己加</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-15">#data[1]=mysql_db_2             ###可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-16">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-17">######## 不需要修改的变量 ########</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-18">str_time=$(date +"%Y-%m-%d")                                    #日期变量</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-19">zip_file=${dir_back}$svr_name-backup-$str_time.zip              #压缩包文件名</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-20">zip_split=${dir_back}$svr_name-backup-$str_time.zipsplit.zip    #分卷后的压缩包文件名</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-21">title="Backup File $str_time $svr_name"                         #邮件标题</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-22">text="$svr_name Backup File $str_time"                          #邮件内容文本</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-24">######## 目录初始化 ########</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-25">if [ -d $dir_back ]; then</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-26">    rm -rf $dir_back            #如果压缩包保存目录已经存在 则删除目录</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-27">fi</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-28">mkdir -p $dir_back              #创建压缩包保存目录</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-29">list=${dir_back}file.lst        #文件列表</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-30">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-31">######## crontab ####计划任务备份#### </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-32">tsk_list=${dir_back}crontab-$str_time</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-33">crontab -l >> $tsk_list</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-34">echo $tsk_list >> $list</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-36">######## mysql ####数据库备份#### </div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-37">for var in ${data[@]}; do</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-38">    sql_file=${dir_back}db-$var-$str_time.sql</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-39">    mysqldump -u$sql_user -p$sql_pass $var > $sql_file</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-40">    echo $sql_file >> $list</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-41">done</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-42">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-43">######## files ####文件备份#### </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-44">for var in ${file[@]}; do</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-45">    echo $var >> $list</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-46">done</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-48">######## 压缩与分卷 ########</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-49">zip -r $zip_file `cat $list`                    #压缩目标位置 支持列表方式</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-50">zip -s 300k /$zip_file --out $zip_split         #分卷存在的压缩包</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-52">####### 发送邮件 ########</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-53">for var in ${dir_back}*zipsplit.*; do           #匹配含有zipsplit字符的文件</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-54">    echo $var</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-56">    arr=(${dir_back}*zipsplit.*)        #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-57">    num=${#arr[@]}                      #获取数组的总个数</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-58">    echo ${#arr[@]}</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-60">    let ++i     #i的值递增1</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-61">    echo $i</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-62">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-63">    echo "$text[$i/${#arr[@]}]"</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-64">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-65">echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var         #通过mutt发送附件 每个附件发送一封</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-66">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38e9525744080-67">    sleep 3s            #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38e9525744080-68">done</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<div></div>
</div>
<div><span style="text-align: start; text-indent: 0px; display: inline !important;"><br /></span></div>
<h3><span id="zipnbsp">脚本三(zip压缩方式.不含数据库)&nbsp;</span></h3>
<div>脚本维护时间&gt;2017年9月16日21:55:43</div>
<div class="wiz-code-container" id="wiz_cm_1505570149225_4129" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38eb597004527" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[root@vultr mail-test]# cat zipmail.sh
#!/bin/bash
# This script run at 02:00 every Tuesday

svr_name="[luoji.men]" #备份的名称
dir_back=/root/mail-test/zip/ #压缩包保存位置
mail="xxxxx@qq.com" #要发往的邮箱

declare -a file #声明file为数组变量
file[0]=/root/mail-test/file/ #需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加
file[1]=/root/mail-test/file2/ #可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写

###########################

str_time=$(date +"%Y-%m-%d") #日期变量
zip_file=${dir_back}$svr_name-backup-$str_time.zip #压缩包文件名
zip_split=${dir_back}$svr_name-backup-$str_time.zipsplit.zip #分卷后的压缩包文件名
title="Backup File $str_time $svr_name" #邮件标题
text="$svr_name Backup File $str_time" #邮件内容文本

####################################

if [ -d $dir_back ]; then
    rm -rf $dir_back #如果压缩包保存目录已经存在 则删除目录
fi

mkdir -p $dir_back #创建压缩包保存目录

list=${dir_back}file.lst #文件列表

# files
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

zip -r $zip_file `cat $list`  #压缩目标位置 支持列表方式
zip -s 100k /$zip_file --out $zip_split #分卷压缩包

#######
for var in ${dir_back}*zipsplit.*; do #匹配含有zipsplit字符的文件
    echo $var

    arr=(${dir_back}*zipsplit.*) #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个
    num=${#arr[@]} #获取数组的总个数
    echo ${#arr[@]}

    let ++i #i的值递增1
    echo $i

    echo "$text[$i/${#arr[@]}]"

echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var #通过mutt发送附件 每个附件发送一封

    sleep 3s #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险
done</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-24">24</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-26">26</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-28">28</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-30">30</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-32">32</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-34">34</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-36">36</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-38">38</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-40">40</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-42">42</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-44">44</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-46">46</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-48">48</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-50">50</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-52">52</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38eb597004527-54">54</div><div class="crayon-num" data-line="crayon-6224c11cb38eb597004527-55">55</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38eb597004527-1">[root@vultr mail-test]# cat zipmail.sh</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-2">#!/bin/bash</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-3"># This script run at 02:00 every Tuesday</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-4">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-5">svr_name="[luoji.men]" #备份的名称</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-6">dir_back=/root/mail-test/zip/ #压缩包保存位置</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-7">mail="xxxxx@qq.com" #要发往的邮箱</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-8">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-9">declare -a file #声明file为数组变量</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-10">file[0]=/root/mail-test/file/ #需要压缩的目标文件夹 每行可设置一个文件或文件夹 如果数量不够可以自己加</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-11">file[1]=/root/mail-test/file2/ #可以添加多个文件夹 格式为 file[N]=路径 其中N请按顺序填写</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-12">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-13">###########################</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-14">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-15">str_time=$(date +"%Y-%m-%d") #日期变量</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-16">zip_file=${dir_back}$svr_name-backup-$str_time.zip #压缩包文件名</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-17">zip_split=${dir_back}$svr_name-backup-$str_time.zipsplit.zip #分卷后的压缩包文件名</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-18">title="Backup File $str_time $svr_name" #邮件标题</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-19">text="$svr_name Backup File $str_time" #邮件内容文本</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-20">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-21">####################################</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-22">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-23">if [ -d $dir_back ]; then</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-24">    rm -rf $dir_back #如果压缩包保存目录已经存在 则删除目录</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-25">fi</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-26">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-27">mkdir -p $dir_back #创建压缩包保存目录</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-28">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-29">list=${dir_back}file.lst #文件列表</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-30">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-31"># files</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-32">for var in ${file[@]}; do</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-33">    echo $var >> $list</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-34">done</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-36">zip -r $zip_file `cat $list`  #压缩目标位置 支持列表方式</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-37">zip -s 100k /$zip_file --out $zip_split #分卷压缩包</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-38">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-39">#######</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-40">for var in ${dir_back}*zipsplit.*; do #匹配含有zipsplit字符的文件</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-41">    echo $var</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-42">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-43">    arr=(${dir_back}*zipsplit.*) #将附件文件名转换成数组 目的是为了获取附件总量 达到在邮件标题显示[1/3][2/3][3/3]是总分卷附件中的第几个</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-44">    num=${#arr[@]} #获取数组的总个数</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-45">    echo ${#arr[@]}</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-46">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-47">    let ++i #i的值递增1</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-48">    echo $i</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-50">    echo "$text[$i/${#arr[@]}]"</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-52">echo "$text[$i/$num]" | mutt -s "$title[$i/$num]" $mail -a $var #通过mutt发送附件 每个附件发送一封</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38eb597004527-54">    sleep 3s #循环等待时间 邮件发送太快可能不好 被对方服务器拒收 但我并没有观察到这个显现 只是为了保险</div><div class="crayon-line" id="crayon-6224c11cb38eb597004527-55">done</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div></div>
<div>
<h3><span id="tar">脚本四(tar压缩方式.不含数据库)</span></h3>
<div>/bin/bash /your-script-path/backup.sh</div>
<div></div>
<div class="wiz-code-container" data-mode="Shell" data-theme="default" id="wiz_cm_1512589254057_5683"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38ed077172126" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/bin/bash

str_time=$(date +"%Y-%m-%d")
dir_back=/home/backup/
tar_file=${dir_back}backup-$str_time.tar

mail="xxxx@qq.com" #在这里设定收件人地址
title="Backup File $str_time luoji.men"
text="luoji.men Backup File $str_time" #这里可以设置邮件的标题 最后的$str_time不要动

declare -a file
file[0]=/www/backup/luoji_men #在这里设置需要备份的内容  每行可设置一个文件或文件夹 如果数量不够可以自己加
#file[1]=/other-file          #格式为   file[N]=路径    其中 N请按顺序填写
####################################

if [ -d $dir_back ]; then
    rm -rf $dir_back
fi

mkdir -p $dir_back

list=${dir_back}file.lst

# files
for var in ${file[@]}; do
    echo $var &gt;&gt; $list
done

tar zcPf $tar_file.gz `cat $list`

split -b 20m -a 3 -d $tar_file.gz ${dir_back}backup-$str_time.part.
#cat ${dir_back}backup-* &gt; ${dir_back}backup.tar.gz

for var in ${dir_back}*.part.*; do
    echo "$text" | mutt -s "$title" $mail -a $var #var为附件
    sleep 30s
done</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-24">24</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-26">26</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-28">28</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-30">30</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-32">32</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-34">34</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ed077172126-36">36</div><div class="crayon-num" data-line="crayon-6224c11cb38ed077172126-37">37</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38ed077172126-1">#!/bin/bash</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-2">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-3">str_time=$(date +"%Y-%m-%d")</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-4">dir_back=/home/backup/</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-5">tar_file=${dir_back}backup-$str_time.tar</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-6">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-7">mail="xxxx@qq.com" #在这里设定收件人地址</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-8">title="Backup File $str_time luoji.men"</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-9">text="luoji.men Backup File $str_time" #这里可以设置邮件的标题 最后的$str_time不要动</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-10">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-11">declare -a file</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-12">file[0]=/www/backup/luoji_men #在这里设置需要备份的内容  每行可设置一个文件或文件夹 如果数量不够可以自己加</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-13">#file[1]=/other-file          #格式为   file[N]=路径    其中 N请按顺序填写</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-14">####################################</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-16">if [ -d $dir_back ]; then</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-17">    rm -rf $dir_back</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-18">fi</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-20">mkdir -p $dir_back</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-22">list=${dir_back}file.lst</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-24"># files</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-25">for var in ${file[@]}; do</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-26">    echo $var >> $list</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-27">done</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-28">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-29">tar zcPf $tar_file.gz `cat $list`</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-30">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-31">split -b 20m -a 3 -d $tar_file.gz ${dir_back}backup-$str_time.part.</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-32">#cat ${dir_back}backup-* > ${dir_back}backup.tar.gz</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-34">for var in ${dir_back}*.part.*; do</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-35">    echo "$text" | mutt -s "$title" $mail -a $var #var为附件</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ed077172126-36">    sleep 30s</div><div class="crayon-line" id="crayon-6224c11cb38ed077172126-37">done</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div></div>
<p></div>
<div></div>
<div>
<hr>
</div>
<h2></h2>
<div>
<div style="margin: 0px; color: rgb(0, 0, 0); font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; text-align: start; text-indent: 0px;"></div>
</div>
<h2><span id="i-2">参考文献</span></h2>
<h3><span id="mysqlnbsp">mysql备份与还原&nbsp;</span></h3>
<div>http://www.cnblogs.com/Cherie/p/3309456.html</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505644523183_6193" data-mode="Shell" data-theme="default"></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38ef954699703" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
一、备份常用操作基本命令
1、备份命令mysqldump格式
    格式：mysqldump -h主机名  -P端口 -u用户名 -p密码 –database 数据库名 &gt; 文件名.sql 
2、备份MySQL数据库为带删除表的格式
    备份MySQL数据库为带删除表的格式，能够让该备份覆盖已有数据库而不需要手动删除原有数据库。
    mysqldump  --add-drop-table -uusername -ppassword -database databasename &gt; backupfile.sql
3、直接将MySQL数据库压缩备份
    mysqldump -hhostname -uusername -ppassword -database databasename | gzip &gt; backupfile.sql.gz

二、增量备份
小量的数据库可以每天进行完整备份，因为这也用不了多少时间，但当数据库很大时，就不太可能每天进行一次完整备份了，这时候就可以使用增量备份。增量备份的原理就是使用了mysql的binlog志。
1、首先做一次完整备份：
    mysqldump -h10.6.208.183 -utest2 -p123  -P3310 --single-transaction  --master-data=2  test&gt;test.sql这时候就会得到一个全备文件test.sql
在sql文件中我们会看到：
    -- CHANGE MASTER TO MASTER_LOG_FILE='bin-log.000002', MASTER_LOG_POS=107;是指备份后所有的更改将会保存到bin-log.000002二进制文件中。
2、在test库的t_student表中增加两条记录，然后执行flush logs命令。这时将会产生一个新的二进制日志文件bin-log.000003，bin-log.000002则保存了全备过后的所有更改，既增加记录的操作也保存在了bin-log.00002中。
3、再在test库中的a表中增加两条记录，然后误删除t_student表和a表。a中增加记录的操作和删除表a和t_student的操作都记录在bin-log.000003中。

三、恢复
1、首先导入全备数据
    mysql -h10.6.208.183 -utest2 -p123  -P3310 &lt; test.sql，也可以直接在mysql命令行下面用source导入
2、恢复bin-log.000002
    mysqlbinlog bin-log.000002 |mysql -h10.6.208.183 -utest2 -p123  -P3310  
3、恢复部分 bin-log.000003
    在general_log中找到误删除的时间点，然后更加对应的时间点到bin-log.000003中找到相应的position点，需要恢复到误删除的前面一个position点。
可以用如下参数来控制binlog的区间
    --start-position 开始点 --stop-position 结束点
    --start-date 开始时间  --stop-date  结束时间
找到恢复点后，既可以开始恢复。
    mysqlbinlog mysql-bin.000003 --stop-position=208 |mysql -h10.6.208.183 -utest2 -p123  -P3310 </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-24">24</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-26">26</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-28">28</div><div class="crayon-num" data-line="crayon-6224c11cb38ef954699703-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38ef954699703-30">30</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38ef954699703-1">一、备份常用操作基本命令</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-2">1、备份命令mysqldump格式</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-3">    格式：mysqldump -h主机名  -P端口 -u用户名 -p密码 –database 数据库名 > 文件名.sql </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-4">2、备份MySQL数据库为带删除表的格式</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-5">    备份MySQL数据库为带删除表的格式，能够让该备份覆盖已有数据库而不需要手动删除原有数据库。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-6">    mysqldump  --add-drop-table -uusername -ppassword -database databasename > backupfile.sql</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-7">3、直接将MySQL数据库压缩备份</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-8">    mysqldump -hhostname -uusername -ppassword -database databasename | gzip > backupfile.sql.gz</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-10">二、增量备份</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-11">小量的数据库可以每天进行完整备份，因为这也用不了多少时间，但当数据库很大时，就不太可能每天进行一次完整备份了，这时候就可以使用增量备份。增量备份的原理就是使用了mysql的binlog志。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-12">1、首先做一次完整备份：</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-13">    mysqldump -h10.6.208.183 -utest2 -p123  -P3310 --single-transaction  --master-data=2  test>test.sql这时候就会得到一个全备文件test.sql</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-14">在sql文件中我们会看到：</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-15">    -- CHANGE MASTER TO MASTER_LOG_FILE='bin-log.000002', MASTER_LOG_POS=107;是指备份后所有的更改将会保存到bin-log.000002二进制文件中。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-16">2、在test库的t_student表中增加两条记录，然后执行flush logs命令。这时将会产生一个新的二进制日志文件bin-log.000003，bin-log.000002则保存了全备过后的所有更改，既增加记录的操作也保存在了bin-log.00002中。</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-17">3、再在test库中的a表中增加两条记录，然后误删除t_student表和a表。a中增加记录的操作和删除表a和t_student的操作都记录在bin-log.000003中。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-18">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-19">三、恢复</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-20">1、首先导入全备数据</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-21">    mysql -h10.6.208.183 -utest2 -p123  -P3310 < test.sql，也可以直接在mysql命令行下面用source导入</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-22">2、恢复bin-log.000002</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-23">    mysqlbinlog bin-log.000002 |mysql -h10.6.208.183 -utest2 -p123  -P3310  </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-24">3、恢复部分 bin-log.000003</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-25">    在general_log中找到误删除的时间点，然后更加对应的时间点到bin-log.000003中找到相应的position点，需要恢复到误删除的前面一个position点。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-26">可以用如下参数来控制binlog的区间</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-27">    --start-position 开始点 --stop-position 结束点</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-28">    --start-date 开始时间  --stop-date  结束时间</div><div class="crayon-line" id="crayon-6224c11cb38ef954699703-29">找到恢复点后，既可以开始恢复。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38ef954699703-30">    mysqlbinlog mysql-bin.000003 --stop-position=208 |mysql -h10.6.208.183 -utest2 -p123  -P3310 </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<div></div>
</div>
</div>
<h3><span id="LinuxMuttnbsp"><span style="font-size: 1rem; line-height: 1.6; font-weight: bold; color: inherit;"><span data-wiz-span="data-wiz-span" style="font-size: 1.167rem;">Linux使用Mutt发送邮件/附件</span>&nbsp;</span><br /></span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">http://www.isucc.me/129.html</span></div>
<div class="wiz-code-container" id="wiz_cm_1505574966054_192" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38f1683365570" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Centos安装 # 
yum install -y mutt
2.使用方法
最简单的测试方法
echo "Test" | mutt -s "Title" xxxx@qq.com
带附件的
echo "Test" | mutt -s "mysql backup" -a /mysql.tar.gz xxxx@qq.com</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38f1683365570-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f1683365570-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38f1683365570-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f1683365570-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38f1683365570-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f1683365570-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38f1683365570-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38f1683365570-1">Centos安装 # </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f1683365570-2">yum install -y mutt</div><div class="crayon-line" id="crayon-6224c11cb38f1683365570-3">2.使用方法</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f1683365570-4">最简单的测试方法</div><div class="crayon-line" id="crayon-6224c11cb38f1683365570-5">echo "Test" | mutt -s "Title" xxxx@qq.com</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f1683365570-6">带附件的</div><div class="crayon-line" id="crayon-6224c11cb38f1683365570-7">echo "Test" | mutt -s "mysql backup" -a /mysql.tar.gz xxxx@qq.com</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<h3><span id="VPS_nbsp">VPS 自动备份脚本&nbsp;</span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">https://blog.onens.com/auto-backup-bash.html</span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574995083_8028" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38f3280602296" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
没事自己写了两个脚本，一个是备份网站文件，另一个是备份数据库和配置文件，并把备份文件发送到邮箱。
安装 mutt：
yum install mutt

vim ~/.muttrc
# Add the following
set envelope_from=yes
set from=backup@yourdomain.com
set realname="Backup"
set use_from=yes

backup.sh：
config.sh：

crontab：
0 2 * * 2 /bin/bash /your-script-path/backup.sh
0 1 * * * /bin/bash /your-script-path/config.sh</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f3280602296-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38f3280602296-17">17</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38f3280602296-1">没事自己写了两个脚本，一个是备份网站文件，另一个是备份数据库和配置文件，并把备份文件发送到邮箱。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-2">安装 mutt：</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-3">yum install mutt</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-4">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-5">vim ~/.muttrc</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-6"># Add the following</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-7">set envelope_from=yes</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-8">set from=backup@yourdomain.com</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-9">set realname="Backup"</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-10">set use_from=yes</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-12">backup.sh：</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-13">config.sh：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-14">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-15">crontab：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f3280602296-16">0 2 * * 2 /bin/bash /your-script-path/backup.sh</div><div class="crayon-line" id="crayon-6224c11cb38f3280602296-17">0 1 * * * /bin/bash /your-script-path/config.sh</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<h3><span id="VPS_nbsp-2"><span style="font-size: 1rem; line-height: 1.6; font-weight: bold; color: inherit;"><span data-wiz-span="data-wiz-span" style="font-size: 1.167rem;">用邮箱备份VPS的数据 超简易教程&nbsp;</span></span><br /></span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">https://ilazycat.com/posts/2012/08/backup-vps-data-using-mailbox.html<br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574751886_558" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38f4658315176" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
DataBackUP.sh
额刚才忘了说了，这个脚本分为两部分，一部分是备份数据，一部分是备份数据库和配置文件的。。。这一部分是备份网站数据用得。。。
你要是觉得麻烦可以用最后一个整合的脚本。。。</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38f4658315176-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f4658315176-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38f4658315176-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38f4658315176-1">DataBackUP.sh</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f4658315176-2">额刚才忘了说了，这个脚本分为两部分，一部分是备份数据，一部分是备份数据库和配置文件的。。。这一部分是备份网站数据用得。。。</div><div class="crayon-line" id="crayon-6224c11cb38f4658315176-3">你要是觉得麻烦可以用最后一个整合的脚本。。。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<h3><span id="SHELL"><span style="font-size: 1rem; line-height: 1.6;">[SHELL]备份系统文件并邮件发送</span></span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">&nbsp;http://showerlee.blog.51cto.com/2047005/1283408</span></div>
<div><span style="font-size: 1rem; line-height: 1.6;"><img loading="lazy" src="https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2017/12/039c280ff790f5ba515130334672ed98_0.02878437096215536.png" alt="backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份" alt="181954528.png" width="494" height="348" style="margin: 2px 0px; color: rgb(0, 0, 0); font-family: Helvetica, 'Hiragino Sans GB', 微软雅黑, 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif; font-size: 1rem; font-style: normal; font-weight: normal; text-align: start; text-indent: 0px;" class=""><br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574627039_7430" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38f6472431803" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
(版本三)
实现rar分割并附件发送
推荐附件超过50M的用户使用
# 安装rar
rar=$(rar | grep RAR | awk '{print $1}'| sed -n '1p')
if [ $? != 0 ];then</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38f6472431803-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f6472431803-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38f6472431803-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f6472431803-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38f6472431803-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f6472431803-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38f6472431803-1">(版本三)</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f6472431803-2">实现rar分割并附件发送</div><div class="crayon-line" id="crayon-6224c11cb38f6472431803-3">推荐附件超过50M的用户使用</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f6472431803-4"># 安装rar</div><div class="crayon-line" id="crayon-6224c11cb38f6472431803-5">rar=$(rar | grep RAR | awk '{print $1}'| sed -n '1p')</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f6472431803-6">if [ $? != 0 ];then</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<h3><span id="pythonnbsp"><span style="font-size: 1rem; line-height: 1.6;">用python自动备份网站到你的邮件中&nbsp;</span></span></h3>
<div><span style="font-size: 1rem; line-height: 1.6;">https://blog.iw3c.com/archive/1085<br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505574854966_3415" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38f7081764335" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# 备份名称，用于标记
BAKUP_NAME="bakup"
# 备份目录，多个请空格分隔
BAKUP_SRC="/home/wwwroot/iw3c.com"
# 备份文件临时存放目录，一般不需要更改
BAKUP_DIR="/tmp/bakuptoemail"
# Mysql主机地址
MYSQL_SERVER="localhost"
# Mysql用户名
MYSQL_USER="root"
# Mysql密码
MYSQL_PASS="password"
# Mysql备份数据库，多个请空格分隔
MYSQL_DBS="iw3c_com_db "
# 备份文件压缩密码
BAKUP_FILE_PASSWD="iw3c.com"
# 邮件SMTP地址
THESMTP_HOST="smtp.xxx.com"
# 邮件登录帐号
THESMTP_USER='aries@xxx.com'
# 邮件登录密码
THESMTP_PWD='password'
# 邮件接收地址
THESMTP_TO='xxx@xxx.com'</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb38f7081764335-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f7081764335-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38f7081764335-1"># 备份名称，用于标记</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-2">BAKUP_NAME="bakup"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-3"># 备份目录，多个请空格分隔</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-4">BAKUP_SRC="/home/wwwroot/iw3c.com"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-5"># 备份文件临时存放目录，一般不需要更改</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-6">BAKUP_DIR="/tmp/bakuptoemail"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-7"># Mysql主机地址</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-8">MYSQL_SERVER="localhost"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-9"># Mysql用户名</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-10">MYSQL_USER="root"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-11"># Mysql密码</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-12">MYSQL_PASS="password"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-13"># Mysql备份数据库，多个请空格分隔</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-14">MYSQL_DBS="iw3c_com_db "</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-15"># 备份文件压缩密码</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-16">BAKUP_FILE_PASSWD="iw3c.com"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-17"># 邮件SMTP地址</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-18">THESMTP_HOST="smtp.xxx.com"</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-19"># 邮件登录帐号</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-20">THESMTP_USER='aries@xxx.com'</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-21"># 邮件登录密码</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-22">THESMTP_PWD='password'</div><div class="crayon-line" id="crayon-6224c11cb38f7081764335-23"># 邮件接收地址</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f7081764335-24">THESMTP_TO='xxx@xxx.com'</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<div><span style="font-size: 1rem; line-height: 1.6;"><br /></span></div>
<h3><span id="gt"><span style="font-size: 1rem; line-height: 1.6;">压缩&gt;</span><b style="color: inherit; font-size: 1rem; line-height: 1.6;">综合相关</b></span></h3>
<div>浅谈Linux下各种压缩 解压命令和压缩比率对比&nbsp;http://blog.sina.com.cn/s/blog_407abb0d0100lajg.html</div>
<div class="wiz-code-container" id="wiz_cm_1505576443458_6648" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb38f9418248791" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
综合起来，在压缩比率上： tar.bz=tar.bz2&gt;tgz&gt;tar
耗费时间（打包，解压）
    打包：tar.bz&gt;tar.bz2&gt;tgz&gt;tar
    解压： tar.bz&gt;tar.bz2&gt;tar&gt;tgz
因此，Linux下对于占用空间与耗费时间的折衷多选用tgz格式，不仅压缩率较高，而且打包、解压的时间都较为快速，是较为理想的选择。
如果对效率很关切，非常在乎时间的话，选择tgz tar的方式都不错。当然，如果disk空间较为紧张，非常在乎空间的话，选择高压缩比率的tar.bz2则更为适宜。</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb38f9418248791-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f9418248791-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb38f9418248791-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f9418248791-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb38f9418248791-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb38f9418248791-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb38f9418248791-1">综合起来，在压缩比率上： tar.bz=tar.bz2>tgz>tar</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f9418248791-2">耗费时间（打包，解压）</div><div class="crayon-line" id="crayon-6224c11cb38f9418248791-3">    打包：tar.bz>tar.bz2>tgz>tar</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f9418248791-4">    解压： tar.bz>tar.bz2>tar>tgz</div><div class="crayon-line" id="crayon-6224c11cb38f9418248791-5">因此，Linux下对于占用空间与耗费时间的折衷多选用tgz格式，不仅压缩率较高，而且打包、解压的时间都较为快速，是较为理想的选择。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb38f9418248791-6">如果对效率很关切，非常在乎时间的话，选择tgz tar的方式都不错。当然，如果disk空间较为紧张，非常在乎空间的话，选择高压缩比率的tar.bz2则更为适宜。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><b style="font-size: 1rem; line-height: 1.6; color: inherit;">Linux下解压：tar、rar、7z命令简单易懂的教程（含实例）</b></div>
<div><span style="font-size: 1rem; line-height: 1.6;">http://blog.csdn.net/ac_huang/article/details/23279641<br /></span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505575610838_9647" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3900571339404" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
tar命令常见参数与实例：
——————————————————————————————————-
必须的参数：（3个参数不能共存）
-c ：创建压缩文件c代表create。

7z文件到解压缩实例
——————————————————————————————————-
安装：Redhat、Fedora、Centos安装命令：yum install p7zip</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3900571339404-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3900571339404-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3900571339404-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3900571339404-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3900571339404-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3900571339404-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb3900571339404-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3900571339404-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3900571339404-1">tar命令常见参数与实例：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3900571339404-2">——————————————————————————————————-</div><div class="crayon-line" id="crayon-6224c11cb3900571339404-3">必须的参数：（3个参数不能共存）</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3900571339404-4">-c ：创建压缩文件c代表create。</div><div class="crayon-line" id="crayon-6224c11cb3900571339404-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3900571339404-6">7z文件到解压缩实例</div><div class="crayon-line" id="crayon-6224c11cb3900571339404-7">——————————————————————————————————-</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3900571339404-8">安装：Redhat、Fedora、Centos安装命令：yum install p7zip</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b><span style="font-size: 1rem; color: inherit; line-height: 1.6;">Linux zip分卷压缩&nbsp;</span><br /></b></div>
<div>http://blog.csdn.net/u010273224/article/details/54171696</div>
<div class="wiz-code-container" id="wiz_cm_1505573977386_5775" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3901330078212" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
分卷压缩的话，需要先将文件打包成一个zip包，然后执行
zip -s SIZE origin.zip --out new.zip
SIZE为分卷的大小4m,4g,4t等
解压的时候需要先将它合并才能正常解压
zip spiltfile.zip -s=0 --out single.zip</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3901330078212-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3901330078212-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3901330078212-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3901330078212-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3901330078212-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3901330078212-1">分卷压缩的话，需要先将文件打包成一个zip包，然后执行</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3901330078212-2">zip -s SIZE origin.zip --out new.zip</div><div class="crayon-line" id="crayon-6224c11cb3901330078212-3">SIZE为分卷的大小4m,4g,4t等</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3901330078212-4">解压的时候需要先将它合并才能正常解压</div><div class="crayon-line" id="crayon-6224c11cb3901330078212-5">zip spiltfile.zip -s=0 --out single.zip</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><b>Linux系统zip压缩命令详细参数，附文件排除选项的正确用法</b></div>
<div>&nbsp;https://zhangge.net/4776.html</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505641875118_5881" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3903246630388" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
这次给博客添加了纯代码缓存之后，发现缓存文件竟然达到了50多MB！而我的服务器每次还需要同步至七牛，文件体积的增加都会增加文件远程同步备份的时间。因此，我第一想到的办法就是在网站ZIP压缩打包的时候排除缓存文件夹。
下面是从网上找来的ZIP命令参数：
zip Linux上适用的参数:
-1 : 最快压缩，压缩率最差。
-9 : 最大压缩，压缩率最佳。</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3903246630388-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3903246630388-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3903246630388-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3903246630388-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3903246630388-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3903246630388-1">这次给博客添加了纯代码缓存之后，发现缓存文件竟然达到了50多MB！而我的服务器每次还需要同步至七牛，文件体积的增加都会增加文件远程同步备份的时间。因此，我第一想到的办法就是在网站ZIP压缩打包的时候排除缓存文件夹。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3903246630388-2">下面是从网上找来的ZIP命令参数：</div><div class="crayon-line" id="crayon-6224c11cb3903246630388-3">zip Linux上适用的参数:</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3903246630388-4">-1 : 最快压缩，压缩率最差。</div><div class="crayon-line" id="crayon-6224c11cb3903246630388-5">-9 : 最大压缩，压缩率最佳。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b>Linux 下zip包的压缩与解压</b></div>
<div>&nbsp;https://www.cnblogs.com/chinareny2k/archive/2010/01/05/1639468.html</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505641936997_7040" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3904843104946" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
linux zip 命令详解 
功能说明：压缩文件。 
语 法：zip [-AcdDfFghjJKlLmoqrSTuvVwXyz$][-b &lt;工作目录&gt;][-ll][-n &lt;字尾字符串&gt;][-t &lt;日期时间&gt;][-&lt;压缩效率&gt;][压缩文件][文件...][-i &lt;范本样式&gt;][-x &lt;范本样式&gt;] 
补充说明：zip是个使用广泛的压缩程序，文件经它压缩后会另外产生具有".zip"扩展名的压缩文件。 
参 数： 
-A 调整可执行的自动解压缩文件。 
-b&lt;工作目录&gt; 指定暂时存放文件的目录。 </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3904843104946-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3904843104946-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3904843104946-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3904843104946-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3904843104946-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3904843104946-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb3904843104946-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3904843104946-1">linux zip 命令详解 </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3904843104946-2">功能说明：压缩文件。 </div><div class="crayon-line" id="crayon-6224c11cb3904843104946-3">语 法：zip [-AcdDfFghjJKlLmoqrSTuvVwXyz$][-b <工作目录>][-ll][-n <字尾字符串>][-t <日期时间>][-<压缩效率>][压缩文件][文件...][-i <范本样式>][-x <范本样式>] </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3904843104946-4">补充说明：zip是个使用广泛的压缩程序，文件经它压缩后会另外产生具有".zip"扩展名的压缩文件。 </div><div class="crayon-line" id="crayon-6224c11cb3904843104946-5">参 数： </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3904843104946-6">-A 调整可执行的自动解压缩文件。 </div><div class="crayon-line" id="crayon-6224c11cb3904843104946-7">-b<工作目录> 指定暂时存放文件的目录。 </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b><span style="font-size: 1rem; color: inherit; line-height: 1.6;">linux下分卷压缩，合并解压的3种方法&nbsp;</span><br /></b></div>
<div>http://blog.csdn.net/aree/article/details/50946137 、http://blog.51yip.com/linux/988.html</div>
<div class="wiz-code-container" id="wiz_cm_1505574039680_5916" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3906280187486" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
我们上传东西的时候，由于文件过大而不能上传，或者不给上传，最明显的就是发邮件了，附件最大5M，有的10M。如果超过了就郁闷了。这个时候，如果能把压缩的东西，分割开来就比较爽了，windows下面我想大家知道怎么分割，利用winrar，winzip图型化设置压缩出来的块的大小。但是在linux下面有没有这样的方法了，linux下面有rar命令，有zip命令，windows下面这二种方式可以分割压缩,我想linux下面绝对也是可以的。下面是我尝试过程的记录：</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3906280187486-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3906280187486-1">我们上传东西的时候，由于文件过大而不能上传，或者不给上传，最明显的就是发邮件了，附件最大5M，有的10M。如果超过了就郁闷了。这个时候，如果能把压缩的东西，分割开来就比较爽了，windows下面我想大家知道怎么分割，利用winrar，winzip图型化设置压缩出来的块的大小。但是在linux下面有没有这样的方法了，linux下面有rar命令，有zip命令，windows下面这二种方式可以分割压缩,我想linux下面绝对也是可以的。下面是我尝试过程的记录：</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><b>Linux下分卷压缩较大的文件&nbsp;</b></div>
<div>http://blog.csdn.net/baggio1006/article/details/17503113</div>
<div class="wiz-code-container" id="wiz_cm_1505574405932_586" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3908802316531" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
附录：split命令的使用
split proc.tar.gz -b 2m #将proc.tar.gz文件分割为多个小文件，并保持每个小文件的大小不超过2m字节。命令运行后，源文件依然存在。生成的小文件以默认格式命名，为：xaa、xab等
split proc.tar.gz -b 2m -d #基本同上，只是生成的小文件以数字格式命名，为：x00、x01等
split proc.tar.gz -b 2m -d proc.tar.gz #基本同上，只是生成的小文件名前缀是自定义的，为：proc.tar.gz00、proc.tar.gz01等
split a.txt -C 300k -d a.txt #将a.txt文本文件分割为多个小文件，并保持每个小文件的大小不超过300k字节，而且尽量保持每行的完整性</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3908802316531-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3908802316531-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3908802316531-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3908802316531-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3908802316531-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3908802316531-1">附录：split命令的使用</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3908802316531-2">split proc.tar.gz -b 2m #将proc.tar.gz文件分割为多个小文件，并保持每个小文件的大小不超过2m字节。命令运行后，源文件依然存在。生成的小文件以默认格式命名，为：xaa、xab等</div><div class="crayon-line" id="crayon-6224c11cb3908802316531-3">split proc.tar.gz -b 2m -d #基本同上，只是生成的小文件以数字格式命名，为：x00、x01等</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3908802316531-4">split proc.tar.gz -b 2m -d proc.tar.gz #基本同上，只是生成的小文件名前缀是自定义的，为：proc.tar.gz00、proc.tar.gz01等</div><div class="crayon-line" id="crayon-6224c11cb3908802316531-5">split a.txt -C 300k -d a.txt #将a.txt文本文件分割为多个小文件，并保持每个小文件的大小不超过300k字节，而且尽量保持每行的完整性</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><b>CentOS 安装 rar、zip 解压缩&nbsp;</b></div>
<div>https://ehlxr.me/2016/12/22/CentOS-%E5%AE%89%E8%A3%85-rar%E3%80%81zip-%E8%A7%A3%E5%8E%8B%E7%BC%A9/</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505575177563_5299" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3909536049911" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Windows 系统压缩的 rar 和 zip 文件，在 Linux 系统下是无法通过 tar 命令解压缩的，需要使用 rar 和 zip 命令来解压缩。下面记录一下 rar 和 zip 安装和简单的使用。
一、rar 安装使用
Linux 系统下使用 rarlinux 解压缩 rar 压缩文件，下载页面：http://www.rarsoft.com/download.htm。
1.1 下载系统对应的版本
2.2 安装 zip、unzip
$ yum install zip
$ yum install unzip
2.3 常用命令
$ zip -r myfile.zip ./*
# 将当前目录下的所有文件和文件夹全部压缩成 myfile.zip 文件，-r 表示递归压缩子目录下所有文件.
$ unzip -o -d /home/sunny myfile.zip
# 把 myfile.zip 文件解压到 /home/sunny/
# -o ：不提示的情况下覆盖文件
# -d：将文件解压缩到指定目录下
$ zip -d myfile.zip smart.txt
# 删除压缩文件中 smart.txt 文件
$ zip -m myfile.zip ./rpm_info.txt
# 向压缩文件中 myfile.zip 中添加 rpm_info.txt 文件</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb3909536049911-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3909536049911-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3909536049911-1">Windows 系统压缩的 rar 和 zip 文件，在 Linux 系统下是无法通过 tar 命令解压缩的，需要使用 rar 和 zip 命令来解压缩。下面记录一下 rar 和 zip 安装和简单的使用。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-2">一、rar 安装使用</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-3">Linux 系统下使用 rarlinux 解压缩 rar 压缩文件，下载页面：http://www.rarsoft.com/download.htm。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-4">1.1 下载系统对应的版本</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-5">2.2 安装 zip、unzip</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-6">$ yum install zip</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-7">$ yum install unzip</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-8">2.3 常用命令</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-9">$ zip -r myfile.zip ./*</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-10"># 将当前目录下的所有文件和文件夹全部压缩成 myfile.zip 文件，-r 表示递归压缩子目录下所有文件.</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-11">$ unzip -o -d /home/sunny myfile.zip</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-12"># 把 myfile.zip 文件解压到 /home/sunny/</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-13"># -o ：不提示的情况下覆盖文件</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-14"># -d：将文件解压缩到指定目录下</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-15">$ zip -d myfile.zip smart.txt</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-16"># 删除压缩文件中 smart.txt 文件</div><div class="crayon-line" id="crayon-6224c11cb3909536049911-17">$ zip -m myfile.zip ./rpm_info.txt</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3909536049911-18"># 向压缩文件中 myfile.zip 中添加 rpm_info.txt 文件</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b>Linux下的压缩（zip）解压(unzip)缩命令</b></div>
<div>&nbsp;http://blog.csdn.net/shenyunsese/article/details/17556089</div>
<div class="wiz-code-container" id="wiz_cm_1505575342384_9242" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb390b561162543" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
1.zip命令
zip -r myfile.zip ./*
将当前目录下的所有文件和文件夹全部压缩成myfile.zip文件,－r表示递归压缩子目录下所有文件.
zip -r filename.zip filesdir
在这个例子里，filename.zip 代表你创建的文件，filesdir 代表你想放置新 zip 文件的目录。-r 选项指定你想递归地（recursively）包括所有包括在 filesdir 目录中的文件。

你可以使用 zip 命令同时处理多个文件和目录，方法是将它们逐一列出，并用空格间隔：
zip -r filename.zip file1 file2 file3 /usr/work/school 
上面的命令把 file1、file2、 file3、以及 /usr/work/school 目录的内容（假设这个目录存在）压缩起来，然后放入 filename.zip 文件中。</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb390b561162543-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390b561162543-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb390b561162543-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390b561162543-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb390b561162543-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390b561162543-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb390b561162543-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390b561162543-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb390b561162543-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb390b561162543-1">1.zip命令</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390b561162543-2">zip -r myfile.zip ./*</div><div class="crayon-line" id="crayon-6224c11cb390b561162543-3">将当前目录下的所有文件和文件夹全部压缩成myfile.zip文件,－r表示递归压缩子目录下所有文件.</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390b561162543-4">zip -r filename.zip filesdir</div><div class="crayon-line" id="crayon-6224c11cb390b561162543-5">在这个例子里，filename.zip 代表你创建的文件，filesdir 代表你想放置新 zip 文件的目录。-r 选项指定你想递归地（recursively）包括所有包括在 filesdir 目录中的文件。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390b561162543-6">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb390b561162543-7">你可以使用 zip 命令同时处理多个文件和目录，方法是将它们逐一列出，并用空格间隔：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390b561162543-8">zip -r filename.zip file1 file2 file3 /usr/work/school </div><div class="crayon-line" id="crayon-6224c11cb390b561162543-9">上面的命令把 file1、file2、 file3、以及 /usr/work/school 目录的内容（假设这个目录存在）压缩起来，然后放入 filename.zip 文件中。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div></div>
<h3><span id="gt7zip">压缩&gt;7zip相关文献</span></h3>
<div><b>CentOS中如何安装7ZIP </b>&nbsp;</div>
<div>https://teddysun.com/176.html</div>
<div class="wiz-code-container" id="wiz_cm_1505575920052_7301" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb390c050955545" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
使用7zip的命令是7za。
安装完成后的使用方法：
7za {a|d|l|e|u|x} 压缩包文件名 {文件列表或目录，可选}

a  向压缩包里添加文件或创建压缩包，如向001.7z添加001.jpg，执行：7za a 001.7z 001.jpg；将001目录打包执行：7za a 001.7z 001；
d  从压缩里删除文件，如将001.7z里的001.jpg删除，执行：7za d 001.7z 001.jpg
l  列出压缩包里的文件，如列出001.7z里的文件，执行：7za l 001.7z
e  解压到当前目录，目录结构会被破坏，如001.rar内有如下目录及文件123/456/789.html，
执行：7za e 001.rar，目录123和456及文件789.html都会存放在当前目录下。
x  以完整路径解压。

zip文件解压中文文件乱码问题，由于zip文件中没有声明其编码，所以在Linux上使用unzip解压以默认编码解压，中文文件名会出现乱码。</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb390c050955545-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390c050955545-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb390c050955545-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390c050955545-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb390c050955545-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390c050955545-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb390c050955545-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390c050955545-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb390c050955545-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390c050955545-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb390c050955545-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390c050955545-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb390c050955545-1">使用7zip的命令是7za。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390c050955545-2">安装完成后的使用方法：</div><div class="crayon-line" id="crayon-6224c11cb390c050955545-3">7za {a|d|l|e|u|x} 压缩包文件名 {文件列表或目录，可选}</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390c050955545-4">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb390c050955545-5">a  向压缩包里添加文件或创建压缩包，如向001.7z添加001.jpg，执行：7za a 001.7z 001.jpg；将001目录打包执行：7za a 001.7z 001；</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390c050955545-6">d  从压缩里删除文件，如将001.7z里的001.jpg删除，执行：7za d 001.7z 001.jpg</div><div class="crayon-line" id="crayon-6224c11cb390c050955545-7">l  列出压缩包里的文件，如列出001.7z里的文件，执行：7za l 001.7z</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390c050955545-8">e  解压到当前目录，目录结构会被破坏，如001.rar内有如下目录及文件123/456/789.html，</div><div class="crayon-line" id="crayon-6224c11cb390c050955545-9">执行：7za e 001.rar，目录123和456及文件789.html都会存放在当前目录下。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390c050955545-10">x  以完整路径解压。</div><div class="crayon-line" id="crayon-6224c11cb390c050955545-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390c050955545-12">zip文件解压中文文件乱码问题，由于zip文件中没有声明其编码，所以在Linux上使用unzip解压以默认编码解压，中文文件名会出现乱码。</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">How to create multipart 7zip file in Linux?&nbsp;</b></div>
<div>https://superuser.com/questions/184557/how-to-create-multipart-7zip-file-in-linux</div>
<div class="wiz-code-container" id="wiz_cm_1505576265172_9702" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb390e253143780" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Full command example: 7z -v100m a my_zip.7z my_folder/
Use the -v option (v is for volume) -v100m will split the archive into chunks of 100MB.
7z -v option supports b k m g (bytes, kilobytes, megabytes, gigabytes)</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb390e253143780-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390e253143780-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb390e253143780-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb390e253143780-1">Full command example: 7z -v100m a my_zip.7z my_folder/</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390e253143780-2">Use the -v option (v is for volume) -v100m will split the archive into chunks of 100MB.</div><div class="crayon-line" id="crayon-6224c11cb390e253143780-3">7z -v option supports b k m g (bytes, kilobytes, megabytes, gigabytes)</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">How to use 7zip on Linux command Line</b></div>
<div>&nbsp;https://www.ibm.com/developerworks/community/blogs/6e6f6d1b-95c3-46df-8a26-b7efd8ee4b57/entry/how_to_use_7zip_on_linux_command_line144?lang=en</div>
<div class="wiz-code-container" id="wiz_cm_1505575792001_9659" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb390f998047915" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
7z uses plugins to handle archives. 
7za is a stand-alone executable. 7za handles fewer archive formats than 7z, but does not need any others. 
7zr is a stand-alone executable. 7zr handles fewer archive formats than 7z, but does not need any others. 7zr is a "light-version" of 7za that only handles 7z archives.</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb390f998047915-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb390f998047915-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb390f998047915-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb390f998047915-1">7z uses plugins to handle archives. </div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb390f998047915-2">7za is a stand-alone executable. 7za handles fewer archive formats than 7z, but does not need any others. </div><div class="crayon-line" id="crayon-6224c11cb390f998047915-3">7zr is a stand-alone executable. 7zr handles fewer archive formats than 7z, but does not need any others. 7zr is a "light-version" of 7za that only handles 7z archives.</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<h4></h4>
<h3><span id="Shell">Shell相关文献</span></h3>
<div><b>shell 将字符串分割成数组&nbsp;</b></div>
<div>https://my.oschina.net/5lei/blog/189559</div>
<div class="wiz-code-container" id="wiz_cm_1505610464067_2085" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3910575533505" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
a="one,two,three,four"
arr=($a)用于将字符串$a分割到数组$arr ${arr[0]} ${arr[1]} </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3910575533505-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3910575533505-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3910575533505-1">a="one,two,three,four"</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3910575533505-2">arr=($a)用于将字符串$a分割到数组$arr ${arr[0]} ${arr[1]} </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">Shell 数组元素个数${#array[@]} 数组的所有元素${array[*]} 字符串长度${#str}&nbsp;</b></div>
<div>http://zhenshi4597.blog.51cto.com/1891465/871166</div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505610572811_3969" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3912730738202" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
1、获取数组元素的个数:
        array=(bill   chen  bai   hu);
        num=${#array[@]}  </textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3912730738202-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3912730738202-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3912730738202-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3912730738202-1">1、获取数组元素的个数:</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3912730738202-2">        array=(bill   chen  bai   hu);</div><div class="crayon-line" id="crayon-6224c11cb3912730738202-3">        num=${#array[@]}  </div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">SHELL脚本中的数组</b><span style="color: inherit; font-size: 1rem; line-height: 1.6;">&nbsp;</span></div>
</div>
<div><span style="color: inherit; font-size: 1rem; line-height: 1.6;">http://smilejay.com/2016/04/array-in-bash/</span></div>
<div>
<div class="wiz-code-container" id="wiz_cm_1505610676980_4931" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3913226544740" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
4. 数组的长度（元素的个数）和元素的字符串长度
数组的长度就是元素的个数，通过 ${#array_name[@]} 或 ${#array_name[*]} 获取；其中某个元素的字符串长度 ${#array_name[index]} 。

5. 数组的截断
{array_name[@]:1} 表示除了第1个元素（小标0）之外的所有元素
{array_name[@]:1:4} 表示第2、3、4个（下标为1，2，4-1）元素</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3913226544740-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3913226544740-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3913226544740-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3913226544740-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3913226544740-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3913226544740-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3913226544740-1">4. 数组的长度（元素的个数）和元素的字符串长度</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3913226544740-2">数组的长度就是元素的个数，通过 ${#array_name[@]} 或 ${#array_name[*]} 获取；其中某个元素的字符串长度 ${#array_name[index]} 。</div><div class="crayon-line" id="crayon-6224c11cb3913226544740-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3913226544740-4">5. 数组的截断</div><div class="crayon-line" id="crayon-6224c11cb3913226544740-5">{array_name[@]:1} 表示除了第1个元素（小标0）之外的所有元素</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3913226544740-6">{array_name[@]:1:4} 表示第2、3、4个（下标为1，2，4-1）元素</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
</p>
<div></div>
</div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">Shell编程中的数组定义、遍历&nbsp;</b></div>
<div>https://www.coder4.com/archives/3853</div>
<div class="wiz-code-container" id="wiz_cm_1505610993488_9785" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3915855584322" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
数组定义：
    arr=(1 2 3 4 5) # 注意是用空格分开，不是逗号！！
数组定义法2：
    array
    array[0]="a"
    array[1]="b"
    array[2]="c"</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3915855584322-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3915855584322-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3915855584322-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3915855584322-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3915855584322-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3915855584322-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb3915855584322-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3915855584322-1">数组定义：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3915855584322-2">    arr=(1 2 3 4 5) # 注意是用空格分开，不是逗号！！</div><div class="crayon-line" id="crayon-6224c11cb3915855584322-3">数组定义法2：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3915855584322-4">    array</div><div class="crayon-line" id="crayon-6224c11cb3915855584322-5">    array[0]="a"</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3915855584322-6">    array[1]="b"</div><div class="crayon-line" id="crayon-6224c11cb3915855584322-7">    array[2]="c"</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div><b style="color: inherit; font-size: 1rem; line-height: 1.6;">Shell数组：shell数组的定义、数组长度&nbsp;</b></div>
<div>http://c.biancheng.net/cpp/view/7002.html</div>
<div class="wiz-code-container" id="wiz_cm_1505611150904_5473" data-mode="Shell" data-theme="default"><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-6224c11cb3917470675743" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Default</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
定义数组
在Shell中，用括号来表示数组，数组元素用“空格”符号分割开。定义数组的一般形式为：
    array_name=(value1 ... valuen)
    例如：
    array_name=(value0 value1 value2 value3)
    或者
    array_name=(
    value0
    value1
    value2
    value3
    )
还可以单独定义数组的各个分量：
    array_name[0]=value0
    array_name[1]=value1
    array_name[2]=value2
可以不使用连续的下标，而且下标的范围没有限制。

读取数组
读取数组元素值的一般格式是：
    ${array_name[index]}
    例如：
    valuen=${array_name[2]}

获取数组的长度
获取数组长度的方法与获取字符串长度的方法相同，例如：
    # 取得数组元素的个数
    length=${#array_name[@]}
    # 或者
    length=${#array_name[*]}
    # 取得数组单个元素的长度
    lengthn=${#array_name[n]}</textarea></div>
			<div class="crayon-main" style=" max-height: 200px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-2">2</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-4">4</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-6">6</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-8">8</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-10">10</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-12">12</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-14">14</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-16">16</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-18">18</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-20">20</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-22">22</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-24">24</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-26">26</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-28">28</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-30">30</div><div class="crayon-num" data-line="crayon-6224c11cb3917470675743-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-6224c11cb3917470675743-32">32</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-6224c11cb3917470675743-1">定义数组</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-2">在Shell中，用括号来表示数组，数组元素用“空格”符号分割开。定义数组的一般形式为：</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-3">    array_name=(value1 ... valuen)</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-4">    例如：</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-5">    array_name=(value0 value1 value2 value3)</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-6">    或者</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-7">    array_name=(</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-8">    value0</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-9">    value1</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-10">    value2</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-11">    value3</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-12">    )</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-13">还可以单独定义数组的各个分量：</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-14">    array_name[0]=value0</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-15">    array_name[1]=value1</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-16">    array_name[2]=value2</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-17">可以不使用连续的下标，而且下标的范围没有限制。</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-18">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-19">读取数组</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-20">读取数组元素值的一般格式是：</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-21">    ${array_name[index]}</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-22">    例如：</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-23">    valuen=${array_name[2]}</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-24">&nbsp;</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-25">获取数组的长度</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-26">获取数组长度的方法与获取字符串长度的方法相同，例如：</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-27">    # 取得数组元素的个数</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-28">    length=${#array_name[@]}</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-29">    # 或者</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-30">    length=${#array_name[*]}</div><div class="crayon-line" id="crayon-6224c11cb3917470675743-31">    # 取得数组单个元素的长度</div><div class="crayon-line crayon-striped-line" id="crayon-6224c11cb3917470675743-32">    lengthn=${#array_name[n]}</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
</p>
<div></div>
</div>
<div></div>
<p><wiz_tmp_tag id="wiz-table-range-border" contenteditable="false" style="display: none;"></p>
<div id="wiz-table-col-line" style="display: none;"></div>
<div id="wiz-table-row-line" style="display: none;"></div>
<div id="wiz-table-range-border_start" style="display: none;">
<div id="wiz-table-range-border_start_top"></div>
<div id="wiz-table-range-border_start_right"></div>
<div id="wiz-table-range-border_start_bottom"></div>
<div id="wiz-table-range-border_start_left"></div>
<div id="wiz-table-range-border_start_dot"></div>
</div>
<div id="wiz-table-range-border_range" style="display: none;">
<div id="wiz-table-range-border_range_top"></div>
<div id="wiz-table-range-border_range_right"></div>
<div id="wiz-table-range-border_range_bottom"></div>
<div id="wiz-table-range-border_range_left"></div>
<div id="wiz-table-range-border_range_dot"></div>
</div>
<p></wiz_tmp_tag></p>
<div class='favorite-box'><span class='favorite-e'><a class='wpzm-link' href='?wpzmaction=add&amp;postid=1588' rel='nofollow'> 收 <i class="fa-heart fa"></i> 藏</a></span></div>			</div>

						
									
						
									<div class="s-weixin">
	<ul class="weimg1">
		<li>
			<strong>我的微信</strong>
		</li>
		<li>这是我的微信扫一扫</li>
		<li>
			<img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/11.jpg" alt="weinxin" />
		</li>
	</ul>
	<ul class="weimg2">
		<li>
			<strong>我的微信公众号</strong>
		</li>
		<li>我的微信公众号扫一扫</li>
		<li>
			<img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/20.jpg" alt="weinxin" />
		</li>
	</ul>
	<div class="clear"></div>
</div>
				
									<div class="clear"></div>
<div id="social">
	<div class="social-main">
		<span class="like">
			<a href="javascript:;" data-action="ding" data-id="1588" title="点赞" class="dingzan"><i class="fa fa-thumbs-up"></i>赞 <i class="count">
				0</i>
			</a>
		</span>
		<div class="shang-p">
			<div class="shang-empty"><span></span></div>
							<span class="tipso_style" id="tip-p" data-tipso='
					<span id="shang">
						<span class="shang-main">
							<h4><i class="fa fa-heart" aria-hidden="true"></i> 您可以选择一种方式赞助本站</h4>														
																					<span class="clear"></span>
						</span>
					</span>'>
					<span class="shang-s"><a title="赞助本站">赏</a></span>
				</span>
					</div>
		<div class="share-sd">
			<span class="share-s"><a href="javascript:void(0)" id="share-s" title="分享"><i class="fa fa-share-alt"></i>分享</a></span>
			<div id="share">
	<ul class="bdsharebuttonbox">
		<li><a title="更多" class="bds_more fa fa-plus-square" data-cmd="more" onclick="return false;" href="#"></a></li>
		<li><a title="分享到QQ空间" class="fa fa-qq" data-cmd="qzone" onclick="return false;" href="#"></a></li>
		<li><a title="分享到新浪微博" class="fa fa-weibo" data-cmd="tsina" onclick="return false;" href="#"></a></li>
		<li><a title="分享到腾讯微博" class="fa fa-pinterest-square" data-cmd="tqq" onclick="return false;" href="#"></a></li>
		<li><a title="分享到人人网" class="fa fa-renren" data-cmd="renren" onclick="return false;" href="#"></a></li>
		<li><a title="分享到微信" class="fa fa-weixin" data-cmd="weixin" onclick="return false;" href="#"></a></li>
	</ul>
</div>		</div>
		<div class="clear"></div>
	</div>
</div>				
				
			<footer class="single-footer">
				<ul id="fontsize"><li>A+</li></ul><div class="single-cat-tag"><div class="single-cat">所属分类：<a href="https://shusanjing.github.io/wp/wp2static/p/wp/" rel="category tag">WordPress</a> <a href="https://shusanjing.github.io/wp/wp2static/p/%e6%9c%ac%e7%ab%99%e8%bf%90%e7%bb%b4/" rel="category tag">网站运维</a></div></div>			</footer><!-- .entry-footer -->

				<div class="clear"></div>
	</div><!-- .entry-content -->

	</article><!-- #post -->

<div class="single-tag"><ul class="wow fadeInUp" data-wow-delay="0.3s"><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/linux/" rel="tag">linux</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/pt/" rel="tag">pt</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/vps/" rel="tag">vps</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/vultr/" rel="tag">vultr</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/wordpress/" rel="tag">wordpress</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e4%b8%8b%e8%bd%bd/" rel="tag">下载</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e5%8d%9a%e5%ae%a2/" rel="tag">博客</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e7%bd%91%e7%ab%99/" rel="tag">网站</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e8%84%9a%e6%9c%ac/" rel="tag">脚本</a></li><li><a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e9%82%ae%e4%bb%b6/" rel="tag">邮件</a></li></ul></div>
									<div class="authorbio wow fadeInUp" data-wow-delay="0.3s">
	<img src="https://secure.gravatar.com/avatar/c4723e619739212f4061540431fa5910?s=128&d=mm" alt="avatar" class="avatar avatar-128" height="128" width="128">
	<ul class="spostinfo">
		<li>
								<li><strong>版权声明：</strong>本站原创文章，于2017年12月7日<i class="i-time">20:58:44</i>，由 <b><a href="https://shusanjing.github.io/wp/wp2static/p/author/huzongsi/" title="文章作者 huzongsi" rel="author">huzongsi</a></b> 发表，共 6084 字。</li>
		<li class="reprinted"><strong>转载请注明：</strong><a href="https://shusanjing.github.io/wp/wp2static/p/1588/" rel="bookmark" title="本文固定链接 https://shusanjing.github.io/wp/wp2static/p/1588/">backup2mail.sh 服务器内容自动压缩分卷成附件大小发送到邮箱备份 | 逻辑门.博客</a></li>
			</ul>
	<div class="clear"></div>
</div>
				
				
									<div id="related-img" class="wow fadeInUp" data-wow-delay="0.3s">
		
	<div class="r4">
		<div class="related-site">
			<figure class="related-site-img">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2140/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/18.jpg" alt="Faststone Capture使用优化设置" /></a>			 </figure>
			<div class="related-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2140/">Faststone Capture使用优化设置</a></div>
		</div>
	</div>

		
	<div class="r4">
		<div class="related-site">
			<figure class="related-site-img">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2135/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/8.jpg" alt="南瓜电影app投屏到windows" /></a>			 </figure>
			<div class="related-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2135/">南瓜电影app投屏到windows</a></div>
		</div>
	</div>

		
	<div class="r4">
		<div class="related-site">
			<figure class="related-site-img">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2059/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/5.jpg" alt="企业微信-推送通知到普通微信-POST调用API" /></a>			 </figure>
			<div class="related-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2059/">企业微信-推送通知到普通微信-POST调用API</a></div>
		</div>
	</div>

		
	<div class="r4">
		<div class="related-site">
			<figure class="related-site-img">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2023/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/4.jpg" alt="[猫盘]安装Tmux[群晖][ARM]" /></a>			 </figure>
			<div class="related-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2023/">[猫盘]安装Tmux[群晖][ARM]</a></div>
		</div>
	</div>

			<div class="clear"></div>
</div>				
				<div id="single-widget">
	<div class="wow fadeInUp" data-wow-delay="0.3s">
		<aside id="cx_tag_cloud-4" class="widget cx_tag_cloud wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><span class="s-icon"></span>热门标签</h3>	<div class="tagcloud">
	<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e8%a7%86%e9%a2%91/" class="tag-cloud-link tag-link-20 tag-link-position-1" style="font-size: 14px;">视频</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/webdav/" class="tag-cloud-link tag-link-52 tag-link-position-2" style="font-size: 14px;">webdav</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e6%98%af%e5%90%a6/" class="tag-cloud-link tag-link-68 tag-link-position-3" style="font-size: 14px;">是否</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e6%89%8b%e6%9c%ba/" class="tag-cloud-link tag-link-26 tag-link-position-4" style="font-size: 14px;">手机</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e6%b5%8f%e8%a7%88%e5%99%a8/" class="tag-cloud-link tag-link-19 tag-link-position-5" style="font-size: 14px;">浏览器</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e8%bd%af%e4%bb%b6/" class="tag-cloud-link tag-link-10 tag-link-position-6" style="font-size: 14px;">软件</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/vps/" class="tag-cloud-link tag-link-14 tag-link-position-7" style="font-size: 14px;">vps</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e7%bd%91%e7%ab%99/" class="tag-cloud-link tag-link-5 tag-link-position-8" style="font-size: 14px;">网站</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/ubuntu/" class="tag-cloud-link tag-link-34 tag-link-position-9" style="font-size: 14px;">ubuntu</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e5%bc%80%e5%a7%8b/" class="tag-cloud-link tag-link-69 tag-link-position-10" style="font-size: 14px;">开始</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e7%94%b5%e8%84%91/" class="tag-cloud-link tag-link-11 tag-link-position-11" style="font-size: 14px;">电脑</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/pt/" class="tag-cloud-link tag-link-9 tag-link-position-12" style="font-size: 14px;">pt</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e4%b8%8b%e8%bd%bd/" class="tag-cloud-link tag-link-21 tag-link-position-13" style="font-size: 14px;">下载</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/amp/" class="tag-cloud-link tag-link-43 tag-link-position-14" style="font-size: 14px;">amp</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e9%82%ae%e4%bb%b6/" class="tag-cloud-link tag-link-16 tag-link-position-15" style="font-size: 14px;">邮件</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e5%8d%9a%e5%ae%a2/" class="tag-cloud-link tag-link-4 tag-link-position-16" style="font-size: 14px;">博客</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/linux/" class="tag-cloud-link tag-link-33 tag-link-position-17" style="font-size: 14px;">linux</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e8%b7%af%e7%94%b1%e5%99%a8/" class="tag-cloud-link tag-link-77 tag-link-position-18" style="font-size: 14px;">路由器</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/%e8%84%9a%e6%9c%ac/" class="tag-cloud-link tag-link-36 tag-link-position-19" style="font-size: 14px;">脚本</a>
<a href="https://shusanjing.github.io/wp/wp2static/p/tag/wordpress/" class="tag-cloud-link tag-link-3 tag-link-position-20" style="font-size: 14px;">wordpress</a>	<div class="clear"></div>
	</div>

<div class="clear"></div></aside>	</div>
	<div class="clear"></div>
</div>

				
				<nav class="nav-single wow fadeInUp" data-wow-delay="0.3s">
					<a href="https://shusanjing.github.io/wp/wp2static/p/1533/" rel="prev"><span class="meta-nav"><span class="post-nav"><i class="fa fa-angle-left"></i> 上一篇</span><br/>插件:[导致删除文章60秒]失效链接检查器(Broken Link Checker)</span></a><a href="https://shusanjing.github.io/wp/wp2static/p/1641/" rel="next"><span class="meta-nav"><span class="post-nav">下一篇 <i class="fa fa-angle-right"></i></span><br/>禁用 medium_large_size_w参数 禁止WordPress自动生成768宽度缩略图</span></a>					<div class="clear"></div>
				</nav>

				
	<nav class="navigation post-navigation" aria-label="文章">
		<h2 class="screen-reader-text">文章导航</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://shusanjing.github.io/wp/wp2static/p/1533/" rel="prev"><span class="meta-nav-r" aria-hidden="true"><i class="fa fa-angle-left"></i></span></a></div><div class="nav-next"><a href="https://shusanjing.github.io/wp/wp2static/p/1641/" rel="next"><span class="meta-nav-l" aria-hidden="true"><i class="fa fa-angle-right"></i></span></a></div></div>
	</nav>
				
			
		</main><!-- .site-main -->
	</div><!-- .content-area -->

<div id="sidebar" class="widget-area all-sidebar">

	
	
			<aside id="toc-widget-3" class="widget toc_widget wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><i class="fa fa-bars"></i>本篇目录</h3><ul class="toc_widget_list no_bullets"><li><a href="#i"><span class="toc_number toc_depth_1">1</span> 概述</a></li><li><a href="#mutt"><span class="toc_number toc_depth_1">2</span> 安装mutt邮件发送服务</a></li><li><a href="#7z"><span class="toc_number toc_depth_1">3</span> 安装7z压缩</a></li><li><a href="#MySQL"><span class="toc_number toc_depth_1">4</span> 导出MySQL数据库测试</a></li><li><a href="#backup2mailsh"><span class="toc_number toc_depth_1">5</span> backup2mail.sh脚本</a><ul><li><a href="#7znbspnbspbackup2mailsh"><span class="toc_number toc_depth_2">5.1</span> 推荐脚本(7z压缩方式&nbsp;)&nbsp;backup2mail.sh</a></li><li><a href="#zip"><span class="toc_number toc_depth_2">5.2</span> 脚本二(zip压缩方式)</a></li><li><a href="#zipnbsp"><span class="toc_number toc_depth_2">5.3</span> 脚本三(zip压缩方式.不含数据库)&nbsp;</a></li><li><a href="#tar"><span class="toc_number toc_depth_2">5.4</span> 脚本四(tar压缩方式.不含数据库)</a></li></ul></li><li><a href="#i-2"><span class="toc_number toc_depth_1">6</span> 参考文献</a><ul><li><a href="#mysqlnbsp"><span class="toc_number toc_depth_2">6.1</span> mysql备份与还原&nbsp;</a></li><li><a href="#LinuxMuttnbsp"><span class="toc_number toc_depth_2">6.2</span> Linux使用Mutt发送邮件/附件&nbsp;</a></li><li><a href="#VPS_nbsp"><span class="toc_number toc_depth_2">6.3</span> VPS 自动备份脚本&nbsp;</a></li><li><a href="#VPS_nbsp-2"><span class="toc_number toc_depth_2">6.4</span> 用邮箱备份VPS的数据 超简易教程&nbsp;</a></li><li><a href="#SHELL"><span class="toc_number toc_depth_2">6.5</span> [SHELL]备份系统文件并邮件发送</a></li><li><a href="#pythonnbsp"><span class="toc_number toc_depth_2">6.6</span> 用python自动备份网站到你的邮件中&nbsp;</a></li><li><a href="#gt"><span class="toc_number toc_depth_2">6.7</span> 压缩&gt;综合相关</a></li><li><a href="#gt7zip"><span class="toc_number toc_depth_2">6.8</span> 压缩&gt;7zip相关文献</a></li><li><a href="#Shell"><span class="toc_number toc_depth_2">6.9</span> Shell相关文献</a></li></ul></li></ul><div class="clear"></div></aside><aside id="zmtabs-4" class="widget widget_zm_tabs wow fadeInUp" data-wow-delay="0.3s">
<div class="zm-tabs-nav group tab-count-4"><span class="zm-tab tab-recent"><a href="#tab-recent-4" title="最新文章"><i class="fa fa-sticky-note-o"></i><span>最新文章</span></a></span><span class="zm-tab tab-popular"><a href="#tab-popular-4" title="热评文章"><i class="fa fa-heart-o"></i><span>热评文章</span></a></span><span class="zm-tab tab-viewe"><a href="#tab-viewe-4" title="热门文章"><i class="fa fa-bookmark-o"></i><span>热门文章</span></a></span><span class="zm-tab tab-comments"><a href="#tab-comments-4" title="最近留言"><i class="fa fa-comment-o"></i><span>最近留言</span></a></span></div>
	<div class="zm-tabs-container">

		
						
			<div class="new_cat">
				<ul id="tab-recent-4" class="zm-tab group " style="display:block;">
				<h4>最新文章</h4>
										<li>
												<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2169/" rel="bookmark">UPS无通讯功能Windows停电自动关机脚本</a></span>
						<span class="date">02/28</span>
						<span class="views"><i class="fa fa-eye"></i> 20 views</span>					</li>
														</ul><!--/.zm-tab-->
			</div>
		
		
			
			<div class="new_cat">
				<ul id="tab-popular-4" class="zm-tab group ">
				<h4>热评文章</h4>
										<li>
												<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2138/" rel="bookmark">手机改装无电池工作(法拉电容替代电池)[教程]</a></span>
						<span class="date">12/22</span>
						<span class="views"><i class="fa fa-eye"></i> 2,739 views</span>					</li>
														</ul><!--/.zm-tab-->
			</div>
		
		
			<ul id="tab-viewe-4" class="zm-tab group">
				<h4>热门文章</h4>
			     
			    <li><span class='li-icon li-icon-1'>1</span><a href="https://shusanjing.github.io/wp/wp2static/p/2162/">PrimoCache激活工具测试有效性</a></li><li><span class='li-icon li-icon-2'>2</span><a href="https://shusanjing.github.io/wp/wp2static/p/2169/">UPS无通讯功能Windows停电自动关机脚本</a></li>			    							</ul>

		
		
						<div class="message-tab message-widget">
				<ul>
				<h4>最近留言</h4>
												<li>
								<a href="https://shusanjing.github.io/wp/wp2static/p/2138/#anchor-comment-2" title="手机改装无电池工作(法拉电容替代电池)[教程]" rel="external nofollow">
									<img src="https://secure.gravatar.com/avatar/38d5afa82294015541a86339ac95259b?s=128&d=mm" alt="avatar" class="avatar avatar-128" height="128" width="128">									<span class="comment_author"><strong>Fox</strong></span>
									你好，想请教下，如果用容量更大的超级电容（大于1.0F ），会不会带来更长的亮屏时间？								</a>
							</li>
											</ul>
			</div>
		
	</div>

<div class="clear"></div></aside>
	
	</div>

<div class="clear"></div>	</div><!-- .site-content -->

	<div class="clear"></div>
	
	<div id="footer-widget-box" class="site-footer wow fadeInUp" data-wow-delay="0.3s">
	<div class="footer-widget">
		<aside id="img_cat-2" class="widget img_cat wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><span class="s-icon"></span>分类图片</h3>
<div class="picture img_cat">
		<span class="img-box">
		<span class="img-x2">
			<span class="insets">
				<span class="img-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2169/" rel="bookmark">UPS无通讯功能Windows停电自动关机脚本</a></span>
				<a href="https://shusanjing.github.io/wp/wp2static/p/2169/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/timthumb.php?src=https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2022/02/089f6f9d29ac74a5765be5878041d794_cfa8a76a-c88b-4b0d-adad-633e6e1d382e.jpg&w=280&h=210&a=&zc=1" alt="UPS无通讯功能Windows停电自动关机脚本" /></a>			</span>
		</span>
	</span>
		<span class="img-box">
		<span class="img-x2">
			<span class="insets">
				<span class="img-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2162/" rel="bookmark">PrimoCache激活工具测试有效性</a></span>
				<a href="https://shusanjing.github.io/wp/wp2static/p/2162/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/timthumb.php?src=https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2022/02/013b123ddb107b62e413fd09f9a2207e_a0532c64-f385-4f2b-b614-c0239a9cd349.png&w=280&h=210&a=&zc=1" alt="PrimoCache激活工具测试有效性" /></a>			</span>
		</span>
	</span>
		<span class="img-box">
		<span class="img-x2">
			<span class="insets">
				<span class="img-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2151/" rel="bookmark">windows开机启动文件夹在哪里</a></span>
				<a href="https://shusanjing.github.io/wp/wp2static/p/2151/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/13.jpg" alt="windows开机启动文件夹在哪里" /></a>			</span>
		</span>
	</span>
		<span class="img-box">
		<span class="img-x2">
			<span class="insets">
				<span class="img-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2148/" rel="bookmark">windows自定义快速启动（运行）命令</a></span>
				<a href="https://shusanjing.github.io/wp/wp2static/p/2148/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/18.jpg" alt="windows自定义快速启动（运行）命令" /></a>			</span>
		</span>
	</span>
			<div class="clear"></div>
</div>

<div class="clear"></div></aside><aside id="new_cat-3" class="widget new_cat wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><span class="s-icon"></span>最新文章</h3>
<div class="new_cat">
	<ul>
				<li>
			<span class="thumbnail">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2169/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/timthumb.php?src=https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2022/02/089f6f9d29ac74a5765be5878041d794_cfa8a76a-c88b-4b0d-adad-633e6e1d382e.jpg&w=280&h=210&a=&zc=1" alt="UPS无通讯功能Windows停电自动关机脚本" /></a>			</span>
			<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2169/" rel="bookmark">UPS无通讯功能Windows停电自动关机脚本</a></span>
			<span class="date">02/28</span>
			<span class="views"><i class="fa fa-eye"></i> 20 views</span>		</li>
				<li>
			<span class="thumbnail">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2162/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/timthumb.php?src=https://shusanjing.github.io/wp/wp2static/wp-content/uploads/2022/02/013b123ddb107b62e413fd09f9a2207e_a0532c64-f385-4f2b-b614-c0239a9cd349.png&w=280&h=210&a=&zc=1" alt="PrimoCache激活工具测试有效性" /></a>			</span>
			<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2162/" rel="bookmark">PrimoCache激活工具测试有效性</a></span>
			<span class="date">02/28</span>
			<span class="views"><i class="fa fa-eye"></i> 20 views</span>		</li>
				<li>
			<span class="thumbnail">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2151/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/7.jpg" alt="windows开机启动文件夹在哪里" /></a>			</span>
			<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2151/" rel="bookmark">windows开机启动文件夹在哪里</a></span>
			<span class="date">03/03</span>
			<span class="views"><i class="fa fa-eye"></i> 465 views</span>		</li>
				<li>
			<span class="thumbnail">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2148/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/20.jpg" alt="windows自定义快速启动（运行）命令" /></a>			</span>
			<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2148/" rel="bookmark">windows自定义快速启动（运行）命令</a></span>
			<span class="date">03/03</span>
			<span class="views"><i class="fa fa-eye"></i> 378 views</span>		</li>
				<li>
			<span class="thumbnail">
				<a href="https://shusanjing.github.io/wp/wp2static/p/2140/"><img src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/img/random/2.jpg" alt="Faststone Capture使用优化设置" /></a>			</span>
			<span class="new-title"><a href="https://shusanjing.github.io/wp/wp2static/p/2140/" rel="bookmark">Faststone Capture使用优化设置</a></span>
			<span class="date">01/10</span>
			<span class="views"><i class="fa fa-eye"></i> 445 views</span>		</li>
					</ul>
</div>

<div class="clear"></div></aside>		<div class="clear"></div>
	</div>
</div>

	<footer id="colophon" class="site-footer wow fadeInUp" data-wow-delay="0.3s" role="contentinfo">
		<div class="site-info">
			Copyright ©  逻辑门  版权所有.			<span class="add-info">
											</span>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->
<div id="login">
	
	<div id="login-tab" class="login-tab-product">
	    <h2 class="login-tab-hd">
			<span class="login-tab-hd-con"><a href="javascript:">登录</a></span>
									<span class="login-tab-hd-con"><a href="javascript:">找回密码</a></span>	    </h2>
	
		<div class="login-tab-bd login-dom-display">
			<div class="login-tab-bd-con login-current">
				<div id="tab1_login" class="tab_content_login">
					<form method="post" action="https://shusanjing.github.io/wp/wp2static/wp-login.php" class="wp-user-form">
						<div class="username">
							<label for="user_login">用户名</label>
							<input type="text" name="log" value="" size="20" id="user_login" tabindex="11" />
						</div>
						<div class="password">
							<label for="user_pass">密码</label>
							<input type="password" name="pwd" value="" size="20" id="user_pass" tabindex="12" />
						</div>
						<div class="login-form"></div>
						<div class="login_fields">
							<div class="rememberme">
								<label for="rememberme">
									<input type="checkbox" name="rememberme" value="forever" checked="checked" id="rememberme" tabindex="13" />记住我的登录信息								</label>
							</div>
							<input type="submit" name="user-submit" value="登录" tabindex="14" class="user-submit" />
							<input type="hidden" name="redirect_to" value="/p/1588/" />
							<input type="hidden" name="user-cookie" value="1" />
						</div>
					</form>
				</div>
			</div>

						
						<div class="login-tab-bd-con">
				<div id="tab3_login" class="tab_content_login">
					<p class="message">输入用户名或电子邮箱地址，您会收到一封新密码链接的电子邮件。</p>
					<form method="post" action="https://shusanjing.github.io/wp/wp2static/wp-login.php?action=lostpassword" class="wp-user-form">
						<div class="username">
							<label for="user_login" class="hide">用户名或电子邮件地址</label>
							<input type="text" name="user_login" value="" size="20" id="user_login" tabindex="1001" />
						</div>
						<div class="login_fields">
							<div class="login-form"></div>
							<input type="submit" name="user-submit" value="获取新密码" class="user-submit" tabindex="1002" />
														<input type="hidden" name="redirect_to" value="/p/1588/?reset=true" />
							<input type="hidden" name="user-cookie" value="1" />
						</div>
					</form>
				</div>
			</div>
			
		</div>
	</div>

	</div>



<ul id="scroll">
	<li class="log log-no"><a class="log-button" title="文章目录"><i class="fa fa-bars"></i></a><div class="log-prompt"><div class="log-arrow">文章目录</div></div></li>
	<li><a class="scroll-h" title="返回顶部"><i class="fa fa-angle-up"></i></a></li>
	<li><a class="scroll-c" title="评论"><i class="fa fa-comment-o"></i></a></li>	<li><a class="scroll-b" title="转到底部"><i class="fa fa-angle-down"></i></a></li>
	<li class="gb2-site"><a id="gb2big5"><span>繁</span></a></li>				<li class="qr-site"><a href="javascript:void(0)" class="qr" title="本页二维码"><i class="fa fa-qrcode"></i><span class="qr-img"><span id="output"><img class="alignnone" src="" alt="icon"/></span><span class="arrow arrow-z"><i class="fa fa-caret-right"></i></span><span class="arrow arrow-y"><i class="fa fa-caret-right"></i></span></span></a></li>
		<script type="text/javascript">$(document).ready(function(){if(!+[1,]){present="table";} else {present="canvas";}$('#output').qrcode({render:present,text:window.location.href,width:"150",height:"150"});});</script>
	</ul>

</div><!-- .site -->

<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>
    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip">
                </div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div><script type="text/javascript" src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/qaptcha.jquery.js"></script>
<script type="text/javascript">var QaptchaJqueryPage="https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/inc/qaptcha.jquery.php"</script>
<script type="text/javascript">$(document).ready(function(){$('.qaptcha').QapTcha();});</script>
<script type='text/javascript' id='toc-front-js-extra'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/plugins/table-of-contents-plus/front.min.js?ver=2002' id='toc-front-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/getqqinfo.js?ver=2017.05.10' id='qqinfo-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/superfish.js?ver=2017.05.10' id='superfish-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/gb2big5.js?ver=2017.05.10' id='gb2big5-js'></script>
<script type='text/javascript' src='https://shusanjing.github.io/wp/wp2static/wp-content/themes/begin/js/carousel.min.js?ver=2017.05.10' id='carousel-js'></script>

</body>
</html>